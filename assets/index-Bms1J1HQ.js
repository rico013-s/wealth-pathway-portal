var CD=t=>{throw TypeError(t)};var FA=(t,e,n)=>e.has(t)||CD("Cannot "+n);var Ae=(t,e,n)=>(FA(t,e,"read from private field"),n?n.call(t):e.get(t)),on=(t,e,n)=>e.has(t)?CD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Bt=(t,e,n,r)=>(FA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Yr=(t,e,n)=>(FA(t,e,"access private method"),n);var rx=(t,e,n,r)=>({set _(i){Bt(t,e,i,n)},get _(){return Ae(t,e,r)}});function m5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LQ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var g5={exports:{}},y1={},v5={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y=Symbol.for("react.element"),DQ=Symbol.for("react.portal"),jQ=Symbol.for("react.fragment"),UQ=Symbol.for("react.strict_mode"),FQ=Symbol.for("react.profiler"),BQ=Symbol.for("react.provider"),zQ=Symbol.for("react.context"),$Q=Symbol.for("react.forward_ref"),HQ=Symbol.for("react.suspense"),VQ=Symbol.for("react.memo"),WQ=Symbol.for("react.lazy"),OD=Symbol.iterator;function GQ(t){return t===null||typeof t!="object"?null:(t=OD&&t[OD]||t["@@iterator"],typeof t=="function"?t:null)}var y5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x5=Object.assign,b5={};function Ep(t,e,n){this.props=t,this.context=e,this.refs=b5,this.updater=n||y5}Ep.prototype.isReactComponent={};Ep.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ep.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _5(){}_5.prototype=Ep.prototype;function l2(t,e,n){this.props=t,this.context=e,this.refs=b5,this.updater=n||y5}var c2=l2.prototype=new _5;c2.constructor=l2;x5(c2,Ep.prototype);c2.isPureReactComponent=!0;var RD=Array.isArray,w5=Object.prototype.hasOwnProperty,u2={current:null},S5={key:!0,ref:!0,__self:!0,__source:!0};function E5(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)w5.call(e,r)&&!S5.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:_y,type:t,key:o,ref:a,props:i,_owner:u2.current}}function qQ(t,e){return{$$typeof:_y,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function d2(t){return typeof t=="object"&&t!==null&&t.$$typeof===_y}function XQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ND=/\/+/g;function BA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XQ(""+t.key):e.toString(36)}function Yb(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _y:case DQ:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+BA(a,0):r,RD(i)?(n="",t!=null&&(n=t.replace(ND,"$&/")+"/"),Yb(i,e,n,"",function(c){return c})):i!=null&&(d2(i)&&(i=qQ(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ND,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",RD(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+BA(o,s);a+=Yb(o,e,n,l,i)}else if(l=GQ(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+BA(o,s++),a+=Yb(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ox(t,e,n){if(t==null)return t;var r=[],i=0;return Yb(t,r,"","",function(o){return e.call(n,o,i++)}),r}function KQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ii={current:null},Jb={transition:null},YQ={ReactCurrentDispatcher:Ii,ReactCurrentBatchConfig:Jb,ReactCurrentOwner:u2};function A5(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:ox,forEach:function(t,e,n){ox(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ox(t,function(){e++}),e},toArray:function(t){return ox(t,function(e){return e})||[]},only:function(t){if(!d2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=Ep;Wt.Fragment=jQ;Wt.Profiler=FQ;Wt.PureComponent=l2;Wt.StrictMode=UQ;Wt.Suspense=HQ;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YQ;Wt.act=A5;Wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=x5({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=u2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)w5.call(e,l)&&!S5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:_y,type:t.type,key:i,ref:o,props:r,_owner:a}};Wt.createContext=function(t){return t={$$typeof:zQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BQ,_context:t},t.Consumer=t};Wt.createElement=E5;Wt.createFactory=function(t){var e=E5.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:$Q,render:t}};Wt.isValidElement=d2;Wt.lazy=function(t){return{$$typeof:WQ,_payload:{_status:-1,_result:t},_init:KQ}};Wt.memo=function(t,e){return{$$typeof:VQ,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=Jb.transition;Jb.transition={};try{t()}finally{Jb.transition=e}};Wt.unstable_act=A5;Wt.useCallback=function(t,e){return Ii.current.useCallback(t,e)};Wt.useContext=function(t){return Ii.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return Ii.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return Ii.current.useEffect(t,e)};Wt.useId=function(){return Ii.current.useId()};Wt.useImperativeHandle=function(t,e,n){return Ii.current.useImperativeHandle(t,e,n)};Wt.useInsertionEffect=function(t,e){return Ii.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return Ii.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return Ii.current.useMemo(t,e)};Wt.useReducer=function(t,e,n){return Ii.current.useReducer(t,e,n)};Wt.useRef=function(t){return Ii.current.useRef(t)};Wt.useState=function(t){return Ii.current.useState(t)};Wt.useSyncExternalStore=function(t,e,n){return Ii.current.useSyncExternalStore(t,e,n)};Wt.useTransition=function(){return Ii.current.useTransition()};Wt.version="18.3.1";v5.exports=Wt;var C=v5.exports;const V=rn(C),T5=m5({__proto__:null,default:V},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JQ=C,ZQ=Symbol.for("react.element"),QQ=Symbol.for("react.fragment"),eee=Object.prototype.hasOwnProperty,tee=JQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nee={key:!0,ref:!0,__self:!0,__source:!0};function M5(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)eee.call(e,r)&&!nee.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZQ,type:t,key:o,ref:a,props:i,_owner:tee.current}}y1.Fragment=QQ;y1.jsx=M5;y1.jsxs=M5;g5.exports=y1;var w=g5.exports,P5={exports:{}},Po={},C5={exports:{}},O5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,F){var $=k.length;k.push(F);e:for(;0<$;){var q=$-1>>>1,Z=k[q];if(0<i(Z,F))k[q]=F,k[$]=Z,$=q;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var F=k[0],$=k.pop();if($!==F){k[0]=$;e:for(var q=0,Z=k.length,ee=Z>>>1;q<ee;){var ne=2*(q+1)-1,ye=k[ne],xe=ne+1,le=k[xe];if(0>i(ye,$))xe<Z&&0>i(le,ye)?(k[q]=le,k[xe]=$,q=xe):(k[q]=ye,k[ne]=$,q=ne);else if(xe<Z&&0>i(le,$))k[q]=le,k[xe]=$,q=xe;else break e}}return F}function i(k,F){var $=k.sortIndex-F.sortIndex;return $!==0?$:k.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(k){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=k)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function S(k){if(y=!1,_(k),!g)if(n(l)!==null)g=!0,H(A);else{var F=n(c);F!==null&&Y(S,F.startTime-k)}}function A(k,F){g=!1,y&&(y=!1,v(N),N=-1),p=!0;var $=f;try{for(_(F),d=n(l);d!==null&&(!(d.expirationTime>F)||k&&!D());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var Z=q(d.expirationTime<=F);F=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),_(F)}else r(l);d=n(l)}if(d!==null)var ee=!0;else{var ne=n(c);ne!==null&&Y(S,ne.startTime-F),ee=!1}return ee}finally{d=null,f=$,p=!1}}var M=!1,P=null,N=-1,R=5,I=-1;function D(){return!(t.unstable_now()-I<R)}function U(){if(P!==null){var k=t.unstable_now();I=k;var F=!0;try{F=P(!0,k)}finally{F?X():(M=!1,P=null)}}else M=!1}var X;if(typeof b=="function")X=function(){b(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,W=j.port2;j.port1.onmessage=U,X=function(){W.postMessage(null)}}else X=function(){x(U,0)};function H(k){P=k,M||(M=!0,X())}function Y(k,F){N=x(function(){k(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,H(A))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var $=f;f=F;try{return k()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=f;f=k;try{return F()}finally{f=$}},t.unstable_scheduleCallback=function(k,F,$){var q=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?q+$:q):$=q,k){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=$+Z,k={id:u++,callback:F,priorityLevel:k,startTime:$,expirationTime:Z,sortIndex:-1},$>q?(k.sortIndex=$,e(c,k),n(l)===null&&k===n(c)&&(y?(v(N),N=-1):y=!0,Y(S,$-q))):(k.sortIndex=Z,e(l,k),g||p||(g=!0,H(A))),k},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(k){var F=f;return function(){var $=f;f=F;try{return k.apply(this,arguments)}finally{f=$}}}})(O5);C5.exports=O5;var ree=C5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iee=C,Mo=ree;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R5=new Set,Bg={};function Td(t,e){Dh(t,e),Dh(t+"Capture",e)}function Dh(t,e){for(Bg[t]=e,t=0;t<e.length;t++)R5.add(e[t])}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lP=Object.prototype.hasOwnProperty,oee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ID={},kD={};function aee(t){return lP.call(kD,t)?!0:lP.call(ID,t)?!1:oee.test(t)?kD[t]=!0:(ID[t]=!0,!1)}function see(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lee(t,e,n,r){if(e===null||typeof e>"u"||see(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ki(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wr[t]=new ki(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wr[e]=new ki(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wr[t]=new ki(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wr[t]=new ki(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wr[t]=new ki(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wr[t]=new ki(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wr[t]=new ki(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wr[t]=new ki(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wr[t]=new ki(t,5,!1,t.toLowerCase(),null,!1,!1)});var f2=/[\-:]([a-z])/g;function h2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(f2,h2);Wr[e]=new ki(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(f2,h2);Wr[e]=new ki(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(f2,h2);Wr[e]=new ki(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wr[t]=new ki(t,1,!1,t.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wr[t]=new ki(t,1,!1,t.toLowerCase(),null,!0,!0)});function p2(t,e,n,r){var i=Wr.hasOwnProperty(e)?Wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lee(e,n,i,r)&&(n=null),r||i===null?aee(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yl=iee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ax=Symbol.for("react.element"),Vf=Symbol.for("react.portal"),Wf=Symbol.for("react.fragment"),m2=Symbol.for("react.strict_mode"),cP=Symbol.for("react.profiler"),N5=Symbol.for("react.provider"),I5=Symbol.for("react.context"),g2=Symbol.for("react.forward_ref"),uP=Symbol.for("react.suspense"),dP=Symbol.for("react.suspense_list"),v2=Symbol.for("react.memo"),Gl=Symbol.for("react.lazy"),k5=Symbol.for("react.offscreen"),LD=Symbol.iterator;function Em(t){return t===null||typeof t!="object"?null:(t=LD&&t[LD]||t["@@iterator"],typeof t=="function"?t:null)}var Bn=Object.assign,zA;function og(t){if(zA===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zA=e&&e[1]||""}return`
`+zA+t}var $A=!1;function HA(t,e){if(!t||$A)return"";$A=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{$A=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?og(t):""}function cee(t){switch(t.tag){case 5:return og(t.type);case 16:return og("Lazy");case 13:return og("Suspense");case 19:return og("SuspenseList");case 0:case 2:case 15:return t=HA(t.type,!1),t;case 11:return t=HA(t.type.render,!1),t;case 1:return t=HA(t.type,!0),t;default:return""}}function fP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wf:return"Fragment";case Vf:return"Portal";case cP:return"Profiler";case m2:return"StrictMode";case uP:return"Suspense";case dP:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case I5:return(t.displayName||"Context")+".Consumer";case N5:return(t._context.displayName||"Context")+".Provider";case g2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case v2:return e=t.displayName||null,e!==null?e:fP(t.type)||"Memo";case Gl:e=t._payload,t=t._init;try{return fP(t(e))}catch{}}return null}function uee(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fP(e);case 8:return e===m2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ac(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dee(t){var e=L5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sx(t){t._valueTracker||(t._valueTracker=dee(t))}function D5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=L5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function A_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hP(t,e){var n=e.checked;return Bn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function DD(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ac(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j5(t,e){e=e.checked,e!=null&&p2(t,"checked",e,!1)}function pP(t,e){j5(t,e);var n=Ac(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mP(t,e.type,n):e.hasOwnProperty("defaultValue")&&mP(t,e.type,Ac(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jD(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mP(t,e,n){(e!=="number"||A_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ag=Array.isArray;function fh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ac(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return Bn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UD(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ne(92));if(ag(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ac(n)}}function U5(t,e){var n=Ac(e.value),r=Ac(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function FD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lx,B5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lx=lx||document.createElement("div"),lx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lx.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fee=["Webkit","ms","Moz","O"];Object.keys(pg).forEach(function(t){fee.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pg[e]=pg[t]})});function z5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pg.hasOwnProperty(t)&&pg[t]?(""+e).trim():e+"px"}function $5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hee=Bn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yP(t,e){if(e){if(hee[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function xP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bP=null;function y2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _P=null,hh=null,ph=null;function BD(t){if(t=Ey(t)){if(typeof _P!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=S1(e),_P(t.stateNode,t.type,e))}}function H5(t){hh?ph?ph.push(t):ph=[t]:hh=t}function V5(){if(hh){var t=hh,e=ph;if(ph=hh=null,BD(t),e)for(t=0;t<e.length;t++)BD(e[t])}}function W5(t,e){return t(e)}function G5(){}var VA=!1;function q5(t,e,n){if(VA)return t(e,n);VA=!0;try{return W5(t,e,n)}finally{VA=!1,(hh!==null||ph!==null)&&(G5(),V5())}}function $g(t,e){var n=t.stateNode;if(n===null)return null;var r=S1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ne(231,e,typeof n));return n}var wP=!1;if(al)try{var Am={};Object.defineProperty(Am,"passive",{get:function(){wP=!0}}),window.addEventListener("test",Am,Am),window.removeEventListener("test",Am,Am)}catch{wP=!1}function pee(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var mg=!1,T_=null,M_=!1,SP=null,mee={onError:function(t){mg=!0,T_=t}};function gee(t,e,n,r,i,o,a,s,l){mg=!1,T_=null,pee.apply(mee,arguments)}function vee(t,e,n,r,i,o,a,s,l){if(gee.apply(this,arguments),mg){if(mg){var c=T_;mg=!1,T_=null}else throw Error(Ne(198));M_||(M_=!0,SP=c)}}function Md(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zD(t){if(Md(t)!==t)throw Error(Ne(188))}function yee(t){var e=t.alternate;if(!e){if(e=Md(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return zD(i),t;if(o===r)return zD(i),e;o=o.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?t:e}function K5(t){return t=yee(t),t!==null?Y5(t):null}function Y5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y5(t);if(e!==null)return e;t=t.sibling}return null}var J5=Mo.unstable_scheduleCallback,$D=Mo.unstable_cancelCallback,xee=Mo.unstable_shouldYield,bee=Mo.unstable_requestPaint,er=Mo.unstable_now,_ee=Mo.unstable_getCurrentPriorityLevel,x2=Mo.unstable_ImmediatePriority,Z5=Mo.unstable_UserBlockingPriority,P_=Mo.unstable_NormalPriority,wee=Mo.unstable_LowPriority,Q5=Mo.unstable_IdlePriority,x1=null,ls=null;function See(t){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(x1,t,void 0,(t.current.flags&128)===128)}catch{}}var Ia=Math.clz32?Math.clz32:Tee,Eee=Math.log,Aee=Math.LN2;function Tee(t){return t>>>=0,t===0?32:31-(Eee(t)/Aee|0)|0}var cx=64,ux=4194304;function sg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function C_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=sg(s):(o&=a,o!==0&&(r=sg(o)))}else a=n&~i,a!==0?r=sg(a):o!==0&&(r=sg(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ia(e),i=1<<n,r|=t[n],e&=~i;return r}function Mee(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pee(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Ia(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Mee(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function EP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e8(){var t=cx;return cx<<=1,!(cx&4194240)&&(cx=64),t}function WA(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wy(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ia(e),t[e]=n}function Cee(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ia(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function b2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ia(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var cn=0;function t8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n8,_2,r8,i8,o8,AP=!1,dx=[],uc=null,dc=null,fc=null,Hg=new Map,Vg=new Map,Yl=[],Oee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HD(t,e){switch(t){case"focusin":case"focusout":uc=null;break;case"dragenter":case"dragleave":dc=null;break;case"mouseover":case"mouseout":fc=null;break;case"pointerover":case"pointerout":Hg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vg.delete(e.pointerId)}}function Tm(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ey(e),e!==null&&_2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ree(t,e,n,r,i){switch(e){case"focusin":return uc=Tm(uc,t,e,n,r,i),!0;case"dragenter":return dc=Tm(dc,t,e,n,r,i),!0;case"mouseover":return fc=Tm(fc,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hg.set(o,Tm(Hg.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vg.set(o,Tm(Vg.get(o)||null,t,e,n,r,i)),!0}return!1}function a8(t){var e=ju(t.target);if(e!==null){var n=Md(e);if(n!==null){if(e=n.tag,e===13){if(e=X5(n),e!==null){t.blockedOn=e,o8(t.priority,function(){r8(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=TP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bP=r,n.target.dispatchEvent(r),bP=null}else return e=Ey(n),e!==null&&_2(e),t.blockedOn=n,!1;e.shift()}return!0}function VD(t,e,n){Zb(t)&&n.delete(e)}function Nee(){AP=!1,uc!==null&&Zb(uc)&&(uc=null),dc!==null&&Zb(dc)&&(dc=null),fc!==null&&Zb(fc)&&(fc=null),Hg.forEach(VD),Vg.forEach(VD)}function Mm(t,e){t.blockedOn===e&&(t.blockedOn=null,AP||(AP=!0,Mo.unstable_scheduleCallback(Mo.unstable_NormalPriority,Nee)))}function Wg(t){function e(i){return Mm(i,t)}if(0<dx.length){Mm(dx[0],t);for(var n=1;n<dx.length;n++){var r=dx[n];r.blockedOn===t&&(r.blockedOn=null)}}for(uc!==null&&Mm(uc,t),dc!==null&&Mm(dc,t),fc!==null&&Mm(fc,t),Hg.forEach(e),Vg.forEach(e),n=0;n<Yl.length;n++)r=Yl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yl.length&&(n=Yl[0],n.blockedOn===null);)a8(n),n.blockedOn===null&&Yl.shift()}var mh=yl.ReactCurrentBatchConfig,O_=!0;function Iee(t,e,n,r){var i=cn,o=mh.transition;mh.transition=null;try{cn=1,w2(t,e,n,r)}finally{cn=i,mh.transition=o}}function kee(t,e,n,r){var i=cn,o=mh.transition;mh.transition=null;try{cn=4,w2(t,e,n,r)}finally{cn=i,mh.transition=o}}function w2(t,e,n,r){if(O_){var i=TP(t,e,n,r);if(i===null)tT(t,e,r,R_,n),HD(t,r);else if(Ree(i,t,e,n,r))r.stopPropagation();else if(HD(t,r),e&4&&-1<Oee.indexOf(t)){for(;i!==null;){var o=Ey(i);if(o!==null&&n8(o),o=TP(t,e,n,r),o===null&&tT(t,e,r,R_,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else tT(t,e,r,null,n)}}var R_=null;function TP(t,e,n,r){if(R_=null,t=y2(r),t=ju(t),t!==null)if(e=Md(t),e===null)t=null;else if(n=e.tag,n===13){if(t=X5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return R_=t,null}function s8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_ee()){case x2:return 1;case Z5:return 4;case P_:case wee:return 16;case Q5:return 536870912;default:return 16}default:return 16}}var ac=null,S2=null,Qb=null;function l8(){if(Qb)return Qb;var t,e=S2,n=e.length,r,i="value"in ac?ac.value:ac.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Qb=i.slice(t,1<r?1-r:void 0)}function e_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fx(){return!0}function WD(){return!1}function Co(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fx:WD,this.isPropagationStopped=WD,this}return Bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fx)},persist:function(){},isPersistent:fx}),e}var Ap={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E2=Co(Ap),Sy=Bn({},Ap,{view:0,detail:0}),Lee=Co(Sy),GA,qA,Pm,b1=Bn({},Sy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pm&&(Pm&&t.type==="mousemove"?(GA=t.screenX-Pm.screenX,qA=t.screenY-Pm.screenY):qA=GA=0,Pm=t),GA)},movementY:function(t){return"movementY"in t?t.movementY:qA}}),GD=Co(b1),Dee=Bn({},b1,{dataTransfer:0}),jee=Co(Dee),Uee=Bn({},Sy,{relatedTarget:0}),XA=Co(Uee),Fee=Bn({},Ap,{animationName:0,elapsedTime:0,pseudoElement:0}),Bee=Co(Fee),zee=Bn({},Ap,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$ee=Co(zee),Hee=Bn({},Ap,{data:0}),qD=Co(Hee),Vee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qee(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gee[t])?!!e[t]:!1}function A2(){return qee}var Xee=Bn({},Sy,{key:function(t){if(t.key){var e=Vee[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=e_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A2,charCode:function(t){return t.type==="keypress"?e_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?e_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kee=Co(Xee),Yee=Bn({},b1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XD=Co(Yee),Jee=Bn({},Sy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A2}),Zee=Co(Jee),Qee=Bn({},Ap,{propertyName:0,elapsedTime:0,pseudoElement:0}),ete=Co(Qee),tte=Bn({},b1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nte=Co(tte),rte=[9,13,27,32],T2=al&&"CompositionEvent"in window,gg=null;al&&"documentMode"in document&&(gg=document.documentMode);var ite=al&&"TextEvent"in window&&!gg,c8=al&&(!T2||gg&&8<gg&&11>=gg),KD=" ",YD=!1;function u8(t,e){switch(t){case"keyup":return rte.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gf=!1;function ote(t,e){switch(t){case"compositionend":return d8(e);case"keypress":return e.which!==32?null:(YD=!0,KD);case"textInput":return t=e.data,t===KD&&YD?null:t;default:return null}}function ate(t,e){if(Gf)return t==="compositionend"||!T2&&u8(t,e)?(t=l8(),Qb=S2=ac=null,Gf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c8&&e.locale!=="ko"?null:e.data;default:return null}}var ste={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ste[t.type]:e==="textarea"}function f8(t,e,n,r){H5(r),e=N_(e,"onChange"),0<e.length&&(n=new E2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vg=null,Gg=null;function lte(t){S8(t,0)}function _1(t){var e=Kf(t);if(D5(e))return t}function cte(t,e){if(t==="change")return e}var h8=!1;if(al){var KA;if(al){var YA="oninput"in document;if(!YA){var ZD=document.createElement("div");ZD.setAttribute("oninput","return;"),YA=typeof ZD.oninput=="function"}KA=YA}else KA=!1;h8=KA&&(!document.documentMode||9<document.documentMode)}function QD(){vg&&(vg.detachEvent("onpropertychange",p8),Gg=vg=null)}function p8(t){if(t.propertyName==="value"&&_1(Gg)){var e=[];f8(e,Gg,t,y2(t)),q5(lte,e)}}function ute(t,e,n){t==="focusin"?(QD(),vg=e,Gg=n,vg.attachEvent("onpropertychange",p8)):t==="focusout"&&QD()}function dte(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _1(Gg)}function fte(t,e){if(t==="click")return _1(e)}function hte(t,e){if(t==="input"||t==="change")return _1(e)}function pte(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Da=typeof Object.is=="function"?Object.is:pte;function qg(t,e){if(Da(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lP.call(e,i)||!Da(t[i],e[i]))return!1}return!0}function e3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t3(t,e){var n=e3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e3(n)}}function m8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g8(){for(var t=window,e=A_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=A_(t.document)}return e}function M2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mte(t){var e=g8(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m8(n.ownerDocument.documentElement,n)){if(r!==null&&M2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=t3(n,o);var a=t3(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gte=al&&"documentMode"in document&&11>=document.documentMode,qf=null,MP=null,yg=null,PP=!1;function n3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;PP||qf==null||qf!==A_(r)||(r=qf,"selectionStart"in r&&M2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yg&&qg(yg,r)||(yg=r,r=N_(MP,"onSelect"),0<r.length&&(e=new E2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qf)))}function hx(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xf={animationend:hx("Animation","AnimationEnd"),animationiteration:hx("Animation","AnimationIteration"),animationstart:hx("Animation","AnimationStart"),transitionend:hx("Transition","TransitionEnd")},JA={},v8={};al&&(v8=document.createElement("div").style,"AnimationEvent"in window||(delete Xf.animationend.animation,delete Xf.animationiteration.animation,delete Xf.animationstart.animation),"TransitionEvent"in window||delete Xf.transitionend.transition);function w1(t){if(JA[t])return JA[t];if(!Xf[t])return t;var e=Xf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v8)return JA[t]=e[n];return t}var y8=w1("animationend"),x8=w1("animationiteration"),b8=w1("animationstart"),_8=w1("transitionend"),w8=new Map,r3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dc(t,e){w8.set(t,e),Td(e,[t])}for(var ZA=0;ZA<r3.length;ZA++){var QA=r3[ZA],vte=QA.toLowerCase(),yte=QA[0].toUpperCase()+QA.slice(1);Dc(vte,"on"+yte)}Dc(y8,"onAnimationEnd");Dc(x8,"onAnimationIteration");Dc(b8,"onAnimationStart");Dc("dblclick","onDoubleClick");Dc("focusin","onFocus");Dc("focusout","onBlur");Dc(_8,"onTransitionEnd");Dh("onMouseEnter",["mouseout","mouseover"]);Dh("onMouseLeave",["mouseout","mouseover"]);Dh("onPointerEnter",["pointerout","pointerover"]);Dh("onPointerLeave",["pointerout","pointerover"]);Td("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Td("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Td("onBeforeInput",["compositionend","keypress","textInput","paste"]);Td("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Td("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Td("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xte=new Set("cancel close invalid load scroll toggle".split(" ").concat(lg));function i3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vee(r,e,void 0,t),t.currentTarget=null}function S8(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;i3(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;i3(i,s,c),o=l}}}if(M_)throw t=SP,M_=!1,SP=null,t}function An(t,e){var n=e[IP];n===void 0&&(n=e[IP]=new Set);var r=t+"__bubble";n.has(r)||(E8(e,t,2,!1),n.add(r))}function eT(t,e,n){var r=0;e&&(r|=4),E8(n,t,r,e)}var px="_reactListening"+Math.random().toString(36).slice(2);function Xg(t){if(!t[px]){t[px]=!0,R5.forEach(function(n){n!=="selectionchange"&&(xte.has(n)||eT(n,!1,t),eT(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[px]||(e[px]=!0,eT("selectionchange",!1,e))}}function E8(t,e,n,r){switch(s8(e)){case 1:var i=Iee;break;case 4:i=kee;break;default:i=w2}n=i.bind(null,e,n,t),i=void 0,!wP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tT(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ju(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}q5(function(){var c=o,u=y2(n),d=[];e:{var f=w8.get(t);if(f!==void 0){var p=E2,g=t;switch(t){case"keypress":if(e_(n)===0)break e;case"keydown":case"keyup":p=Kee;break;case"focusin":g="focus",p=XA;break;case"focusout":g="blur",p=XA;break;case"beforeblur":case"afterblur":p=XA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=GD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Zee;break;case y8:case x8:case b8:p=Bee;break;case _8:p=ete;break;case"scroll":p=Lee;break;case"wheel":p=nte;break;case"copy":case"cut":case"paste":p=$ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=XD}var y=(e&4)!==0,x=!y&&t==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var b=c,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,v!==null&&(S=$g(b,v),S!=null&&y.push(Kg(b,S,_)))),x)break;b=b.return}0<y.length&&(f=new p(f,g,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==bP&&(g=n.relatedTarget||n.fromElement)&&(ju(g)||g[sl]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?ju(g):null,g!==null&&(x=Md(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=GD,S="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=XD,S="onPointerLeave",v="onPointerEnter",b="pointer"),x=p==null?f:Kf(p),_=g==null?f:Kf(g),f=new y(S,b+"leave",p,n,u),f.target=x,f.relatedTarget=_,S=null,ju(u)===c&&(y=new y(v,b+"enter",g,n,u),y.target=_,y.relatedTarget=x,S=y),x=S,p&&g)t:{for(y=p,v=g,b=0,_=y;_;_=nf(_))b++;for(_=0,S=v;S;S=nf(S))_++;for(;0<b-_;)y=nf(y),b--;for(;0<_-b;)v=nf(v),_--;for(;b--;){if(y===v||v!==null&&y===v.alternate)break t;y=nf(y),v=nf(v)}y=null}else y=null;p!==null&&o3(d,f,p,y,!1),g!==null&&x!==null&&o3(d,x,g,y,!0)}}e:{if(f=c?Kf(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var A=cte;else if(JD(f))if(h8)A=hte;else{A=dte;var M=ute}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=fte);if(A&&(A=A(t,c))){f8(d,A,n,u);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&mP(f,"number",f.value)}switch(M=c?Kf(c):window,t){case"focusin":(JD(M)||M.contentEditable==="true")&&(qf=M,MP=c,yg=null);break;case"focusout":yg=MP=qf=null;break;case"mousedown":PP=!0;break;case"contextmenu":case"mouseup":case"dragend":PP=!1,n3(d,n,u);break;case"selectionchange":if(gte)break;case"keydown":case"keyup":n3(d,n,u)}var P;if(T2)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Gf?u8(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(c8&&n.locale!=="ko"&&(Gf||N!=="onCompositionStart"?N==="onCompositionEnd"&&Gf&&(P=l8()):(ac=u,S2="value"in ac?ac.value:ac.textContent,Gf=!0)),M=N_(c,N),0<M.length&&(N=new qD(N,t,null,n,u),d.push({event:N,listeners:M}),P?N.data=P:(P=d8(n),P!==null&&(N.data=P)))),(P=ite?ote(t,n):ate(t,n))&&(c=N_(c,"onBeforeInput"),0<c.length&&(u=new qD("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}S8(d,e)})}function Kg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function N_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$g(t,n),o!=null&&r.unshift(Kg(t,o,i)),o=$g(t,e),o!=null&&r.push(Kg(t,o,i))),t=t.return}return r}function nf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function o3(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=$g(n,o),l!=null&&a.unshift(Kg(n,l,s))):i||(l=$g(n,o),l!=null&&a.push(Kg(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var bte=/\r\n?/g,_te=/\u0000|\uFFFD/g;function a3(t){return(typeof t=="string"?t:""+t).replace(bte,`
`).replace(_te,"")}function mx(t,e,n){if(e=a3(e),a3(t)!==e&&n)throw Error(Ne(425))}function I_(){}var CP=null,OP=null;function RP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var NP=typeof setTimeout=="function"?setTimeout:void 0,wte=typeof clearTimeout=="function"?clearTimeout:void 0,s3=typeof Promise=="function"?Promise:void 0,Ste=typeof queueMicrotask=="function"?queueMicrotask:typeof s3<"u"?function(t){return s3.resolve(null).then(t).catch(Ete)}:NP;function Ete(t){setTimeout(function(){throw t})}function nT(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wg(e)}function hc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function l3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tp=Math.random().toString(36).slice(2),os="__reactFiber$"+Tp,Yg="__reactProps$"+Tp,sl="__reactContainer$"+Tp,IP="__reactEvents$"+Tp,Ate="__reactListeners$"+Tp,Tte="__reactHandles$"+Tp;function ju(t){var e=t[os];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sl]||n[os]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=l3(t);t!==null;){if(n=t[os])return n;t=l3(t)}return e}t=n,n=t.parentNode}return null}function Ey(t){return t=t[os]||t[sl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function S1(t){return t[Yg]||null}var kP=[],Yf=-1;function jc(t){return{current:t}}function Cn(t){0>Yf||(t.current=kP[Yf],kP[Yf]=null,Yf--)}function _n(t,e){Yf++,kP[Yf]=t.current,t.current=e}var Tc={},ci=jc(Tc),qi=jc(!1),ld=Tc;function jh(t,e){var n=t.type.contextTypes;if(!n)return Tc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xi(t){return t=t.childContextTypes,t!=null}function k_(){Cn(qi),Cn(ci)}function c3(t,e,n){if(ci.current!==Tc)throw Error(Ne(168));_n(ci,e),_n(qi,n)}function A8(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ne(108,uee(t)||"Unknown",i));return Bn({},n,r)}function L_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tc,ld=ci.current,_n(ci,t),_n(qi,qi.current),!0}function u3(t,e,n){var r=t.stateNode;if(!r)throw Error(Ne(169));n?(t=A8(t,e,ld),r.__reactInternalMemoizedMergedChildContext=t,Cn(qi),Cn(ci),_n(ci,t)):Cn(qi),_n(qi,n)}var Ws=null,E1=!1,rT=!1;function T8(t){Ws===null?Ws=[t]:Ws.push(t)}function Mte(t){E1=!0,T8(t)}function Uc(){if(!rT&&Ws!==null){rT=!0;var t=0,e=cn;try{var n=Ws;for(cn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ws=null,E1=!1}catch(i){throw Ws!==null&&(Ws=Ws.slice(t+1)),J5(x2,Uc),i}finally{cn=e,rT=!1}}return null}var Jf=[],Zf=0,D_=null,j_=0,Xo=[],Ko=0,cd=null,qs=1,Xs="";function Eu(t,e){Jf[Zf++]=j_,Jf[Zf++]=D_,D_=t,j_=e}function M8(t,e,n){Xo[Ko++]=qs,Xo[Ko++]=Xs,Xo[Ko++]=cd,cd=t;var r=qs;t=Xs;var i=32-Ia(r)-1;r&=~(1<<i),n+=1;var o=32-Ia(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,qs=1<<32-Ia(e)+i|n<<i|r,Xs=o+t}else qs=1<<o|n<<i|r,Xs=t}function P2(t){t.return!==null&&(Eu(t,1),M8(t,1,0))}function C2(t){for(;t===D_;)D_=Jf[--Zf],Jf[Zf]=null,j_=Jf[--Zf],Jf[Zf]=null;for(;t===cd;)cd=Xo[--Ko],Xo[Ko]=null,Xs=Xo[--Ko],Xo[Ko]=null,qs=Xo[--Ko],Xo[Ko]=null}var wo=null,_o=null,Rn=!1,Pa=null;function P8(t,e){var n=Qo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wo=t,_o=hc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wo=t,_o=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cd!==null?{id:qs,overflow:Xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wo=t,_o=null,!0):!1;default:return!1}}function LP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function DP(t){if(Rn){var e=_o;if(e){var n=e;if(!d3(t,e)){if(LP(t))throw Error(Ne(418));e=hc(n.nextSibling);var r=wo;e&&d3(t,e)?P8(r,n):(t.flags=t.flags&-4097|2,Rn=!1,wo=t)}}else{if(LP(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,Rn=!1,wo=t}}}function f3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wo=t}function gx(t){if(t!==wo)return!1;if(!Rn)return f3(t),Rn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!RP(t.type,t.memoizedProps)),e&&(e=_o)){if(LP(t))throw C8(),Error(Ne(418));for(;e;)P8(t,e),e=hc(e.nextSibling)}if(f3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_o=hc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_o=null}}else _o=wo?hc(t.stateNode.nextSibling):null;return!0}function C8(){for(var t=_o;t;)t=hc(t.nextSibling)}function Uh(){_o=wo=null,Rn=!1}function O2(t){Pa===null?Pa=[t]:Pa.push(t)}var Pte=yl.ReactCurrentBatchConfig;function Cm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,t))}return t}function vx(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function h3(t){var e=t._init;return e(t._payload)}function O8(t){function e(v,b){if(t){var _=v.deletions;_===null?(v.deletions=[b],v.flags|=16):_.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=vc(v,b),v.index=0,v.sibling=null,v}function o(v,b,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<b?(v.flags|=2,b):_):(v.flags|=2,b)):(v.flags|=1048576,b)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,b,_,S){return b===null||b.tag!==6?(b=uT(_,v.mode,S),b.return=v,b):(b=i(b,_),b.return=v,b)}function l(v,b,_,S){var A=_.type;return A===Wf?u(v,b,_.props.children,S,_.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Gl&&h3(A)===b.type)?(S=i(b,_.props),S.ref=Cm(v,b,_),S.return=v,S):(S=s_(_.type,_.key,_.props,null,v.mode,S),S.ref=Cm(v,b,_),S.return=v,S)}function c(v,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=dT(_,v.mode,S),b.return=v,b):(b=i(b,_.children||[]),b.return=v,b)}function u(v,b,_,S,A){return b===null||b.tag!==7?(b=ed(_,v.mode,S,A),b.return=v,b):(b=i(b,_),b.return=v,b)}function d(v,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=uT(""+b,v.mode,_),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ax:return _=s_(b.type,b.key,b.props,null,v.mode,_),_.ref=Cm(v,null,b),_.return=v,_;case Vf:return b=dT(b,v.mode,_),b.return=v,b;case Gl:var S=b._init;return d(v,S(b._payload),_)}if(ag(b)||Em(b))return b=ed(b,v.mode,_,null),b.return=v,b;vx(v,b)}return null}function f(v,b,_,S){var A=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:s(v,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ax:return _.key===A?l(v,b,_,S):null;case Vf:return _.key===A?c(v,b,_,S):null;case Gl:return A=_._init,f(v,b,A(_._payload),S)}if(ag(_)||Em(_))return A!==null?null:u(v,b,_,S,null);vx(v,_)}return null}function p(v,b,_,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(_)||null,s(b,v,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ax:return v=v.get(S.key===null?_:S.key)||null,l(b,v,S,A);case Vf:return v=v.get(S.key===null?_:S.key)||null,c(b,v,S,A);case Gl:var M=S._init;return p(v,b,_,M(S._payload),A)}if(ag(S)||Em(S))return v=v.get(_)||null,u(b,v,S,A,null);vx(b,S)}return null}function g(v,b,_,S){for(var A=null,M=null,P=b,N=b=0,R=null;P!==null&&N<_.length;N++){P.index>N?(R=P,P=null):R=P.sibling;var I=f(v,P,_[N],S);if(I===null){P===null&&(P=R);break}t&&P&&I.alternate===null&&e(v,P),b=o(I,b,N),M===null?A=I:M.sibling=I,M=I,P=R}if(N===_.length)return n(v,P),Rn&&Eu(v,N),A;if(P===null){for(;N<_.length;N++)P=d(v,_[N],S),P!==null&&(b=o(P,b,N),M===null?A=P:M.sibling=P,M=P);return Rn&&Eu(v,N),A}for(P=r(v,P);N<_.length;N++)R=p(P,v,N,_[N],S),R!==null&&(t&&R.alternate!==null&&P.delete(R.key===null?N:R.key),b=o(R,b,N),M===null?A=R:M.sibling=R,M=R);return t&&P.forEach(function(D){return e(v,D)}),Rn&&Eu(v,N),A}function y(v,b,_,S){var A=Em(_);if(typeof A!="function")throw Error(Ne(150));if(_=A.call(_),_==null)throw Error(Ne(151));for(var M=A=null,P=b,N=b=0,R=null,I=_.next();P!==null&&!I.done;N++,I=_.next()){P.index>N?(R=P,P=null):R=P.sibling;var D=f(v,P,I.value,S);if(D===null){P===null&&(P=R);break}t&&P&&D.alternate===null&&e(v,P),b=o(D,b,N),M===null?A=D:M.sibling=D,M=D,P=R}if(I.done)return n(v,P),Rn&&Eu(v,N),A;if(P===null){for(;!I.done;N++,I=_.next())I=d(v,I.value,S),I!==null&&(b=o(I,b,N),M===null?A=I:M.sibling=I,M=I);return Rn&&Eu(v,N),A}for(P=r(v,P);!I.done;N++,I=_.next())I=p(P,v,N,I.value,S),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?N:I.key),b=o(I,b,N),M===null?A=I:M.sibling=I,M=I);return t&&P.forEach(function(U){return e(v,U)}),Rn&&Eu(v,N),A}function x(v,b,_,S){if(typeof _=="object"&&_!==null&&_.type===Wf&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ax:e:{for(var A=_.key,M=b;M!==null;){if(M.key===A){if(A=_.type,A===Wf){if(M.tag===7){n(v,M.sibling),b=i(M,_.props.children),b.return=v,v=b;break e}}else if(M.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Gl&&h3(A)===M.type){n(v,M.sibling),b=i(M,_.props),b.ref=Cm(v,M,_),b.return=v,v=b;break e}n(v,M);break}else e(v,M);M=M.sibling}_.type===Wf?(b=ed(_.props.children,v.mode,S,_.key),b.return=v,v=b):(S=s_(_.type,_.key,_.props,null,v.mode,S),S.ref=Cm(v,b,_),S.return=v,v=S)}return a(v);case Vf:e:{for(M=_.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(v,b.sibling),b=i(b,_.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=dT(_,v.mode,S),b.return=v,v=b}return a(v);case Gl:return M=_._init,x(v,b,M(_._payload),S)}if(ag(_))return g(v,b,_,S);if(Em(_))return y(v,b,_,S);vx(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,_),b.return=v,v=b):(n(v,b),b=uT(_,v.mode,S),b.return=v,v=b),a(v)):n(v,b)}return x}var Fh=O8(!0),R8=O8(!1),U_=jc(null),F_=null,Qf=null,R2=null;function N2(){R2=Qf=F_=null}function I2(t){var e=U_.current;Cn(U_),t._currentValue=e}function jP(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gh(t,e){F_=t,R2=Qf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vi=!0),t.firstContext=null)}function ia(t){var e=t._currentValue;if(R2!==t)if(t={context:t,memoizedValue:e,next:null},Qf===null){if(F_===null)throw Error(Ne(308));Qf=t,F_.dependencies={lanes:0,firstContext:t}}else Qf=Qf.next=t;return e}var Uu=null;function k2(t){Uu===null?Uu=[t]:Uu.push(t)}function N8(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,k2(e)):(n.next=i.next,i.next=n),e.interleaved=n,ll(t,r)}function ll(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ql=!1;function L2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ll(t,n)}return i=r.interleaved,i===null?(e.next=e,k2(r)):(e.next=i.next,i.next=e),r.interleaved=e,ll(t,n)}function t_(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,b2(t,n)}}function p3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function B_(t,e,n,r){var i=t.updateQueue;ql=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,u=c=l=null,s=o;do{var f=s.lane,p=s.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(f=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=Bn({},d,f);break e;case 2:ql=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);dd|=a,t.lanes=a,t.memoizedState=d}}function m3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var Ay={},cs=jc(Ay),Jg=jc(Ay),Zg=jc(Ay);function Fu(t){if(t===Ay)throw Error(Ne(174));return t}function D2(t,e){switch(_n(Zg,e),_n(Jg,t),_n(cs,Ay),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vP(e,t)}Cn(cs),_n(cs,e)}function Bh(){Cn(cs),Cn(Jg),Cn(Zg)}function k8(t){Fu(Zg.current);var e=Fu(cs.current),n=vP(e,t.type);e!==n&&(_n(Jg,t),_n(cs,n))}function j2(t){Jg.current===t&&(Cn(cs),Cn(Jg))}var Dn=jc(0);function z_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iT=[];function U2(){for(var t=0;t<iT.length;t++)iT[t]._workInProgressVersionPrimary=null;iT.length=0}var n_=yl.ReactCurrentDispatcher,oT=yl.ReactCurrentBatchConfig,ud=0,Fn=null,mr=null,Nr=null,$_=!1,xg=!1,Qg=0,Cte=0;function Jr(){throw Error(Ne(321))}function F2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Da(t[n],e[n]))return!1;return!0}function B2(t,e,n,r,i,o){if(ud=o,Fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,n_.current=t===null||t.memoizedState===null?Ite:kte,t=n(r,i),xg){o=0;do{if(xg=!1,Qg=0,25<=o)throw Error(Ne(301));o+=1,Nr=mr=null,e.updateQueue=null,n_.current=Lte,t=n(r,i)}while(xg)}if(n_.current=H_,e=mr!==null&&mr.next!==null,ud=0,Nr=mr=Fn=null,$_=!1,e)throw Error(Ne(300));return t}function z2(){var t=Qg!==0;return Qg=0,t}function ts(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?Fn.memoizedState=Nr=t:Nr=Nr.next=t,Nr}function oa(){if(mr===null){var t=Fn.alternate;t=t!==null?t.memoizedState:null}else t=mr.next;var e=Nr===null?Fn.memoizedState:Nr.next;if(e!==null)Nr=e,mr=t;else{if(t===null)throw Error(Ne(310));mr=t,t={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},Nr===null?Fn.memoizedState=Nr=t:Nr=Nr.next=t}return Nr}function ev(t,e){return typeof e=="function"?e(t):e}function aT(t){var e=oa(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=mr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((ud&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,Fn.lanes|=u,dd|=u}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,Da(r,e.memoizedState)||(Vi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Fn.lanes|=o,dd|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sT(t){var e=oa(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Da(o,e.memoizedState)||(Vi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function L8(){}function D8(t,e){var n=Fn,r=oa(),i=e(),o=!Da(r.memoizedState,i);if(o&&(r.memoizedState=i,Vi=!0),r=r.queue,$2(F8.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Nr!==null&&Nr.memoizedState.tag&1){if(n.flags|=2048,tv(9,U8.bind(null,n,r,i,e),void 0,null),Lr===null)throw Error(Ne(349));ud&30||j8(n,e,i)}return i}function j8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fn.updateQueue,e===null?(e={lastEffect:null,stores:null},Fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U8(t,e,n,r){e.value=n,e.getSnapshot=r,B8(e)&&z8(t)}function F8(t,e,n){return n(function(){B8(e)&&z8(t)})}function B8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Da(t,n)}catch{return!0}}function z8(t){var e=ll(t,1);e!==null&&ka(e,t,1,-1)}function g3(t){var e=ts();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:t},e.queue=t,t=t.dispatch=Nte.bind(null,Fn,t),[e.memoizedState,t]}function tv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fn.updateQueue,e===null?(e={lastEffect:null,stores:null},Fn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $8(){return oa().memoizedState}function r_(t,e,n,r){var i=ts();Fn.flags|=t,i.memoizedState=tv(1|e,n,void 0,r===void 0?null:r)}function A1(t,e,n,r){var i=oa();r=r===void 0?null:r;var o=void 0;if(mr!==null){var a=mr.memoizedState;if(o=a.destroy,r!==null&&F2(r,a.deps)){i.memoizedState=tv(e,n,o,r);return}}Fn.flags|=t,i.memoizedState=tv(1|e,n,o,r)}function v3(t,e){return r_(8390656,8,t,e)}function $2(t,e){return A1(2048,8,t,e)}function H8(t,e){return A1(4,2,t,e)}function V8(t,e){return A1(4,4,t,e)}function W8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G8(t,e,n){return n=n!=null?n.concat([t]):null,A1(4,4,W8.bind(null,e,t),n)}function H2(){}function q8(t,e){var n=oa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&F2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X8(t,e){var n=oa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&F2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function K8(t,e,n){return ud&21?(Da(n,e)||(n=e8(),Fn.lanes|=n,dd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vi=!0),t.memoizedState=n)}function Ote(t,e){var n=cn;cn=n!==0&&4>n?n:4,t(!0);var r=oT.transition;oT.transition={};try{t(!1),e()}finally{cn=n,oT.transition=r}}function Y8(){return oa().memoizedState}function Rte(t,e,n){var r=gc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J8(t))Z8(e,n);else if(n=N8(t,e,n,r),n!==null){var i=Pi();ka(n,t,r,i),Q8(n,e,r)}}function Nte(t,e,n){var r=gc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J8(t))Z8(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Da(s,a)){var l=e.interleaved;l===null?(i.next=i,k2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=N8(t,e,i,r),n!==null&&(i=Pi(),ka(n,t,r,i),Q8(n,e,r))}}function J8(t){var e=t.alternate;return t===Fn||e!==null&&e===Fn}function Z8(t,e){xg=$_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Q8(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,b2(t,n)}}var H_={readContext:ia,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useInsertionEffect:Jr,useLayoutEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useMutableSource:Jr,useSyncExternalStore:Jr,useId:Jr,unstable_isNewReconciler:!1},Ite={readContext:ia,useCallback:function(t,e){return ts().memoizedState=[t,e===void 0?null:e],t},useContext:ia,useEffect:v3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,r_(4194308,4,W8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return r_(4194308,4,t,e)},useInsertionEffect:function(t,e){return r_(4,2,t,e)},useMemo:function(t,e){var n=ts();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ts();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Rte.bind(null,Fn,t),[r.memoizedState,t]},useRef:function(t){var e=ts();return t={current:t},e.memoizedState=t},useState:g3,useDebugValue:H2,useDeferredValue:function(t){return ts().memoizedState=t},useTransition:function(){var t=g3(!1),e=t[0];return t=Ote.bind(null,t[1]),ts().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fn,i=ts();if(Rn){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=e(),Lr===null)throw Error(Ne(349));ud&30||j8(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,v3(F8.bind(null,r,o,t),[t]),r.flags|=2048,tv(9,U8.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ts(),e=Lr.identifierPrefix;if(Rn){var n=Xs,r=qs;n=(r&~(1<<32-Ia(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Cte++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kte={readContext:ia,useCallback:q8,useContext:ia,useEffect:$2,useImperativeHandle:G8,useInsertionEffect:H8,useLayoutEffect:V8,useMemo:X8,useReducer:aT,useRef:$8,useState:function(){return aT(ev)},useDebugValue:H2,useDeferredValue:function(t){var e=oa();return K8(e,mr.memoizedState,t)},useTransition:function(){var t=aT(ev)[0],e=oa().memoizedState;return[t,e]},useMutableSource:L8,useSyncExternalStore:D8,useId:Y8,unstable_isNewReconciler:!1},Lte={readContext:ia,useCallback:q8,useContext:ia,useEffect:$2,useImperativeHandle:G8,useInsertionEffect:H8,useLayoutEffect:V8,useMemo:X8,useReducer:sT,useRef:$8,useState:function(){return sT(ev)},useDebugValue:H2,useDeferredValue:function(t){var e=oa();return mr===null?e.memoizedState=t:K8(e,mr.memoizedState,t)},useTransition:function(){var t=sT(ev)[0],e=oa().memoizedState;return[t,e]},useMutableSource:L8,useSyncExternalStore:D8,useId:Y8,unstable_isNewReconciler:!1};function ba(t,e){if(t&&t.defaultProps){e=Bn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function UP(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Bn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var T1={isMounted:function(t){return(t=t._reactInternals)?Md(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pi(),i=gc(t),o=tl(r,i);o.payload=e,n!=null&&(o.callback=n),e=pc(t,o,i),e!==null&&(ka(e,t,i,r),t_(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pi(),i=gc(t),o=tl(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=pc(t,o,i),e!==null&&(ka(e,t,i,r),t_(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pi(),r=gc(t),i=tl(n,r);i.tag=2,e!=null&&(i.callback=e),e=pc(t,i,r),e!==null&&(ka(e,t,r,n),t_(e,t,r))}};function y3(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!qg(n,r)||!qg(i,o):!0}function eH(t,e,n){var r=!1,i=Tc,o=e.contextType;return typeof o=="object"&&o!==null?o=ia(o):(i=Xi(e)?ld:ci.current,r=e.contextTypes,o=(r=r!=null)?jh(t,i):Tc),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=T1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function x3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&T1.enqueueReplaceState(e,e.state,null)}function FP(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},L2(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ia(o):(o=Xi(e)?ld:ci.current,i.context=jh(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(UP(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&T1.enqueueReplaceState(i,i.state,null),B_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zh(t,e){try{var n="",r=e;do n+=cee(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function lT(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function BP(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Dte=typeof WeakMap=="function"?WeakMap:Map;function tH(t,e,n){n=tl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){W_||(W_=!0,YP=r),BP(t,e)},n}function nH(t,e,n){n=tl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){BP(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){BP(t,e),typeof r!="function"&&(mc===null?mc=new Set([this]):mc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function b3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Dte;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Yte.bind(null,t,e,n),e.then(t,t))}function _3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w3(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tl(-1,1),e.tag=2,pc(n,e,1))),n.lanes|=1),t)}var jte=yl.ReactCurrentOwner,Vi=!1;function bi(t,e,n,r){e.child=t===null?R8(e,null,n,r):Fh(e,t.child,n,r)}function S3(t,e,n,r,i){n=n.render;var o=e.ref;return gh(e,i),r=B2(t,e,n,r,o,i),n=z2(),t!==null&&!Vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cl(t,e,i)):(Rn&&n&&P2(e),e.flags|=1,bi(t,e,r,i),e.child)}function E3(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!J2(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,rH(t,e,o,r,i)):(t=s_(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:qg,n(a,r)&&t.ref===e.ref)return cl(t,e,i)}return e.flags|=1,t=vc(o,r),t.ref=e.ref,t.return=e,e.child=t}function rH(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(qg(o,r)&&t.ref===e.ref)if(Vi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Vi=!0);else return e.lanes=t.lanes,cl(t,e,i)}return zP(t,e,n,r,i)}function iH(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(th,ho),ho|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_n(th,ho),ho|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_n(th,ho),ho|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_n(th,ho),ho|=r;return bi(t,e,i,n),e.child}function oH(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zP(t,e,n,r,i){var o=Xi(n)?ld:ci.current;return o=jh(e,o),gh(e,i),n=B2(t,e,n,r,o,i),r=z2(),t!==null&&!Vi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cl(t,e,i)):(Rn&&r&&P2(e),e.flags|=1,bi(t,e,n,i),e.child)}function A3(t,e,n,r,i){if(Xi(n)){var o=!0;L_(e)}else o=!1;if(gh(e,i),e.stateNode===null)i_(t,e),eH(e,n,r),FP(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=ia(c):(c=Xi(n)?ld:ci.current,c=jh(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&x3(e,a,r,c),ql=!1;var f=e.memoizedState;a.state=f,B_(e,r,a,i),l=e.memoizedState,s!==r||f!==l||qi.current||ql?(typeof u=="function"&&(UP(e,n,u,r),l=e.memoizedState),(s=ql||y3(e,n,s,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,I8(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ba(e.type,s),a.props=c,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ia(l):(l=Xi(n)?ld:ci.current,l=jh(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==l)&&x3(e,a,r,l),ql=!1,f=e.memoizedState,a.state=f,B_(e,r,a,i);var g=e.memoizedState;s!==d||f!==g||qi.current||ql?(typeof p=="function"&&(UP(e,n,p,r),g=e.memoizedState),(c=ql||y3(e,n,c,r,f,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return $P(t,e,n,r,o,i)}function $P(t,e,n,r,i,o){oH(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&u3(e,n,!1),cl(t,e,o);r=e.stateNode,jte.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Fh(e,t.child,null,o),e.child=Fh(e,null,s,o)):bi(t,e,s,o),e.memoizedState=r.state,i&&u3(e,n,!0),e.child}function aH(t){var e=t.stateNode;e.pendingContext?c3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&c3(t,e.context,!1),D2(t,e.containerInfo)}function T3(t,e,n,r,i){return Uh(),O2(i),e.flags|=256,bi(t,e,n,r),e.child}var HP={dehydrated:null,treeContext:null,retryLane:0};function VP(t){return{baseLanes:t,cachePool:null,transitions:null}}function sH(t,e,n){var r=e.pendingProps,i=Dn.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_n(Dn,i&1),t===null)return DP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=C1(a,r,0,null),t=ed(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=VP(n),e.memoizedState=HP,t):V2(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Ute(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=vc(s,o):(o=ed(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?VP(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=HP,r}return o=t.child,t=o.sibling,r=vc(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function V2(t,e){return e=C1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yx(t,e,n,r){return r!==null&&O2(r),Fh(e,t.child,null,n),t=V2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ute(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=lT(Error(Ne(422))),yx(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=C1({mode:"visible",children:r.children},i,0,null),o=ed(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Fh(e,t.child,null,a),e.child.memoizedState=VP(a),e.memoizedState=HP,o);if(!(e.mode&1))return yx(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Ne(419)),r=lT(o,r,void 0),yx(t,e,a,r)}if(s=(a&t.childLanes)!==0,Vi||s){if(r=Lr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ll(t,i),ka(r,t,i,-1))}return Y2(),r=lT(Error(Ne(421))),yx(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Jte.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,_o=hc(i.nextSibling),wo=e,Rn=!0,Pa=null,t!==null&&(Xo[Ko++]=qs,Xo[Ko++]=Xs,Xo[Ko++]=cd,qs=t.id,Xs=t.overflow,cd=e),e=V2(e,r.children),e.flags|=4096,e)}function M3(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jP(t.return,e,n)}function cT(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function lH(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(bi(t,e,r.children,n),r=Dn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&M3(t,n,e);else if(t.tag===19)M3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_n(Dn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&z_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cT(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&z_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cT(e,!0,n,null,o);break;case"together":cT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function i_(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,n=vc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Fte(t,e,n){switch(e.tag){case 3:aH(e),Uh();break;case 5:k8(e);break;case 1:Xi(e.type)&&L_(e);break;case 4:D2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_n(U_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_n(Dn,Dn.current&1),e.flags|=128,null):n&e.child.childLanes?sH(t,e,n):(_n(Dn,Dn.current&1),t=cl(t,e,n),t!==null?t.sibling:null);_n(Dn,Dn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lH(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(Dn,Dn.current),r)break;return null;case 22:case 23:return e.lanes=0,iH(t,e,n)}return cl(t,e,n)}var cH,WP,uH,dH;cH=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};WP=function(){};uH=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fu(cs.current);var o=null;switch(n){case"input":i=hP(t,i),r=hP(t,r),o=[];break;case"select":i=Bn({},i,{value:void 0}),r=Bn({},r,{value:void 0}),o=[];break;case"textarea":i=gP(t,i),r=gP(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=I_)}yP(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bg.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&An("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};dH=function(t,e,n,r){n!==r&&(e.flags|=4)};function Om(t,e){if(!Rn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Bte(t,e,n){var r=e.pendingProps;switch(C2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(e),null;case 1:return Xi(e.type)&&k_(),Zr(e),null;case 3:return r=e.stateNode,Bh(),Cn(qi),Cn(ci),U2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gx(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pa!==null&&(QP(Pa),Pa=null))),WP(t,e),Zr(e),null;case 5:j2(e);var i=Fu(Zg.current);if(n=e.type,t!==null&&e.stateNode!=null)uH(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ne(166));return Zr(e),null}if(t=Fu(cs.current),gx(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[os]=e,r[Yg]=o,t=(e.mode&1)!==0,n){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<lg.length;i++)An(lg[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":DD(r,o),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},An("invalid",r);break;case"textarea":UD(r,o),An("invalid",r)}yP(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&mx(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&mx(r.textContent,s,t),i=["children",""+s]):Bg.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&An("scroll",r)}switch(n){case"input":sx(r),jD(r,o,!0);break;case"textarea":sx(r),FD(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=I_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[os]=e,t[Yg]=r,cH(t,e,!1,!1),e.stateNode=t;e:{switch(a=xP(n,r),n){case"dialog":An("cancel",t),An("close",t),i=r;break;case"iframe":case"object":case"embed":An("load",t),i=r;break;case"video":case"audio":for(i=0;i<lg.length;i++)An(lg[i],t);i=r;break;case"source":An("error",t),i=r;break;case"img":case"image":case"link":An("error",t),An("load",t),i=r;break;case"details":An("toggle",t),i=r;break;case"input":DD(t,r),i=hP(t,r),An("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Bn({},r,{value:void 0}),An("invalid",t);break;case"textarea":UD(t,r),i=gP(t,r),An("invalid",t);break;default:i=r}yP(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?$5(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B5(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zg(t,l):typeof l=="number"&&zg(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bg.hasOwnProperty(o)?l!=null&&o==="onScroll"&&An("scroll",t):l!=null&&p2(t,o,l,a))}switch(n){case"input":sx(t),jD(t,r,!1);break;case"textarea":sx(t),FD(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ac(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?fh(t,!!r.multiple,o,!1):r.defaultValue!=null&&fh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=I_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zr(e),null;case 6:if(t&&e.stateNode!=null)dH(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ne(166));if(n=Fu(Zg.current),Fu(cs.current),gx(e)){if(r=e.stateNode,n=e.memoizedProps,r[os]=e,(o=r.nodeValue!==n)&&(t=wo,t!==null))switch(t.tag){case 3:mx(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mx(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[os]=e,e.stateNode=r}return Zr(e),null;case 13:if(Cn(Dn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rn&&_o!==null&&e.mode&1&&!(e.flags&128))C8(),Uh(),e.flags|=98560,o=!1;else if(o=gx(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Ne(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ne(317));o[os]=e}else Uh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zr(e),o=!1}else Pa!==null&&(QP(Pa),Pa=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dn.current&1?yr===0&&(yr=3):Y2())),e.updateQueue!==null&&(e.flags|=4),Zr(e),null);case 4:return Bh(),WP(t,e),t===null&&Xg(e.stateNode.containerInfo),Zr(e),null;case 10:return I2(e.type._context),Zr(e),null;case 17:return Xi(e.type)&&k_(),Zr(e),null;case 19:if(Cn(Dn),o=e.memoizedState,o===null)return Zr(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Om(o,!1);else{if(yr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=z_(t),a!==null){for(e.flags|=128,Om(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _n(Dn,Dn.current&1|2),e.child}t=t.sibling}o.tail!==null&&er()>$h&&(e.flags|=128,r=!0,Om(o,!1),e.lanes=4194304)}else{if(!r)if(t=z_(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Om(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Rn)return Zr(e),null}else 2*er()-o.renderingStartTime>$h&&n!==1073741824&&(e.flags|=128,r=!0,Om(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=er(),e.sibling=null,n=Dn.current,_n(Dn,r?n&1|2:n&1),e):(Zr(e),null);case 22:case 23:return K2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ho&1073741824&&(Zr(e),e.subtreeFlags&6&&(e.flags|=8192)):Zr(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function zte(t,e){switch(C2(e),e.tag){case 1:return Xi(e.type)&&k_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bh(),Cn(qi),Cn(ci),U2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return j2(e),null;case 13:if(Cn(Dn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));Uh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cn(Dn),null;case 4:return Bh(),null;case 10:return I2(e.type._context),null;case 22:case 23:return K2(),null;case 24:return null;default:return null}}var xx=!1,oi=!1,$te=typeof WeakSet=="function"?WeakSet:Set,Je=null;function eh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wn(t,e,r)}else n.current=null}function GP(t,e,n){try{n()}catch(r){Wn(t,e,r)}}var P3=!1;function Hte(t,e){if(CP=O_,t=g8(),M2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(s=a),f===o&&++u===r&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(OP={focusedElem:t,selectionRange:n},O_=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){e=Je;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:ba(e.type,y),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(S){Wn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}return g=P3,P3=!1,g}function bg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&GP(e,n,o)}i=i.next}while(i!==r)}}function M1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qP(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fH(t){var e=t.alternate;e!==null&&(t.alternate=null,fH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[os],delete e[Yg],delete e[IP],delete e[Ate],delete e[Tte])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hH(t){return t.tag===5||t.tag===3||t.tag===4}function C3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function XP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=I_));else if(r!==4&&(t=t.child,t!==null))for(XP(t,e,n),t=t.sibling;t!==null;)XP(t,e,n),t=t.sibling}function KP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(KP(t,e,n),t=t.sibling;t!==null;)KP(t,e,n),t=t.sibling}var Hr=null,Aa=!1;function Il(t,e,n){for(n=n.child;n!==null;)pH(t,e,n),n=n.sibling}function pH(t,e,n){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(x1,n)}catch{}switch(n.tag){case 5:oi||eh(n,e);case 6:var r=Hr,i=Aa;Hr=null,Il(t,e,n),Hr=r,Aa=i,Hr!==null&&(Aa?(t=Hr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Hr.removeChild(n.stateNode));break;case 18:Hr!==null&&(Aa?(t=Hr,n=n.stateNode,t.nodeType===8?nT(t.parentNode,n):t.nodeType===1&&nT(t,n),Wg(t)):nT(Hr,n.stateNode));break;case 4:r=Hr,i=Aa,Hr=n.stateNode.containerInfo,Aa=!0,Il(t,e,n),Hr=r,Aa=i;break;case 0:case 11:case 14:case 15:if(!oi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&GP(n,e,a),i=i.next}while(i!==r)}Il(t,e,n);break;case 1:if(!oi&&(eh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Wn(n,e,s)}Il(t,e,n);break;case 21:Il(t,e,n);break;case 22:n.mode&1?(oi=(r=oi)||n.memoizedState!==null,Il(t,e,n),oi=r):Il(t,e,n);break;default:Il(t,e,n)}}function O3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $te),e.forEach(function(r){var i=Zte.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Hr=s.stateNode,Aa=!1;break e;case 3:Hr=s.stateNode.containerInfo,Aa=!0;break e;case 4:Hr=s.stateNode.containerInfo,Aa=!0;break e}s=s.return}if(Hr===null)throw Error(Ne(160));pH(o,a,i),Hr=null,Aa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Wn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mH(e,t),e=e.sibling}function mH(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fa(e,t),Qa(t),r&4){try{bg(3,t,t.return),M1(3,t)}catch(y){Wn(t,t.return,y)}try{bg(5,t,t.return)}catch(y){Wn(t,t.return,y)}}break;case 1:fa(e,t),Qa(t),r&512&&n!==null&&eh(n,n.return);break;case 5:if(fa(e,t),Qa(t),r&512&&n!==null&&eh(n,n.return),t.flags&32){var i=t.stateNode;try{zg(i,"")}catch(y){Wn(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&j5(i,o),xP(s,a);var c=xP(s,o);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?$5(i,d):u==="dangerouslySetInnerHTML"?B5(i,d):u==="children"?zg(i,d):p2(i,u,d,c)}switch(s){case"input":pP(i,o);break;case"textarea":U5(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?fh(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?fh(i,!!o.multiple,o.defaultValue,!0):fh(i,!!o.multiple,o.multiple?[]:"",!1))}i[Yg]=o}catch(y){Wn(t,t.return,y)}}break;case 6:if(fa(e,t),Qa(t),r&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Wn(t,t.return,y)}}break;case 3:if(fa(e,t),Qa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wg(e.containerInfo)}catch(y){Wn(t,t.return,y)}break;case 4:fa(e,t),Qa(t);break;case 13:fa(e,t),Qa(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(q2=er())),r&4&&O3(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(oi=(c=oi)||u,fa(e,t),oi=c):fa(e,t),Qa(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Je=t,u=t.child;u!==null;){for(d=Je=u;Je!==null;){switch(f=Je,p=f.child,f.tag){case 0:case 11:case 14:case 15:bg(4,f,f.return);break;case 1:eh(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Wn(r,n,y)}}break;case 5:eh(f,f.return);break;case 22:if(f.memoizedState!==null){N3(d);continue}}p!==null?(p.return=f,Je=p):N3(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=z5("display",a))}catch(y){Wn(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Wn(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fa(e,t),Qa(t),r&4&&O3(t);break;case 21:break;default:fa(e,t),Qa(t)}}function Qa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hH(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zg(i,""),r.flags&=-33);var o=C3(t);KP(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=C3(t);XP(t,s,a);break;default:throw Error(Ne(161))}}catch(l){Wn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vte(t,e,n){Je=t,gH(t)}function gH(t,e,n){for(var r=(t.mode&1)!==0;Je!==null;){var i=Je,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||xx;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||oi;s=xx;var c=oi;if(xx=a,(oi=l)&&!c)for(Je=i;Je!==null;)a=Je,l=a.child,a.tag===22&&a.memoizedState!==null?I3(i):l!==null?(l.return=a,Je=l):I3(i);for(;o!==null;)Je=o,gH(o),o=o.sibling;Je=i,xx=s,oi=c}R3(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Je=o):R3(t)}}function R3(t){for(;Je!==null;){var e=Je;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:oi||M1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!oi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ba(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&m3(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}m3(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Wg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}oi||e.flags&512&&qP(e)}catch(f){Wn(e,e.return,f)}}if(e===t){Je=null;break}if(n=e.sibling,n!==null){n.return=e.return,Je=n;break}Je=e.return}}function N3(t){for(;Je!==null;){var e=Je;if(e===t){Je=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Je=n;break}Je=e.return}}function I3(t){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{M1(4,e)}catch(l){Wn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Wn(e,i,l)}}var o=e.return;try{qP(e)}catch(l){Wn(e,o,l)}break;case 5:var a=e.return;try{qP(e)}catch(l){Wn(e,a,l)}}}catch(l){Wn(e,e.return,l)}if(e===t){Je=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Je=s;break}Je=e.return}}var Wte=Math.ceil,V_=yl.ReactCurrentDispatcher,W2=yl.ReactCurrentOwner,ta=yl.ReactCurrentBatchConfig,Kt=0,Lr=null,cr=null,Vr=0,ho=0,th=jc(0),yr=0,nv=null,dd=0,P1=0,G2=0,_g=null,zi=null,q2=0,$h=1/0,$s=null,W_=!1,YP=null,mc=null,bx=!1,sc=null,G_=0,wg=0,JP=null,o_=-1,a_=0;function Pi(){return Kt&6?er():o_!==-1?o_:o_=er()}function gc(t){return t.mode&1?Kt&2&&Vr!==0?Vr&-Vr:Pte.transition!==null?(a_===0&&(a_=e8()),a_):(t=cn,t!==0||(t=window.event,t=t===void 0?16:s8(t.type)),t):1}function ka(t,e,n,r){if(50<wg)throw wg=0,JP=null,Error(Ne(185));wy(t,n,r),(!(Kt&2)||t!==Lr)&&(t===Lr&&(!(Kt&2)&&(P1|=n),yr===4&&Jl(t,Vr)),Ki(t,r),n===1&&Kt===0&&!(e.mode&1)&&($h=er()+500,E1&&Uc()))}function Ki(t,e){var n=t.callbackNode;Pee(t,e);var r=C_(t,t===Lr?Vr:0);if(r===0)n!==null&&$D(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$D(n),e===1)t.tag===0?Mte(k3.bind(null,t)):T8(k3.bind(null,t)),Ste(function(){!(Kt&6)&&Uc()}),n=null;else{switch(t8(r)){case 1:n=x2;break;case 4:n=Z5;break;case 16:n=P_;break;case 536870912:n=Q5;break;default:n=P_}n=EH(n,vH.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vH(t,e){if(o_=-1,a_=0,Kt&6)throw Error(Ne(327));var n=t.callbackNode;if(vh()&&t.callbackNode!==n)return null;var r=C_(t,t===Lr?Vr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=q_(t,r);else{e=r;var i=Kt;Kt|=2;var o=xH();(Lr!==t||Vr!==e)&&($s=null,$h=er()+500,Qu(t,e));do try{Xte();break}catch(s){yH(t,s)}while(!0);N2(),V_.current=o,Kt=i,cr!==null?e=0:(Lr=null,Vr=0,e=yr)}if(e!==0){if(e===2&&(i=EP(t),i!==0&&(r=i,e=ZP(t,i))),e===1)throw n=nv,Qu(t,0),Jl(t,r),Ki(t,er()),n;if(e===6)Jl(t,r);else{if(i=t.current.alternate,!(r&30)&&!Gte(i)&&(e=q_(t,r),e===2&&(o=EP(t),o!==0&&(r=o,e=ZP(t,o))),e===1))throw n=nv,Qu(t,0),Jl(t,r),Ki(t,er()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ne(345));case 2:Au(t,zi,$s);break;case 3:if(Jl(t,r),(r&130023424)===r&&(e=q2+500-er(),10<e)){if(C_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=NP(Au.bind(null,t,zi,$s),e);break}Au(t,zi,$s);break;case 4:if(Jl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ia(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wte(r/1960))-r,10<r){t.timeoutHandle=NP(Au.bind(null,t,zi,$s),r);break}Au(t,zi,$s);break;case 5:Au(t,zi,$s);break;default:throw Error(Ne(329))}}}return Ki(t,er()),t.callbackNode===n?vH.bind(null,t):null}function ZP(t,e){var n=_g;return t.current.memoizedState.isDehydrated&&(Qu(t,e).flags|=256),t=q_(t,e),t!==2&&(e=zi,zi=n,e!==null&&QP(e)),t}function QP(t){zi===null?zi=t:zi.push.apply(zi,t)}function Gte(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Da(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jl(t,e){for(e&=~G2,e&=~P1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ia(e),r=1<<n;t[n]=-1,e&=~r}}function k3(t){if(Kt&6)throw Error(Ne(327));vh();var e=C_(t,0);if(!(e&1))return Ki(t,er()),null;var n=q_(t,e);if(t.tag!==0&&n===2){var r=EP(t);r!==0&&(e=r,n=ZP(t,r))}if(n===1)throw n=nv,Qu(t,0),Jl(t,e),Ki(t,er()),n;if(n===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Au(t,zi,$s),Ki(t,er()),null}function X2(t,e){var n=Kt;Kt|=1;try{return t(e)}finally{Kt=n,Kt===0&&($h=er()+500,E1&&Uc())}}function fd(t){sc!==null&&sc.tag===0&&!(Kt&6)&&vh();var e=Kt;Kt|=1;var n=ta.transition,r=cn;try{if(ta.transition=null,cn=1,t)return t()}finally{cn=r,ta.transition=n,Kt=e,!(Kt&6)&&Uc()}}function K2(){ho=th.current,Cn(th)}function Qu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wte(n)),cr!==null)for(n=cr.return;n!==null;){var r=n;switch(C2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&k_();break;case 3:Bh(),Cn(qi),Cn(ci),U2();break;case 5:j2(r);break;case 4:Bh();break;case 13:Cn(Dn);break;case 19:Cn(Dn);break;case 10:I2(r.type._context);break;case 22:case 23:K2()}n=n.return}if(Lr=t,cr=t=vc(t.current,null),Vr=ho=e,yr=0,nv=null,G2=P1=dd=0,zi=_g=null,Uu!==null){for(e=0;e<Uu.length;e++)if(n=Uu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Uu=null}return t}function yH(t,e){do{var n=cr;try{if(N2(),n_.current=H_,$_){for(var r=Fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$_=!1}if(ud=0,Nr=mr=Fn=null,xg=!1,Qg=0,W2.current=null,n===null||n.return===null){yr=1,nv=e,cr=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Vr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=_3(a);if(p!==null){p.flags&=-257,w3(p,a,s,o,e),p.mode&1&&b3(o,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){b3(o,c,e),Y2();break e}l=Error(Ne(426))}}else if(Rn&&s.mode&1){var x=_3(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),w3(x,a,s,o,e),O2(zh(l,s));break e}}o=l=zh(l,s),yr!==4&&(yr=2),_g===null?_g=[o]:_g.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=tH(o,l,e);p3(o,v);break e;case 1:s=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(mc===null||!mc.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=nH(o,s,e);p3(o,S);break e}}o=o.return}while(o!==null)}_H(n)}catch(A){e=A,cr===n&&n!==null&&(cr=n=n.return);continue}break}while(!0)}function xH(){var t=V_.current;return V_.current=H_,t===null?H_:t}function Y2(){(yr===0||yr===3||yr===2)&&(yr=4),Lr===null||!(dd&268435455)&&!(P1&268435455)||Jl(Lr,Vr)}function q_(t,e){var n=Kt;Kt|=2;var r=xH();(Lr!==t||Vr!==e)&&($s=null,Qu(t,e));do try{qte();break}catch(i){yH(t,i)}while(!0);if(N2(),Kt=n,V_.current=r,cr!==null)throw Error(Ne(261));return Lr=null,Vr=0,yr}function qte(){for(;cr!==null;)bH(cr)}function Xte(){for(;cr!==null&&!xee();)bH(cr)}function bH(t){var e=SH(t.alternate,t,ho);t.memoizedProps=t.pendingProps,e===null?_H(t):cr=e,W2.current=null}function _H(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zte(n,e),n!==null){n.flags&=32767,cr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yr=6,cr=null;return}}else if(n=Bte(n,e,ho),n!==null){cr=n;return}if(e=e.sibling,e!==null){cr=e;return}cr=e=t}while(e!==null);yr===0&&(yr=5)}function Au(t,e,n){var r=cn,i=ta.transition;try{ta.transition=null,cn=1,Kte(t,e,n,r)}finally{ta.transition=i,cn=r}return null}function Kte(t,e,n,r){do vh();while(sc!==null);if(Kt&6)throw Error(Ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Cee(t,o),t===Lr&&(cr=Lr=null,Vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bx||(bx=!0,EH(P_,function(){return vh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ta.transition,ta.transition=null;var a=cn;cn=1;var s=Kt;Kt|=4,W2.current=null,Hte(t,n),mH(n,t),mte(OP),O_=!!CP,OP=CP=null,t.current=n,Vte(n),bee(),Kt=s,cn=a,ta.transition=o}else t.current=n;if(bx&&(bx=!1,sc=t,G_=i),o=t.pendingLanes,o===0&&(mc=null),See(n.stateNode),Ki(t,er()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(W_)throw W_=!1,t=YP,YP=null,t;return G_&1&&t.tag!==0&&vh(),o=t.pendingLanes,o&1?t===JP?wg++:(wg=0,JP=t):wg=0,Uc(),null}function vh(){if(sc!==null){var t=t8(G_),e=ta.transition,n=cn;try{if(ta.transition=null,cn=16>t?16:t,sc===null)var r=!1;else{if(t=sc,sc=null,G_=0,Kt&6)throw Error(Ne(331));var i=Kt;for(Kt|=4,Je=t.current;Je!==null;){var o=Je,a=o.child;if(Je.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Je=c;Je!==null;){var u=Je;switch(u.tag){case 0:case 11:case 15:bg(8,u,o)}var d=u.child;if(d!==null)d.return=u,Je=d;else for(;Je!==null;){u=Je;var f=u.sibling,p=u.return;if(fH(u),u===c){Je=null;break}if(f!==null){f.return=p,Je=f;break}Je=p}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Je=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Je=a;else e:for(;Je!==null;){if(o=Je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bg(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Je=v;break e}Je=o.return}}var b=t.current;for(Je=b;Je!==null;){a=Je;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Je=_;else e:for(a=b;Je!==null;){if(s=Je,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:M1(9,s)}}catch(A){Wn(s,s.return,A)}if(s===a){Je=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Je=S;break e}Je=s.return}}if(Kt=i,Uc(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(x1,t)}catch{}r=!0}return r}finally{cn=n,ta.transition=e}}return!1}function L3(t,e,n){e=zh(n,e),e=tH(t,e,1),t=pc(t,e,1),e=Pi(),t!==null&&(wy(t,1,e),Ki(t,e))}function Wn(t,e,n){if(t.tag===3)L3(t,t,n);else for(;e!==null;){if(e.tag===3){L3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mc===null||!mc.has(r))){t=zh(n,t),t=nH(e,t,1),e=pc(e,t,1),t=Pi(),e!==null&&(wy(e,1,t),Ki(e,t));break}}e=e.return}}function Yte(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pi(),t.pingedLanes|=t.suspendedLanes&n,Lr===t&&(Vr&n)===n&&(yr===4||yr===3&&(Vr&130023424)===Vr&&500>er()-q2?Qu(t,0):G2|=n),Ki(t,e)}function wH(t,e){e===0&&(t.mode&1?(e=ux,ux<<=1,!(ux&130023424)&&(ux=4194304)):e=1);var n=Pi();t=ll(t,e),t!==null&&(wy(t,e,n),Ki(t,n))}function Jte(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wH(t,n)}function Zte(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(e),wH(t,n)}var SH;SH=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qi.current)Vi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vi=!1,Fte(t,e,n);Vi=!!(t.flags&131072)}else Vi=!1,Rn&&e.flags&1048576&&M8(e,j_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;i_(t,e),t=e.pendingProps;var i=jh(e,ci.current);gh(e,n),i=B2(null,e,r,t,i,n);var o=z2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xi(r)?(o=!0,L_(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,L2(e),i.updater=T1,e.stateNode=i,i._reactInternals=e,FP(e,r,t,n),e=$P(null,e,r,!0,o,n)):(e.tag=0,Rn&&o&&P2(e),bi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(i_(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ene(r),t=ba(r,t),i){case 0:e=zP(null,e,r,t,n);break e;case 1:e=A3(null,e,r,t,n);break e;case 11:e=S3(null,e,r,t,n);break e;case 14:e=E3(null,e,r,ba(r.type,t),n);break e}throw Error(Ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),zP(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),A3(t,e,r,i,n);case 3:e:{if(aH(e),t===null)throw Error(Ne(387));r=e.pendingProps,o=e.memoizedState,i=o.element,I8(t,e),B_(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=zh(Error(Ne(423)),e),e=T3(t,e,r,n,i);break e}else if(r!==i){i=zh(Error(Ne(424)),e),e=T3(t,e,r,n,i);break e}else for(_o=hc(e.stateNode.containerInfo.firstChild),wo=e,Rn=!0,Pa=null,n=R8(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uh(),r===i){e=cl(t,e,n);break e}bi(t,e,r,n)}e=e.child}return e;case 5:return k8(e),t===null&&DP(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,RP(r,i)?a=null:o!==null&&RP(r,o)&&(e.flags|=32),oH(t,e),bi(t,e,a,n),e.child;case 6:return t===null&&DP(e),null;case 13:return sH(t,e,n);case 4:return D2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fh(e,null,r,n):bi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),S3(t,e,r,i,n);case 7:return bi(t,e,e.pendingProps,n),e.child;case 8:return bi(t,e,e.pendingProps.children,n),e.child;case 12:return bi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,_n(U_,r._currentValue),r._currentValue=a,o!==null)if(Da(o.value,a)){if(o.children===i.children&&!qi.current){e=cl(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=tl(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),jP(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Ne(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),jP(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}bi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gh(e,n),i=ia(i),r=r(i),e.flags|=1,bi(t,e,r,n),e.child;case 14:return r=e.type,i=ba(r,e.pendingProps),i=ba(r.type,i),E3(t,e,r,i,n);case 15:return rH(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),i_(t,e),e.tag=1,Xi(r)?(t=!0,L_(e)):t=!1,gh(e,n),eH(e,r,i),FP(e,r,i,n),$P(null,e,r,!0,t,n);case 19:return lH(t,e,n);case 22:return iH(t,e,n)}throw Error(Ne(156,e.tag))};function EH(t,e){return J5(t,e)}function Qte(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qo(t,e,n,r){return new Qte(t,e,n,r)}function J2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ene(t){if(typeof t=="function")return J2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===g2)return 11;if(t===v2)return 14}return 2}function vc(t,e){var n=t.alternate;return n===null?(n=Qo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function s_(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")J2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Wf:return ed(n.children,i,o,e);case m2:a=8,i|=8;break;case cP:return t=Qo(12,n,e,i|2),t.elementType=cP,t.lanes=o,t;case uP:return t=Qo(13,n,e,i),t.elementType=uP,t.lanes=o,t;case dP:return t=Qo(19,n,e,i),t.elementType=dP,t.lanes=o,t;case k5:return C1(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N5:a=10;break e;case I5:a=9;break e;case g2:a=11;break e;case v2:a=14;break e;case Gl:a=16,r=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=Qo(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ed(t,e,n,r){return t=Qo(7,t,r,e),t.lanes=n,t}function C1(t,e,n,r){return t=Qo(22,t,r,e),t.elementType=k5,t.lanes=n,t.stateNode={isHidden:!1},t}function uT(t,e,n){return t=Qo(6,t,null,e),t.lanes=n,t}function dT(t,e,n){return e=Qo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tne(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=WA(0),this.expirationTimes=WA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=WA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Z2(t,e,n,r,i,o,a,s,l){return t=new tne(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Qo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},L2(o),t}function nne(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AH(t){if(!t)return Tc;t=t._reactInternals;e:{if(Md(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var n=t.type;if(Xi(n))return A8(t,n,e)}return e}function TH(t,e,n,r,i,o,a,s,l){return t=Z2(n,r,!0,t,i,o,a,s,l),t.context=AH(null),n=t.current,r=Pi(),i=gc(n),o=tl(r,i),o.callback=e??null,pc(n,o,i),t.current.lanes=i,wy(t,i,r),Ki(t,r),t}function O1(t,e,n,r){var i=e.current,o=Pi(),a=gc(i);return n=AH(n),e.context===null?e.context=n:e.pendingContext=n,e=tl(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pc(i,e,a),t!==null&&(ka(t,i,a,o),t_(t,i,a)),a}function X_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function D3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Q2(t,e){D3(t,e),(t=t.alternate)&&D3(t,e)}function rne(){return null}var MH=typeof reportError=="function"?reportError:function(t){console.error(t)};function eN(t){this._internalRoot=t}R1.prototype.render=eN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));O1(t,e,null,null)};R1.prototype.unmount=eN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fd(function(){O1(null,t,null,null)}),e[sl]=null}};function R1(t){this._internalRoot=t}R1.prototype.unstable_scheduleHydration=function(t){if(t){var e=i8();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yl.length&&e!==0&&e<Yl[n].priority;n++);Yl.splice(n,0,t),n===0&&a8(t)}};function tN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function N1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j3(){}function ine(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=X_(a);o.call(c)}}var a=TH(e,r,t,0,null,!1,!1,"",j3);return t._reactRootContainer=a,t[sl]=a.current,Xg(t.nodeType===8?t.parentNode:t),fd(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=X_(l);s.call(c)}}var l=Z2(t,0,!1,null,null,!1,!1,"",j3);return t._reactRootContainer=l,t[sl]=l.current,Xg(t.nodeType===8?t.parentNode:t),fd(function(){O1(e,l,n,r)}),l}function I1(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=X_(a);s.call(l)}}O1(e,a,t,i)}else a=ine(n,e,t,i,r);return X_(a)}n8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sg(e.pendingLanes);n!==0&&(b2(e,n|1),Ki(e,er()),!(Kt&6)&&($h=er()+500,Uc()))}break;case 13:fd(function(){var r=ll(t,1);if(r!==null){var i=Pi();ka(r,t,1,i)}}),Q2(t,1)}};_2=function(t){if(t.tag===13){var e=ll(t,134217728);if(e!==null){var n=Pi();ka(e,t,134217728,n)}Q2(t,134217728)}};r8=function(t){if(t.tag===13){var e=gc(t),n=ll(t,e);if(n!==null){var r=Pi();ka(n,t,e,r)}Q2(t,e)}};i8=function(){return cn};o8=function(t,e){var n=cn;try{return cn=t,e()}finally{cn=n}};_P=function(t,e,n){switch(e){case"input":if(pP(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=S1(r);if(!i)throw Error(Ne(90));D5(r),pP(r,i)}}}break;case"textarea":U5(t,n);break;case"select":e=n.value,e!=null&&fh(t,!!n.multiple,e,!1)}};W5=X2;G5=fd;var one={usingClientEntryPoint:!1,Events:[Ey,Kf,S1,H5,V5,X2]},Rm={findFiberByHostInstance:ju,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ane={bundleType:Rm.bundleType,version:Rm.version,rendererPackageName:Rm.rendererPackageName,rendererConfig:Rm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K5(t),t===null?null:t.stateNode},findFiberByHostInstance:Rm.findFiberByHostInstance||rne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_x.isDisabled&&_x.supportsFiber)try{x1=_x.inject(ane),ls=_x}catch{}}Po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=one;Po.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tN(e))throw Error(Ne(200));return nne(t,e,null,n)};Po.createRoot=function(t,e){if(!tN(t))throw Error(Ne(299));var n=!1,r="",i=MH;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Z2(t,1,!1,null,null,n,!1,r,i),t[sl]=e.current,Xg(t.nodeType===8?t.parentNode:t),new eN(e)};Po.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=K5(e),t=t===null?null:t.stateNode,t};Po.flushSync=function(t){return fd(t)};Po.hydrate=function(t,e,n){if(!N1(e))throw Error(Ne(200));return I1(null,t,e,!0,n)};Po.hydrateRoot=function(t,e,n){if(!tN(t))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=MH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=TH(e,null,t,1,n??null,i,!1,o,a),t[sl]=e.current,Xg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new R1(e)};Po.render=function(t,e,n){if(!N1(e))throw Error(Ne(200));return I1(null,t,e,!1,n)};Po.unmountComponentAtNode=function(t){if(!N1(t))throw Error(Ne(40));return t._reactRootContainer?(fd(function(){I1(null,null,t,!1,function(){t._reactRootContainer=null,t[sl]=null})}),!0):!1};Po.unstable_batchedUpdates=X2;Po.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!N1(n))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return I1(t,e,n,!1,r)};Po.version="18.3.1-next-f1338f8080-20240426";function PH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PH)}catch(t){console.error(t)}}PH(),P5.exports=Po;var Pd=P5.exports;const CH=rn(Pd);var OH,U3=Pd;OH=U3.createRoot,U3.hydrateRoot;const sne=1,lne=1e6;let fT=0;function cne(){return fT=(fT+1)%Number.MAX_SAFE_INTEGER,fT.toString()}const hT=new Map,F3=t=>{if(hT.has(t))return;const e=setTimeout(()=>{hT.delete(t),Sg({type:"REMOVE_TOAST",toastId:t})},lne);hT.set(t,e)},une=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,sne)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?F3(n):t.toasts.forEach(r=>{F3(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},l_=[];let c_={toasts:[]};function Sg(t){c_=une(c_,t),l_.forEach(e=>{e(c_)})}function dne({...t}){const e=cne(),n=i=>Sg({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Sg({type:"DISMISS_TOAST",toastId:e});return Sg({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ty(){const[t,e]=C.useState(c_);return C.useEffect(()=>(l_.push(e),()=>{const n=l_.indexOf(e);n>-1&&l_.splice(n,1)}),[t]),{...t,toast:dne,dismiss:n=>Sg({type:"DISMISS_TOAST",toastId:n})}}function ze(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function fne(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function k1(...t){return e=>t.forEach(n=>fne(n,e))}function tn(...t){return C.useCallback(k1(...t),t)}function hne(t,e=[]){let n=[];function r(o,a){const s=C.createContext(a),l=n.length;n=[...n,a];function c(d){const{scope:f,children:p,...g}=d,y=(f==null?void 0:f[t][l])||s,x=C.useMemo(()=>g,Object.values(g));return w.jsx(y.Provider,{value:x,children:p})}function u(d,f){const p=(f==null?void 0:f[t][l])||s,g=C.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(a=>C.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return C.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,pne(i,...e)]}function pne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...s,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Mc=C.forwardRef((t,e)=>{const{children:n,...r}=t,i=C.Children.toArray(n),o=i.find(mne);if(o){const a=o.props.children,s=i.map(l=>l===o?C.Children.count(a)>1?C.Children.only(null):C.isValidElement(a)?a.props.children:null:l);return w.jsx(eC,{...r,ref:e,children:C.isValidElement(a)?C.cloneElement(a,void 0,s):null})}return w.jsx(eC,{...r,ref:e,children:n})});Mc.displayName="Slot";var eC=C.forwardRef((t,e)=>{const{children:n,...r}=t;if(C.isValidElement(n)){const i=vne(n);return C.cloneElement(n,{...gne(r,n.props),ref:e?k1(e,i):i})}return C.Children.count(n)>1?C.Children.only(null):null});eC.displayName="SlotClone";var RH=({children:t})=>w.jsx(w.Fragment,{children:t});function mne(t){return C.isValidElement(t)&&t.type===RH}function gne(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{o(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function vne(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function L1(t){const e=t+"CollectionProvider",[n,r]=hne(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:y}=p,x=V.useRef(null),v=V.useRef(new Map).current;return w.jsx(i,{scope:g,itemMap:v,collectionRef:x,children:y})};a.displayName=e;const s=t+"CollectionSlot",l=V.forwardRef((p,g)=>{const{scope:y,children:x}=p,v=o(s,y),b=tn(g,v.collectionRef);return w.jsx(Mc,{ref:b,children:x})});l.displayName=s;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=V.forwardRef((p,g)=>{const{scope:y,children:x,...v}=p,b=V.useRef(null),_=tn(g,b),S=o(c,y);return V.useEffect(()=>(S.itemMap.set(b,{ref:b,...v}),()=>void S.itemMap.delete(b))),w.jsx(Mc,{[u]:"",ref:_,children:x})});d.displayName=c;function f(p){const g=o(t+"CollectionConsumer",p);return V.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((S,A)=>v.indexOf(S.ref.current)-v.indexOf(A.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:l,ItemSlot:d},f,r]}function yne(t,e){const n=C.createContext(e),r=o=>{const{children:a,...s}=o,l=C.useMemo(()=>s,Object.values(s));return w.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(o){const a=C.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Fc(t,e=[]){let n=[];function r(o,a){const s=C.createContext(a),l=n.length;n=[...n,a];const c=d=>{var v;const{scope:f,children:p,...g}=d,y=((v=f==null?void 0:f[t])==null?void 0:v[l])||s,x=C.useMemo(()=>g,Object.values(g));return w.jsx(y.Provider,{value:x,children:p})};c.displayName=o+"Provider";function u(d,f){var y;const p=((y=f==null?void 0:f[t])==null?void 0:y[l])||s,g=C.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>C.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return C.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,xne(i,...e)]}function xne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...s,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var bne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Et=bne.reduce((t,e)=>{const n=C.forwardRef((r,i)=>{const{asChild:o,...a}=r,s=o?Mc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(s,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function nN(t,e){t&&Pd.flushSync(()=>t.dispatchEvent(e))}function ui(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function _ne(t,e=globalThis==null?void 0:globalThis.document){const n=ui(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var wne="DismissableLayer",tC="dismissableLayer.update",Sne="dismissableLayer.pointerDownOutside",Ene="dismissableLayer.focusOutside",B3,NH=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mp=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=C.useContext(NH),[u,d]=C.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),g=tn(e,P=>d(P)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(x),b=u?y.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=v,A=Tne(P=>{const N=P.target,R=[...c.branches].some(I=>I.contains(N));!S||R||(i==null||i(P),a==null||a(P),P.defaultPrevented||s==null||s())},f),M=Mne(P=>{const N=P.target;[...c.branches].some(I=>I.contains(N))||(o==null||o(P),a==null||a(P),P.defaultPrevented||s==null||s())},f);return _ne(P=>{b===c.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&s&&(P.preventDefault(),s()))},f),C.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(B3=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),z3(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=B3)}},[u,f,n,c]),C.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),z3())},[u,c]),C.useEffect(()=>{const P=()=>p({});return document.addEventListener(tC,P),()=>document.removeEventListener(tC,P)},[]),w.jsx(Et.div,{...l,ref:g,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:ze(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ze(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ze(t.onPointerDownCapture,A.onPointerDownCapture)})});Mp.displayName=wne;var Ane="DismissableLayerBranch",IH=C.forwardRef((t,e)=>{const n=C.useContext(NH),r=C.useRef(null),i=tn(e,r);return C.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),w.jsx(Et.div,{...t,ref:i})});IH.displayName=Ane;function Tne(t,e=globalThis==null?void 0:globalThis.document){const n=ui(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){kH(Sne,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Mne(t,e=globalThis==null?void 0:globalThis.document){const n=ui(t),r=C.useRef(!1);return C.useEffect(()=>{const i=o=>{o.target&&!r.current&&kH(Ene,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function z3(){const t=new CustomEvent(tC);document.dispatchEvent(t)}function kH(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?nN(i,o):i.dispatchEvent(o)}var Pne=Mp,Cne=IH,di=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},One="Portal",My=C.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=C.useState(!1);di(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?CH.createPortal(w.jsx(Et.div,{...r,ref:e}),a):null});My.displayName=One;function Rne(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var sa=t=>{const{present:e,children:n}=t,r=Nne(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),o=tn(r.ref,Ine(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:o}):null};sa.displayName="Presence";function Nne(t){const[e,n]=C.useState(),r=C.useRef({}),i=C.useRef(t),o=C.useRef("none"),a=t?"mounted":"unmounted",[s,l]=Rne(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=wx(r.current);o.current=s==="mounted"?c:"none"},[s]),di(()=>{const c=r.current,u=i.current;if(u!==t){const f=o.current,p=wx(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),di(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const y=wx(r.current).includes(p.animationName);if(p.target===e&&y&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=p=>{p.target===e&&(o.current=wx(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:C.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function wx(t){return(t==null?void 0:t.animationName)||"none"}function Ine(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Pc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=kne({defaultProp:e,onChange:n}),o=t!==void 0,a=o?t:r,s=ui(n),l=C.useCallback(c=>{if(o){const d=typeof c=="function"?c(t):c;d!==t&&s(d)}else i(c)},[o,t,i,s]);return[a,l]}function kne({defaultProp:t,onChange:e}){const n=C.useState(t),[r]=n,i=C.useRef(r),o=ui(e);return C.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var Lne="VisuallyHidden",Py=C.forwardRef((t,e)=>w.jsx(Et.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Py.displayName=Lne;var Dne=Py,rN="ToastProvider",[iN,jne,Une]=L1("Toast"),[LH,n6e]=Fc("Toast",[Une]),[Fne,D1]=LH(rN),DH=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=t,[s,l]=C.useState(null),[c,u]=C.useState(0),d=C.useRef(!1),f=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rN}\`. Expected non-empty \`string\`.`),w.jsx(iN.Provider,{scope:e,children:w.jsx(Fne,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:C.useCallback(()=>u(p=>p+1),[]),onToastRemove:C.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:a})})};DH.displayName=rN;var jH="ToastViewport",Bne=["F8"],nC="toast.viewportPause",rC="toast.viewportResume",UH=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Bne,label:i="Notifications ({hotkey})",...o}=t,a=D1(jH,n),s=jne(n),l=C.useRef(null),c=C.useRef(null),u=C.useRef(null),d=C.useRef(null),f=tn(e,d,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;C.useEffect(()=>{const x=v=>{var _;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),C.useEffect(()=>{const x=l.current,v=d.current;if(g&&x&&v){const b=()=>{if(!a.isClosePausedRef.current){const M=new CustomEvent(nC);v.dispatchEvent(M),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const M=new CustomEvent(rC);v.dispatchEvent(M),a.isClosePausedRef.current=!1}},S=M=>{!x.contains(M.relatedTarget)&&_()},A=()=>{x.contains(document.activeElement)||_()};return x.addEventListener("focusin",b),x.addEventListener("focusout",S),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",A),window.addEventListener("blur",b),window.addEventListener("focus",_),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",A),window.removeEventListener("blur",b),window.removeEventListener("focus",_)}}},[g,a.isClosePausedRef]);const y=C.useCallback(({tabbingDirection:x})=>{const b=s().map(_=>{const S=_.ref.current,A=[S,...Qne(S)];return x==="forwards"?A:A.reverse()});return(x==="forwards"?b.reverse():b).flat()},[s]);return C.useEffect(()=>{const x=d.current;if(x){const v=b=>{var A,M,P;const _=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!_){const N=document.activeElement,R=b.shiftKey;if(b.target===x&&R){(A=c.current)==null||A.focus();return}const U=y({tabbingDirection:R?"backwards":"forwards"}),X=U.findIndex(j=>j===N);pT(U.slice(X+1))?b.preventDefault():R?(M=c.current)==null||M.focus():(P=u.current)==null||P.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[s,y]),w.jsxs(Cne,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&w.jsx(iC,{ref:c,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});pT(x)}}),w.jsx(iN.Slot,{scope:n,children:w.jsx(Et.ol,{tabIndex:-1,...o,ref:f})}),g&&w.jsx(iC,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});pT(x)}})]})});UH.displayName=jH;var FH="ToastFocusProxy",iC=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=D1(FH,n);return w.jsx(Py,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const s=a.relatedTarget;!((c=o.viewport)!=null&&c.contains(s))&&r()}})});iC.displayName=FH;var j1="Toast",zne="toast.swipeStart",$ne="toast.swipeMove",Hne="toast.swipeCancel",Vne="toast.swipeEnd",BH=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=t,[s=!0,l]=Pc({prop:r,defaultProp:i,onChange:o});return w.jsx(sa,{present:n||s,children:w.jsx(qne,{open:s,...a,ref:e,onClose:()=>l(!1),onPause:ui(t.onPause),onResume:ui(t.onResume),onSwipeStart:ze(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ze(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ze(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ze(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});BH.displayName=j1;var[Wne,Gne]=LH(j1,{onClose(){}}),qne=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...g}=t,y=D1(j1,n),[x,v]=C.useState(null),b=tn(e,j=>v(j)),_=C.useRef(null),S=C.useRef(null),A=i||y.duration,M=C.useRef(0),P=C.useRef(A),N=C.useRef(0),{onToastAdd:R,onToastRemove:I}=y,D=ui(()=>{var W;(x==null?void 0:x.contains(document.activeElement))&&((W=y.viewport)==null||W.focus()),a()}),U=C.useCallback(j=>{!j||j===1/0||(window.clearTimeout(N.current),M.current=new Date().getTime(),N.current=window.setTimeout(D,j))},[D]);C.useEffect(()=>{const j=y.viewport;if(j){const W=()=>{U(P.current),c==null||c()},H=()=>{const Y=new Date().getTime()-M.current;P.current=P.current-Y,window.clearTimeout(N.current),l==null||l()};return j.addEventListener(nC,H),j.addEventListener(rC,W),()=>{j.removeEventListener(nC,H),j.removeEventListener(rC,W)}}},[y.viewport,A,l,c,U]),C.useEffect(()=>{o&&!y.isClosePausedRef.current&&U(A)},[o,A,y.isClosePausedRef,U]),C.useEffect(()=>(R(),()=>I()),[R,I]);const X=C.useMemo(()=>x?qH(x):null,[x]);return y.viewport?w.jsxs(w.Fragment,{children:[X&&w.jsx(Xne,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),w.jsx(Wne,{scope:n,onClose:D,children:Pd.createPortal(w.jsx(iN.ItemSlot,{scope:n,children:w.jsx(Pne,{asChild:!0,onEscapeKeyDown:ze(s,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(Et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ze(t.onKeyDown,j=>{j.key==="Escape"&&(s==null||s(j.nativeEvent),j.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ze(t.onPointerDown,j=>{j.button===0&&(_.current={x:j.clientX,y:j.clientY})}),onPointerMove:ze(t.onPointerMove,j=>{if(!_.current)return;const W=j.clientX-_.current.x,H=j.clientY-_.current.y,Y=!!S.current,k=["left","right"].includes(y.swipeDirection),F=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,$=k?F(0,W):0,q=k?0:F(0,H),Z=j.pointerType==="touch"?10:2,ee={x:$,y:q},ne={originalEvent:j,delta:ee};Y?(S.current=ee,Sx($ne,d,ne,{discrete:!1})):$3(ee,y.swipeDirection,Z)?(S.current=ee,Sx(zne,u,ne,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(W)>Z||Math.abs(H)>Z)&&(_.current=null)}),onPointerUp:ze(t.onPointerUp,j=>{const W=S.current,H=j.target;if(H.hasPointerCapture(j.pointerId)&&H.releasePointerCapture(j.pointerId),S.current=null,_.current=null,W){const Y=j.currentTarget,k={originalEvent:j,delta:W};$3(W,y.swipeDirection,y.swipeThreshold)?Sx(Vne,p,k,{discrete:!0}):Sx(Hne,f,k,{discrete:!0}),Y.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Xne=t=>{const{__scopeToast:e,children:n,...r}=t,i=D1(j1,e),[o,a]=C.useState(!1),[s,l]=C.useState(!1);return Jne(()=>a(!0)),C.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:w.jsx(My,{asChild:!0,children:w.jsx(Py,{...r,children:o&&w.jsxs(w.Fragment,{children:[i.label," ",n]})})})},Kne="ToastTitle",zH=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(Et.div,{...r,ref:e})});zH.displayName=Kne;var Yne="ToastDescription",$H=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(Et.div,{...r,ref:e})});$H.displayName=Yne;var HH="ToastAction",VH=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?w.jsx(GH,{altText:n,asChild:!0,children:w.jsx(oN,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${HH}\`. Expected non-empty \`string\`.`),null)});VH.displayName=HH;var WH="ToastClose",oN=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Gne(WH,n);return w.jsx(GH,{asChild:!0,children:w.jsx(Et.button,{type:"button",...r,ref:e,onClick:ze(t.onClick,i.onClose)})})});oN.displayName=WH;var GH=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return w.jsx(Et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function qH(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Zne(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...qH(r))}}),e}function Sx(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?nN(i,o):i.dispatchEvent(o)}var $3=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function Jne(t=()=>{}){const e=ui(t);di(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Zne(t){return t.nodeType===t.ELEMENT_NODE}function Qne(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pT(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ere=DH,XH=UH,KH=BH,YH=zH,JH=$H,ZH=VH,QH=oN;function eV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=eV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=eV(t))&&(r&&(r+=" "),r+=e);return r}const H3=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,V3=Lt,U1=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return V3(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const f=H3(u)||H3(d);return i[c][f]}),s=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...p}=u;return Object.entries(p).every(g=>{let[y,x]=g;return Array.isArray(x)?x.includes({...o,...s}[y]):{...o,...s}[y]===x})?[...c,d,f]:c},[]);return V3(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tV=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>C.createElement("svg",{ref:l,...nre,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tV("lucide",i),...s},[...a.map(([c,u])=>C.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(t,e)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(rre,{ref:o,iconNode:e,className:tV(`lucide-${tre(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=yt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=yt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=yt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=yt("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=yt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=yt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=yt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=yt("ChartColumnIncreasing",[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=yt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=yt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=yt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=yt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=yt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=yt("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=yt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=yt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=yt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=yt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=yt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=yt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=yt("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=yt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=yt("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=yt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=yt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=yt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=yt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=yt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=yt("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=yt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=yt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=yt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=yt("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=yt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sN="-",Cre=t=>{const e=Rre(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(sN);return s[0]===""&&s.length!==1&&s.shift(),pV(s,e)||Ore(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},pV=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?pV(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(sN);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},W3=/^\[(.+)\]$/,Ore=t=>{if(W3.test(t)){const e=W3.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Rre=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Ire(Object.entries(t.classGroups),n).forEach(([o,a])=>{aC(a,r,o,e)}),r},aC=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:G3(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Nre(i)){aC(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{aC(a,G3(e,o),n,r)})})},G3=(t,e)=>{let n=t;return e.split(sN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Nre=t=>t.isThemeGetter,Ire=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,kre=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},mV="!",Lre=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,u=0,d;for(let x=0;x<s.length;x++){let v=s[x];if(c===0){if(v===i&&(r||s.slice(x,x+o)===e)){l.push(s.slice(u,x)),u=x+o;continue}if(v==="/"){d=x;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?s:s.substring(u),p=f.startsWith(mV),g=p?f.substring(1):f,y=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}};return n?s=>n({className:s,parseClassName:a}):a},Dre=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},jre=t=>({cache:kre(t.cacheSize),parseClassName:Lre(t),...Cre(t)}),Ure=/\s+/,Fre=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(Ure);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let g=!!p,y=r(g?f.substring(0,p):f);if(!y){if(!g){s=c+(s.length>0?" "+s:s);continue}if(y=r(f),!y){s=c+(s.length>0?" "+s:s);continue}g=!1}const x=Dre(u).join(":"),v=d?x+mV:x,b=v+y;if(o.includes(b))continue;o.push(b);const _=i(y,g);for(let S=0;S<_.length;++S){const A=_[S];o.push(v+A)}s=c+(s.length>0?" "+s:s)}return s};function Bre(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gV(e))&&(r&&(r+=" "),r+=n);return r}const gV=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gV(t[r]))&&(n&&(n+=" "),n+=e);return n};function zre(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((u,d)=>d(u),t());return n=jre(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=Fre(l,n);return i(l,u),u}return function(){return o(Bre.apply(null,arguments))}}const En=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vV=/^\[(?:([a-z-]+):)?(.+)\]$/i,$re=/^\d+\/\d+$/,Hre=new Set(["px","full","screen"]),Vre=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wre=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qre=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xre=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Is=t=>yh(t)||Hre.has(t)||$re.test(t),kl=t=>Pp(t,"length",nie),yh=t=>!!t&&!Number.isNaN(Number(t)),yT=t=>Pp(t,"number",yh),Nm=t=>!!t&&Number.isInteger(Number(t)),Kre=t=>t.endsWith("%")&&yh(t.slice(0,-1)),Dt=t=>vV.test(t),Ll=t=>Vre.test(t),Yre=new Set(["length","size","percentage"]),Jre=t=>Pp(t,Yre,yV),Zre=t=>Pp(t,"position",yV),Qre=new Set(["image","url"]),eie=t=>Pp(t,Qre,iie),tie=t=>Pp(t,"",rie),Im=()=>!0,Pp=(t,e,n)=>{const r=vV.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},nie=t=>Wre.test(t)&&!Gre.test(t),yV=()=>!1,rie=t=>qre.test(t),iie=t=>Xre.test(t),oie=()=>{const t=En("colors"),e=En("spacing"),n=En("blur"),r=En("brightness"),i=En("borderColor"),o=En("borderRadius"),a=En("borderSpacing"),s=En("borderWidth"),l=En("contrast"),c=En("grayscale"),u=En("hueRotate"),d=En("invert"),f=En("gap"),p=En("gradientColorStops"),g=En("gradientColorStopPositions"),y=En("inset"),x=En("margin"),v=En("opacity"),b=En("padding"),_=En("saturate"),S=En("scale"),A=En("sepia"),M=En("skew"),P=En("space"),N=En("translate"),R=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Dt,e],U=()=>[Dt,e],X=()=>["",Is,kl],j=()=>["auto",yh,Dt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Dt],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[yh,Dt];return{cacheSize:500,separator:":",theme:{colors:[Im],spacing:[Is,kl],blur:["none","",Ll,Dt],brightness:q(),borderColor:[t],borderRadius:["none","","full",Ll,Dt],borderSpacing:U(),borderWidth:X(),contrast:q(),grayscale:F(),hueRotate:q(),invert:F(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[Kre,kl],inset:D(),margin:D(),opacity:q(),padding:U(),saturate:q(),scale:q(),sepia:F(),skew:q(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Dt]}],container:["container"],columns:[{columns:[Ll]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Dt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nm,Dt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Dt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Nm,Dt]}],"grid-cols":[{"grid-cols":[Im]}],"col-start-end":[{col:["auto",{span:["full",Nm,Dt]},Dt]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Im]}],"row-start-end":[{row:["auto",{span:[Nm,Dt]},Dt]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Dt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Dt,e]}],"min-w":[{"min-w":[Dt,e,"min","max","fit"]}],"max-w":[{"max-w":[Dt,e,"none","full","min","max","fit","prose",{screen:[Ll]},Ll]}],h:[{h:[Dt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Dt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Dt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Dt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ll,kl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yT]}],"font-family":[{font:[Im]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Dt]}],"line-clamp":[{"line-clamp":["none",yh,yT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Is,Dt]}],"list-image":[{"list-image":["none",Dt]}],"list-style-type":[{list:["none","disc","decimal",Dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Is,kl]}],"underline-offset":[{"underline-offset":["auto",Is,Dt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Zre]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jre]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eie]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Is,Dt]}],"outline-w":[{outline:[Is,kl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Is,kl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ll,tie]}],"shadow-color":[{shadow:[Im]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ll,Dt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Dt]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Dt]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Nm,Dt]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Dt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Is,kl,yT]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aie=zre(oie);function ut(...t){return aie(Lt(t))}const sie=ere,xV=C.forwardRef(({className:t,...e},n)=>w.jsx(XH,{ref:n,className:ut("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xV.displayName=XH.displayName;const lie=U1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bV=C.forwardRef(({className:t,variant:e,...n},r)=>w.jsx(KH,{ref:r,className:ut(lie({variant:e}),t),...n}));bV.displayName=KH.displayName;const cie=C.forwardRef(({className:t,...e},n)=>w.jsx(ZH,{ref:n,className:ut("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));cie.displayName=ZH.displayName;const _V=C.forwardRef(({className:t,...e},n)=>w.jsx(QH,{ref:n,className:ut("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:w.jsx(hV,{className:"h-4 w-4"})}));_V.displayName=QH.displayName;const wV=C.forwardRef(({className:t,...e},n)=>w.jsx(YH,{ref:n,className:ut("text-sm font-semibold",t),...e}));wV.displayName=YH.displayName;const SV=C.forwardRef(({className:t,...e},n)=>w.jsx(JH,{ref:n,className:ut("text-sm opacity-90",t),...e}));SV.displayName=JH.displayName;function uie(){const{toasts:t}=Ty();return w.jsxs(sie,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return w.jsxs(bV,{...o,children:[w.jsxs("div",{className:"grid gap-1",children:[n&&w.jsx(wV,{children:n}),r&&w.jsx(SV,{children:r})]}),i,w.jsx(_V,{})]},e)}),w.jsx(xV,{})]})}var q3=["light","dark"],die="(prefers-color-scheme: dark)",fie=C.createContext(void 0),hie={setTheme:t=>{},themes:[]},pie=()=>{var t;return(t=C.useContext(fie))!=null?t:hie};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:a,attrs:s,nonce:l})=>{let c=o==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?q3.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,y=!1,x=!0)=>{let v=a?a[g]:g,b=y?g+"|| ''":`'${v}'`,_="";return i&&x&&!y&&q3.includes(g)&&(_+=`d.style.colorScheme = '${g}';`),n==="class"?y||v?_+=`c.add(${b})`:_+="null":v&&(_+=`d[s](n,${b})`),_},p=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${die}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${c?"":"else{"+f(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${d}}catch(t){}}();`;return C.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var mie=t=>{switch(t){case"success":return yie;case"info":return bie;case"warning":return xie;case"error":return _ie;default:return null}},gie=Array(12).fill(0),vie=({visible:t})=>V.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},V.createElement("div",{className:"sonner-spinner"},gie.map((e,n)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),yie=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xie=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bie=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_ie=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wie=()=>{let[t,e]=V.useState(document.hidden);return V.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},sC=1,Sie=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:sC++,o=this.toasts.find(s=>s.id===i),a=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:n}),{...s,...t,id:i,dismissible:a,title:n}):s):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async o=>{if(Aie(o)&&!o.ok){i=!1;let a=typeof e.error=="function"?await e.error(`HTTP error! status: ${o.status}`):e.error,s=typeof e.description=="function"?await e.description(`HTTP error! status: ${o.status}`):e.description;this.create({id:n,type:"error",message:a,description:s})}else if(e.success!==void 0){i=!1;let a=typeof e.success=="function"?await e.success(o):e.success,s=typeof e.description=="function"?await e.description(o):e.description;this.create({id:n,type:"success",message:a,description:s})}}).catch(async o=>{if(e.error!==void 0){i=!1;let a=typeof e.error=="function"?await e.error(o):e.error,s=typeof e.description=="function"?await e.description(o):e.description;this.create({id:n,type:"error",message:a,description:s})}}).finally(()=>{var o;i&&(this.dismiss(n),n=void 0),(o=e.finally)==null||o.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||sC++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},fo=new Sie,Eie=(t,e)=>{let n=(e==null?void 0:e.id)||sC++;return fo.addToast({title:t,...e,id:n}),n},Aie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Tie=Eie,Mie=()=>fo.toasts,Wi=Object.assign(Tie,{success:fo.success,info:fo.info,warning:fo.warning,error:fo.error,custom:fo.custom,message:fo.message,promise:fo.promise,dismiss:fo.dismiss,loading:fo.loading},{getHistory:Mie});function Pie(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Pie(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ex(t){return t.label!==void 0}var Cie=3,Oie="32px",Rie=4e3,Nie=356,Iie=14,kie=20,Lie=200;function Die(...t){return t.filter(Boolean).join(" ")}var jie=t=>{var e,n,r,i,o,a,s,l,c,u;let{invert:d,toast:f,unstyled:p,interacting:g,setHeights:y,visibleToasts:x,heights:v,index:b,toasts:_,expanded:S,removeToast:A,defaultRichColors:M,closeButton:P,style:N,cancelButtonStyle:R,actionButtonStyle:I,className:D="",descriptionClassName:U="",duration:X,position:j,gap:W,loadingIcon:H,expandByDefault:Y,classNames:k,icons:F,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:q,cn:Z}=t,[ee,ne]=V.useState(!1),[ye,xe]=V.useState(!1),[le,Re]=V.useState(!1),[de,he]=V.useState(!1),[_e,z]=V.useState(0),[ve,se]=V.useState(0),Se=V.useRef(null),ue=V.useRef(null),Be=b===0,Le=b+1<=x,G=f.type,B=f.dismissible!==!1,oe=f.className||"",Ce=f.descriptionClassName||"",Pe=V.useMemo(()=>v.findIndex(Ke=>Ke.toastId===f.id)||0,[v,f.id]),Ee=V.useMemo(()=>{var Ke;return(Ke=f.closeButton)!=null?Ke:P},[f.closeButton,P]),tt=V.useMemo(()=>f.duration||X||Rie,[f.duration,X]),je=V.useRef(0),He=V.useRef(0),ct=V.useRef(0),gt=V.useRef(null),[Oe,Gt]=j.split("-"),kt=V.useMemo(()=>v.reduce((Ke,Ye,Te)=>Te>=Pe?Ke:Ke+Ye.height,0),[v,Pe]),_t=wie(),lt=f.invert||d,Xe=G==="loading";He.current=V.useMemo(()=>Pe*W+kt,[Pe,kt]),V.useEffect(()=>{ne(!0)},[]),V.useLayoutEffect(()=>{if(!ee)return;let Ke=ue.current,Ye=Ke.style.height;Ke.style.height="auto";let Te=Ke.getBoundingClientRect().height;Ke.style.height=Ye,se(Te),y(te=>te.find(ke=>ke.toastId===f.id)?te.map(ke=>ke.toastId===f.id?{...ke,height:Te}:ke):[{toastId:f.id,height:Te,position:f.position},...te])},[ee,f.title,f.description,y,f.id]);let pt=V.useCallback(()=>{xe(!0),z(He.current),y(Ke=>Ke.filter(Ye=>Ye.toastId!==f.id)),setTimeout(()=>{A(f)},Lie)},[f,A,y,He]);V.useEffect(()=>{if(f.promise&&G==="loading"||f.duration===1/0||f.type==="loading")return;let Ke,Ye=tt;return S||g||q&&_t?(()=>{if(ct.current<je.current){let Te=new Date().getTime()-je.current;Ye=Ye-Te}ct.current=new Date().getTime()})():Ye!==1/0&&(je.current=new Date().getTime(),Ke=setTimeout(()=>{var Te;(Te=f.onAutoClose)==null||Te.call(f,f),pt()},Ye)),()=>clearTimeout(Ke)},[S,g,Y,f,tt,pt,f.promise,G,q,_t]),V.useEffect(()=>{let Ke=ue.current;if(Ke){let Ye=Ke.getBoundingClientRect().height;return se(Ye),y(Te=>[{toastId:f.id,height:Ye,position:f.position},...Te]),()=>y(Te=>Te.filter(te=>te.toastId!==f.id))}},[y,f.id]),V.useEffect(()=>{f.delete&&pt()},[pt,f.delete]);function qt(){return F!=null&&F.loading?V.createElement("div",{className:"sonner-loader","data-visible":G==="loading"},F.loading):H?V.createElement("div",{className:"sonner-loader","data-visible":G==="loading"},H):V.createElement(vie,{visible:G==="loading"})}return V.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ue,className:Z(D,oe,k==null?void 0:k.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,k==null?void 0:k.default,k==null?void 0:k[G],(n=f==null?void 0:f.classNames)==null?void 0:n[G]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:M,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":ee,"data-promise":!!f.promise,"data-removed":ye,"data-visible":Le,"data-y-position":Oe,"data-x-position":Gt,"data-index":b,"data-front":Be,"data-swiping":le,"data-dismissible":B,"data-type":G,"data-invert":lt,"data-swipe-out":de,"data-expanded":!!(S||Y&&ee),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${ye?_e:He.current}px`,"--initial-height":Y?"auto":`${ve}px`,...N,...f.style},onPointerDown:Ke=>{Xe||!B||(Se.current=new Date,z(He.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(Re(!0),gt.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,Ye,Te,te;if(de||!B)return;gt.current=null;let ke=Number(((Ke=ue.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ue=new Date().getTime()-((Ye=Se.current)==null?void 0:Ye.getTime()),mt=Math.abs(ke)/Ue;if(Math.abs(ke)>=kie||mt>.11){z(He.current),(Te=f.onDismiss)==null||Te.call(f,f),pt(),he(!0);return}(te=ue.current)==null||te.style.setProperty("--swipe-amount","0px"),Re(!1)},onPointerMove:Ke=>{var Ye;if(!gt.current||!B)return;let Te=Ke.clientY-gt.current.y,te=Ke.clientX-gt.current.x,ke=(Oe==="top"?Math.min:Math.max)(0,Te),Ue=Ke.pointerType==="touch"?10:2;Math.abs(ke)>Ue?(Ye=ue.current)==null||Ye.style.setProperty("--swipe-amount",`${Te}px`):Math.abs(te)>Ue&&(gt.current=null)}},Ee&&!f.jsx?V.createElement("button",{"aria-label":$,"data-disabled":Xe,"data-close-button":!0,onClick:Xe||!B?()=>{}:()=>{var Ke;pt(),(Ke=f.onDismiss)==null||Ke.call(f,f)},className:Z(k==null?void 0:k.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||V.isValidElement(f.title)?f.jsx||f.title:V.createElement(V.Fragment,null,G||f.icon||f.promise?V.createElement("div",{"data-icon":"",className:Z(k==null?void 0:k.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||qt():null,f.type!=="loading"?f.icon||(F==null?void 0:F[G])||mie(G):null):null,V.createElement("div",{"data-content":"",className:Z(k==null?void 0:k.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},V.createElement("div",{"data-title":"",className:Z(k==null?void 0:k.title,(s=f==null?void 0:f.classNames)==null?void 0:s.title)},f.title),f.description?V.createElement("div",{"data-description":"",className:Z(U,Ce,k==null?void 0:k.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),V.isValidElement(f.cancel)?f.cancel:f.cancel&&Ex(f.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:Ke=>{var Ye,Te;Ex(f.cancel)&&B&&((Te=(Ye=f.cancel).onClick)==null||Te.call(Ye,Ke),pt())},className:Z(k==null?void 0:k.cancelButton,(c=f==null?void 0:f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,V.isValidElement(f.action)?f.action:f.action&&Ex(f.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||I,onClick:Ke=>{var Ye,Te;Ex(f.action)&&(Ke.defaultPrevented||((Te=(Ye=f.action).onClick)==null||Te.call(Ye,Ke),pt()))},className:Z(k==null?void 0:k.actionButton,(u=f==null?void 0:f.classNames)==null?void 0:u.actionButton)},f.action.label):null))};function X3(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Uie=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:s,theme:l="light",richColors:c,duration:u,style:d,visibleToasts:f=Cie,toastOptions:p,dir:g=X3(),gap:y=Iie,loadingIcon:x,icons:v,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:_,cn:S=Die}=t,[A,M]=V.useState([]),P=V.useMemo(()=>Array.from(new Set([n].concat(A.filter(q=>q.position).map(q=>q.position)))),[A,n]),[N,R]=V.useState([]),[I,D]=V.useState(!1),[U,X]=V.useState(!1),[j,W]=V.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=V.useRef(null),Y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=V.useRef(null),F=V.useRef(!1),$=V.useCallback(q=>{var Z;(Z=A.find(ee=>ee.id===q.id))!=null&&Z.delete||fo.dismiss(q.id),M(ee=>ee.filter(({id:ne})=>ne!==q.id))},[A]);return V.useEffect(()=>fo.subscribe(q=>{if(q.dismiss){M(Z=>Z.map(ee=>ee.id===q.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{CH.flushSync(()=>{M(Z=>{let ee=Z.findIndex(ne=>ne.id===q.id);return ee!==-1?[...Z.slice(0,ee),{...Z[ee],...q},...Z.slice(ee+1)]:[q,...Z]})})})}),[]),V.useEffect(()=>{if(l!=="system"){W(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{W(q?"dark":"light")})},[l]),V.useEffect(()=>{A.length<=1&&D(!1)},[A]),V.useEffect(()=>{let q=Z=>{var ee,ne;r.every(ye=>Z[ye]||Z.code===ye)&&(D(!0),(ee=H.current)==null||ee.focus()),Z.code==="Escape"&&(document.activeElement===H.current||(ne=H.current)!=null&&ne.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),V.useEffect(()=>{if(H.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,F.current=!1)}},[H.current]),A.length?V.createElement("section",{"aria-label":`${b} ${Y}`,tabIndex:-1},P.map((q,Z)=>{var ee;let[ne,ye]=q.split("-");return V.createElement("ol",{key:q,dir:g==="auto"?X3():g,tabIndex:-1,ref:H,className:a,"data-sonner-toaster":!0,"data-theme":j,"data-y-position":ne,"data-x-position":ye,style:{"--front-toast-height":`${((ee=N[0])==null?void 0:ee.height)||0}px`,"--offset":typeof s=="number"?`${s}px`:s||Oie,"--width":`${Nie}px`,"--gap":`${y}px`,...d},onBlur:xe=>{F.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(F.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||F.current||(F.current=!0,k.current=xe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{U||D(!1)},onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},A.filter(xe=>!xe.position&&Z===0||xe.position===q).map((xe,le)=>{var Re,de;return V.createElement(jie,{key:xe.id,icons:v,index:le,toast:xe,defaultRichColors:c,duration:(Re=p==null?void 0:p.duration)!=null?Re:u,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:f,closeButton:(de=p==null?void 0:p.closeButton)!=null?de:o,interacting:U,position:q,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:$,toasts:A.filter(he=>he.position==xe.position),heights:N.filter(he=>he.position==xe.position),setHeights:R,expandByDefault:i,gap:y,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:_,cn:S})}))})):null};const Fie=({...t})=>{const{theme:e="system"}=pie();return w.jsx(Uie,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Bie=T5.useId||(()=>{}),zie=0;function us(t){const[e,n]=C.useState(Bie());return di(()=>{t||n(r=>r??String(zie++))},[t]),t||(e?`radix-${e}`:"")}const $ie=["top","right","bottom","left"],Cc=Math.min,mo=Math.max,K_=Math.round,Ax=Math.floor,Oc=t=>({x:t,y:t}),Hie={left:"right",right:"left",bottom:"top",top:"bottom"},Vie={start:"end",end:"start"};function lC(t,e,n){return mo(t,Cc(e,n))}function ul(t,e){return typeof t=="function"?t(e):t}function dl(t){return t.split("-")[0]}function Cp(t){return t.split("-")[1]}function lN(t){return t==="x"?"y":"x"}function cN(t){return t==="y"?"height":"width"}function Rc(t){return["top","bottom"].includes(dl(t))?"y":"x"}function uN(t){return lN(Rc(t))}function Wie(t,e,n){n===void 0&&(n=!1);const r=Cp(t),i=uN(t),o=cN(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Y_(a)),[a,Y_(a)]}function Gie(t){const e=Y_(t);return[cC(t),e,cC(e)]}function cC(t){return t.replace(/start|end/g,e=>Vie[e])}function qie(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:a;default:return[]}}function Xie(t,e,n,r){const i=Cp(t);let o=qie(dl(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(cC)))),o}function Y_(t){return t.replace(/left|right|bottom|top/g,e=>Hie[e])}function Kie(t){return{top:0,right:0,bottom:0,left:0,...t}}function EV(t){return typeof t!="number"?Kie(t):{top:t,right:t,bottom:t,left:t}}function J_(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function K3(t,e,n){let{reference:r,floating:i}=t;const o=Rc(e),a=uN(e),s=cN(a),l=dl(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Cp(e)){case"start":p[a]-=f*(n&&c?-1:1);break;case"end":p[a]+=f*(n&&c?-1:1);break}return p}const Yie=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=K3(c,r,l),f=r,p={},g=0;for(let y=0;y<s.length;y++){const{name:x,fn:v}=s[y],{x:b,y:_,data:S,reset:A}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:t,floating:e}});u=b??u,d=_??d,p={...p,[x]:{...p[x],...S}},A&&g<=50&&(g++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(c=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:u,y:d}=K3(c,f,l)),y=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function iv(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=ul(e,t),g=EV(p),x=s[f?d==="floating"?"reference":"floating":d],v=J_(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),S=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},A=J_(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:_,strategy:l}):b);return{top:(v.top-A.top+g.top)/S.y,bottom:(A.bottom-v.bottom+g.bottom)/S.y,left:(v.left-A.left+g.left)/S.x,right:(A.right-v.right+g.right)/S.x}}const Jie=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=ul(t,e)||{};if(c==null)return{};const d=EV(u),f={x:n,y:r},p=uN(i),g=cN(p),y=await a.getDimensions(c),x=p==="y",v=x?"top":"left",b=x?"bottom":"right",_=x?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[p]-f[p]-o.floating[g],A=f[p]-o.reference[p],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let P=M?M[_]:0;(!P||!await(a.isElement==null?void 0:a.isElement(M)))&&(P=s.floating[_]||o.floating[g]);const N=S/2-A/2,R=P/2-y[g]/2-1,I=Cc(d[v],R),D=Cc(d[b],R),U=I,X=P-y[g]-D,j=P/2-y[g]/2+N,W=lC(U,j,X),H=!l.arrow&&Cp(i)!=null&&j!==W&&o.reference[g]/2-(j<U?I:D)-y[g]/2<0,Y=H?j<U?j-U:j-X:0;return{[p]:f[p]+Y,data:{[p]:W,centerOffset:j-W-Y,...H&&{alignmentOffset:Y}},reset:H}}}),Zie=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=ul(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=dl(i),b=Rc(s),_=dl(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=f||(_||!y?[Y_(s)]:Gie(s)),M=g!=="none";!f&&M&&A.push(...Xie(s,y,g,S));const P=[s,...A],N=await iv(e,x),R=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&R.push(N[v]),d){const j=Wie(i,a,S);R.push(N[j[0]],N[j[1]])}if(I=[...I,{placement:i,overflows:R}],!R.every(j=>j<=0)){var D,U;const j=(((D=o.flip)==null?void 0:D.index)||0)+1,W=P[j];if(W)return{data:{index:j,overflows:I},reset:{placement:W}};let H=(U=I.filter(Y=>Y.overflows[0]<=0).sort((Y,k)=>Y.overflows[1]-k.overflows[1])[0])==null?void 0:U.placement;if(!H)switch(p){case"bestFit":{var X;const Y=(X=I.filter(k=>{if(M){const F=Rc(k.placement);return F===b||F==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(F=>F>0).reduce((F,$)=>F+$,0)]).sort((k,F)=>k[1]-F[1])[0])==null?void 0:X[0];Y&&(H=Y);break}case"initialPlacement":H=s;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function Y3(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function J3(t){return $ie.some(e=>t[e]>=0)}const Qie=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ul(t,e);switch(r){case"referenceHidden":{const o=await iv(e,{...i,elementContext:"reference"}),a=Y3(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:J3(a)}}}case"escaped":{const o=await iv(e,{...i,altBoundary:!0}),a=Y3(o,n.floating);return{data:{escapedOffsets:a,escaped:J3(a)}}}default:return{}}}}};async function eoe(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=dl(n),s=Cp(n),l=Rc(n)==="y",c=["left","top"].includes(a)?-1:1,u=o&&l?-1:1,d=ul(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof g=="number"&&(p=s==="end"?g*-1:g),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const toe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await eoe(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},noe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:x=>{let{x:v,y:b}=x;return{x:v,y:b}}},...l}=ul(t,e),c={x:n,y:r},u=await iv(e,l),d=Rc(dl(i)),f=lN(d);let p=c[f],g=c[d];if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=p+u[x],_=p-u[v];p=lC(b,p,_)}if(a){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=g+u[x],_=g-u[v];g=lC(b,g,_)}const y=s.fn({...e,[f]:p,[d]:g});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:o,[d]:a}}}}}},roe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=ul(t,e),u={x:n,y:r},d=Rc(i),f=lN(d);let p=u[f],g=u[d];const y=ul(s,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=f==="y"?"height":"width",S=o.reference[f]-o.floating[_]+x.mainAxis,A=o.reference[f]+o.reference[_]-x.mainAxis;p<S?p=S:p>A&&(p=A)}if(c){var v,b;const _=f==="y"?"width":"height",S=["top","left"].includes(dl(i)),A=o.reference[d]-o.floating[_]+(S&&((v=a.offset)==null?void 0:v[d])||0)+(S?0:x.crossAxis),M=o.reference[d]+o.reference[_]+(S?0:((b=a.offset)==null?void 0:b[d])||0)-(S?x.crossAxis:0);g<A?g=A:g>M&&(g=M)}return{[f]:p,[d]:g}}}},ioe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=ul(t,e),u=await iv(e,c),d=dl(i),f=Cp(i),p=Rc(i)==="y",{width:g,height:y}=o.floating;let x,v;d==="top"||d==="bottom"?(x=d,v=f===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=d,x=f==="end"?"top":"bottom");const b=y-u.top-u.bottom,_=g-u.left-u.right,S=Cc(y-u[x],b),A=Cc(g-u[v],_),M=!e.middlewareData.shift;let P=S,N=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=b),M&&!f){const I=mo(u.left,0),D=mo(u.right,0),U=mo(u.top,0),X=mo(u.bottom,0);p?N=g-2*(I!==0||D!==0?I+D:mo(u.left,u.right)):P=y-2*(U!==0||X!==0?U+X:mo(u.top,u.bottom))}await l({...e,availableWidth:N,availableHeight:P});const R=await a.getDimensions(s.floating);return g!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function z1(){return typeof window<"u"}function Op(t){return AV(t)?(t.nodeName||"").toLowerCase():"#document"}function So(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ss(t){var e;return(e=(AV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AV(t){return z1()?t instanceof Node||t instanceof So(t).Node:!1}function ja(t){return z1()?t instanceof Element||t instanceof So(t).Element:!1}function ys(t){return z1()?t instanceof HTMLElement||t instanceof So(t).HTMLElement:!1}function Z3(t){return!z1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof So(t).ShadowRoot}function Cy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ua(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function ooe(t){return["table","td","th"].includes(Op(t))}function $1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function dN(t){const e=fN(),n=ja(t)?Ua(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function aoe(t){let e=Nc(t);for(;ys(e)&&!Hh(e);){if(dN(e))return e;if($1(e))return null;e=Nc(e)}return null}function fN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hh(t){return["html","body","#document"].includes(Op(t))}function Ua(t){return So(t).getComputedStyle(t)}function H1(t){return ja(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Nc(t){if(Op(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Z3(t)&&t.host||Ss(t);return Z3(e)?e.host:e}function TV(t){const e=Nc(t);return Hh(e)?t.ownerDocument?t.ownerDocument.body:t.body:ys(e)&&Cy(e)?e:TV(e)}function ov(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=TV(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=So(i);if(o){const s=uC(a);return e.concat(a,a.visualViewport||[],Cy(i)?i:[],s&&n?ov(s):[])}return e.concat(i,ov(i,[],n))}function uC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MV(t){const e=Ua(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ys(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=K_(n)!==o||K_(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function hN(t){return ja(t)?t:t.contextElement}function xh(t){const e=hN(t);if(!ys(e))return Oc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=MV(e);let a=(o?K_(n.width):n.width)/r,s=(o?K_(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const soe=Oc(0);function PV(t){const e=So(t);return!fN()||!e.visualViewport?soe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function loe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==So(t)?!1:e}function hd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=hN(t);let a=Oc(1);e&&(r?ja(r)&&(a=xh(r)):a=xh(t));const s=loe(o,n,r)?PV(o):Oc(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(o){const f=So(o),p=r&&ja(r)?So(r):r;let g=f,y=uC(g);for(;y&&r&&p!==g;){const x=xh(y),v=y.getBoundingClientRect(),b=Ua(y),_=v.left+(y.clientLeft+parseFloat(b.paddingLeft))*x.x,S=v.top+(y.clientTop+parseFloat(b.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=_,c+=S,g=So(y),y=uC(g)}}return J_({width:u,height:d,x:l,y:c})}function coe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=Ss(r),s=e?$1(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Oc(1);const u=Oc(0),d=ys(r);if((d||!d&&!o)&&((Op(r)!=="body"||Cy(a))&&(l=H1(r)),ys(r))){const f=hd(r);c=xh(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function uoe(t){return Array.from(t.getClientRects())}function dC(t,e){const n=H1(t).scrollLeft;return e?e.left+n:hd(Ss(t)).left+n}function doe(t){const e=Ss(t),n=H1(t),r=t.ownerDocument.body,i=mo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=mo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+dC(t);const s=-n.scrollTop;return Ua(r).direction==="rtl"&&(a+=mo(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function foe(t,e){const n=So(t),r=Ss(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=fN();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function hoe(t,e){const n=hd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ys(t)?xh(t):Oc(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function Q3(t,e,n){let r;if(e==="viewport")r=foe(t,n);else if(e==="document")r=doe(Ss(t));else if(ja(e))r=hoe(e,n);else{const i=PV(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return J_(r)}function CV(t,e){const n=Nc(t);return n===e||!ja(n)||Hh(n)?!1:Ua(n).position==="fixed"||CV(n,e)}function poe(t,e){const n=e.get(t);if(n)return n;let r=ov(t,[],!1).filter(s=>ja(s)&&Op(s)!=="body"),i=null;const o=Ua(t).position==="fixed";let a=o?Nc(t):t;for(;ja(a)&&!Hh(a);){const s=Ua(a),l=dN(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cy(a)&&!l&&CV(t,a))?r=r.filter(u=>u!==a):i=s,a=Nc(a)}return e.set(t,r),r}function moe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?$1(e)?[]:poe(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,u)=>{const d=Q3(e,u,i);return c.top=mo(d.top,c.top),c.right=Cc(d.right,c.right),c.bottom=Cc(d.bottom,c.bottom),c.left=mo(d.left,c.left),c},Q3(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function goe(t){const{width:e,height:n}=MV(t);return{width:e,height:n}}function voe(t,e,n){const r=ys(e),i=Ss(e),o=n==="fixed",a=hd(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=Oc(0);if(r||!r&&!o)if((Op(e)!=="body"||Cy(i))&&(s=H1(e)),r){const p=hd(e,!0,o,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=dC(i));let c=0,u=0;if(i&&!r&&!o){const p=i.getBoundingClientRect();u=p.top+s.scrollTop,c=p.left+s.scrollLeft-dC(i,p)}const d=a.left+s.scrollLeft-l.x-c,f=a.top+s.scrollTop-l.y-u;return{x:d,y:f,width:a.width,height:a.height}}function xT(t){return Ua(t).position==="static"}function ej(t,e){if(!ys(t)||Ua(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ss(t)===n&&(n=n.ownerDocument.body),n}function OV(t,e){const n=So(t);if($1(t))return n;if(!ys(t)){let i=Nc(t);for(;i&&!Hh(i);){if(ja(i)&&!xT(i))return i;i=Nc(i)}return n}let r=ej(t,e);for(;r&&ooe(r)&&xT(r);)r=ej(r,e);return r&&Hh(r)&&xT(r)&&!dN(r)?n:r||aoe(t)||n}const yoe=async function(t){const e=this.getOffsetParent||OV,n=this.getDimensions,r=await n(t.floating);return{reference:voe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xoe(t){return Ua(t).direction==="rtl"}const boe={convertOffsetParentRelativeRectToViewportRelativeRect:coe,getDocumentElement:Ss,getClippingRect:moe,getOffsetParent:OV,getElementRects:yoe,getClientRects:uoe,getDimensions:goe,getScale:xh,isElement:ja,isRTL:xoe};function _oe(t,e){let n=null,r;const i=Ss(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(s||e(),!d||!f)return;const p=Ax(u),g=Ax(i.clientWidth-(c+d)),y=Ax(i.clientHeight-(u+f)),x=Ax(c),b={rootMargin:-p+"px "+-g+"px "+-y+"px "+-x+"px",threshold:mo(0,Cc(1,l))||1};let _=!0;function S(A){const M=A[0].intersectionRatio;if(M!==l){if(!_)return a();M?a(!1,M):r=setTimeout(()=>{a(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(t)}return a(!0),o}function woe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=hN(t),u=i||o?[...c?ov(c):[],...ov(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=c&&s?_oe(c,n):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let g,y=l?hd(t):null;l&&x();function x(){const v=hd(t);y&&(v.x!==y.x||v.y!==y.y||v.width!==y.width||v.height!==y.height)&&n(),y=v,g=requestAnimationFrame(x)}return n(),()=>{var v;u.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Soe=toe,Eoe=noe,Aoe=Zie,Toe=ioe,Moe=Qie,tj=Jie,Poe=roe,Coe=(t,e,n)=>{const r=new Map,i={platform:boe,...n},o={...i.platform,_c:r};return Yie(t,e,{...i,platform:o})};var f_=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Z_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Z_(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Z_(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function RV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nj(t,e){const n=RV(t);return Math.round(e*n)/n}function bT(t){const e=C.useRef(t);return f_(()=>{e.current=t}),e}function Ooe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,d]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=C.useState(r);Z_(f,r)||p(r);const[g,y]=C.useState(null),[x,v]=C.useState(null),b=C.useCallback(k=>{k!==M.current&&(M.current=k,y(k))},[]),_=C.useCallback(k=>{k!==P.current&&(P.current=k,v(k))},[]),S=o||g,A=a||x,M=C.useRef(null),P=C.useRef(null),N=C.useRef(u),R=l!=null,I=bT(l),D=bT(i),U=bT(c),X=C.useCallback(()=>{if(!M.current||!P.current)return;const k={placement:e,strategy:n,middleware:f};D.current&&(k.platform=D.current),Coe(M.current,P.current,k).then(F=>{const $={...F,isPositioned:U.current!==!1};j.current&&!Z_(N.current,$)&&(N.current=$,Pd.flushSync(()=>{d($)}))})},[f,e,n,D,U]);f_(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[c]);const j=C.useRef(!1);f_(()=>(j.current=!0,()=>{j.current=!1}),[]),f_(()=>{if(S&&(M.current=S),A&&(P.current=A),S&&A){if(I.current)return I.current(S,A,X);X()}},[S,A,X,I,R]);const W=C.useMemo(()=>({reference:M,floating:P,setReference:b,setFloating:_}),[b,_]),H=C.useMemo(()=>({reference:S,floating:A}),[S,A]),Y=C.useMemo(()=>{const k={position:n,left:0,top:0};if(!H.floating)return k;const F=nj(H.floating,u.x),$=nj(H.floating,u.y);return s?{...k,transform:"translate("+F+"px, "+$+"px)",...RV(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:$}},[n,s,H.floating,u.x,u.y]);return C.useMemo(()=>({...u,update:X,refs:W,elements:H,floatingStyles:Y}),[u,X,W,H,Y])}const Roe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?tj({element:r.current,padding:i}).fn(n):{}:r?tj({element:r,padding:i}).fn(n):{}}}},Noe=(t,e)=>({...Soe(t),options:[t,e]}),Ioe=(t,e)=>({...Eoe(t),options:[t,e]}),koe=(t,e)=>({...Poe(t),options:[t,e]}),Loe=(t,e)=>({...Aoe(t),options:[t,e]}),Doe=(t,e)=>({...Toe(t),options:[t,e]}),joe=(t,e)=>({...Moe(t),options:[t,e]}),Uoe=(t,e)=>({...Roe(t),options:[t,e]});var Foe="Arrow",NV=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return w.jsx(Et.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});NV.displayName=Foe;var Boe=NV;function zoe(t,e=[]){let n=[];function r(o,a){const s=C.createContext(a),l=n.length;n=[...n,a];function c(d){const{scope:f,children:p,...g}=d,y=(f==null?void 0:f[t][l])||s,x=C.useMemo(()=>g,Object.values(g));return w.jsx(y.Provider,{value:x,children:p})}function u(d,f){const p=(f==null?void 0:f[t][l])||s,g=C.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(a=>C.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return C.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,$oe(i,...e)]}function $oe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...s,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function IV(t){const[e,n]=C.useState(void 0);return di(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var pN="Popper",[kV,Rp]=zoe(pN),[Hoe,LV]=kV(pN),DV=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return w.jsx(Hoe,{scope:e,anchor:r,onAnchorChange:i,children:n})};DV.displayName=pN;var jV="PopperAnchor",UV=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=LV(jV,n),a=C.useRef(null),s=tn(e,a);return C.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:w.jsx(Et.div,{...i,ref:s})});UV.displayName=jV;var mN="PopperContent",[Voe,Woe]=kV(mN),FV=C.forwardRef((t,e)=>{var le,Re,de,he,_e,z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...y}=t,x=LV(mN,n),[v,b]=C.useState(null),_=tn(e,ve=>b(ve)),[S,A]=C.useState(null),M=IV(S),P=(M==null?void 0:M.width)??0,N=(M==null?void 0:M.height)??0,R=r+(o!=="center"?"-"+o:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],U=D.length>0,X={padding:I,boundary:D.filter(qoe),altBoundary:U},{refs:j,floatingStyles:W,placement:H,isPositioned:Y,middlewareData:k}=Ooe({strategy:"fixed",placement:R,whileElementsMounted:(...ve)=>woe(...ve,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[Noe({mainAxis:i+N,alignmentAxis:a}),l&&Ioe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?koe():void 0,...X}),l&&Loe({...X}),Doe({...X,apply:({elements:ve,rects:se,availableWidth:Se,availableHeight:ue})=>{const{width:Be,height:Le}=se.reference,G=ve.floating.style;G.setProperty("--radix-popper-available-width",`${Se}px`),G.setProperty("--radix-popper-available-height",`${ue}px`),G.setProperty("--radix-popper-anchor-width",`${Be}px`),G.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),S&&Uoe({element:S,padding:s}),Xoe({arrowWidth:P,arrowHeight:N}),f&&joe({strategy:"referenceHidden",...X})]}),[F,$]=$V(H),q=ui(g);di(()=>{Y&&(q==null||q())},[Y,q]);const Z=(le=k.arrow)==null?void 0:le.x,ee=(Re=k.arrow)==null?void 0:Re.y,ne=((de=k.arrow)==null?void 0:de.centerOffset)!==0,[ye,xe]=C.useState();return di(()=>{v&&xe(window.getComputedStyle(v).zIndex)},[v]),w.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Y?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(he=k.transformOrigin)==null?void 0:he.x,(_e=k.transformOrigin)==null?void 0:_e.y].join(" "),...((z=k.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(Voe,{scope:n,placedSide:F,onArrowChange:A,arrowX:Z,arrowY:ee,shouldHideArrow:ne,children:w.jsx(Et.div,{"data-side":F,"data-align":$,...y,ref:_,style:{...y.style,animation:Y?void 0:"none"}})})})});FV.displayName=mN;var BV="PopperArrow",Goe={top:"bottom",right:"left",bottom:"top",left:"right"},zV=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=Woe(BV,r),a=Goe[o.placedSide];return w.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:w.jsx(Boe,{...i,ref:n,style:{...i.style,display:"block"}})})});zV.displayName=BV;function qoe(t){return t!==null}var Xoe=t=>({name:"transformOrigin",options:t,fn(e){var x,v,b;const{placement:n,rects:r,middlewareData:i}=e,a=((x=i.arrow)==null?void 0:x.centerOffset)!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=$V(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((v=i.arrow)==null?void 0:v.x)??0)+s/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let g="",y="";return c==="bottom"?(g=a?d:`${f}px`,y=`${-l}px`):c==="top"?(g=a?d:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,y=a?d:`${p}px`):c==="left"&&(g=`${r.floating.width+l}px`,y=a?d:`${p}px`),{data:{x:g,y}}}});function $V(t){const[e,n="center"]=t.split("-");return[e,n]}var HV=DV,gN=UV,vN=FV,yN=zV,[V1,r6e]=Fc("Tooltip",[Rp]),xN=Rp(),VV="TooltipProvider",Koe=700,rj="tooltip.open",[Yoe,WV]=V1(VV),GV=t=>{const{__scopeTooltip:e,delayDuration:n=Koe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,[a,s]=C.useState(!0),l=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),w.jsx(Yoe,{scope:e,isOpenDelayed:a,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),s(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:o})};GV.displayName=VV;var qV="Tooltip",[i6e,W1]=V1(qV),fC="TooltipTrigger",Joe=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=W1(fC,n),o=WV(fC,n),a=xN(n),s=C.useRef(null),l=tn(e,s,i.onTriggerChange),c=C.useRef(!1),u=C.useRef(!1),d=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),w.jsx(gN,{asChild:!0,...a,children:w.jsx(Et.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ze(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:ze(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:ze(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ze(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ze(t.onBlur,i.onClose),onClick:ze(t.onClick,i.onClose)})})});Joe.displayName=fC;var Zoe="TooltipPortal",[o6e,Qoe]=V1(Zoe,{forceMount:void 0}),Vh="TooltipContent",XV=C.forwardRef((t,e)=>{const n=Qoe(Vh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,a=W1(Vh,t.__scopeTooltip);return w.jsx(sa,{present:r||a.open,children:a.disableHoverableContent?w.jsx(KV,{side:i,...o,ref:e}):w.jsx(eae,{side:i,...o,ref:e})})}),eae=C.forwardRef((t,e)=>{const n=W1(Vh,t.__scopeTooltip),r=WV(Vh,t.__scopeTooltip),i=C.useRef(null),o=tn(e,i),[a,s]=C.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,f=C.useCallback(()=>{s(null),d(!1)},[d]),p=C.useCallback((g,y)=>{const x=g.currentTarget,v={x:g.clientX,y:g.clientY},b=iae(v,x.getBoundingClientRect()),_=oae(v,b),S=aae(y.getBoundingClientRect()),A=lae([..._,...S]);s(A),d(!0)},[d]);return C.useEffect(()=>()=>f(),[f]),C.useEffect(()=>{if(l&&u){const g=x=>p(x,u),y=x=>p(x,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",y)}}},[l,u,p,f]),C.useEffect(()=>{if(a){const g=y=>{const x=y.target,v={x:y.clientX,y:y.clientY},b=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),_=!sae(v,a);b?f():_&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,a,c,f]),w.jsx(KV,{...t,ref:o})}),[tae,nae]=V1(qV,{isInside:!1}),KV=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=t,l=W1(Vh,n),c=xN(n),{onClose:u}=l;return C.useEffect(()=>(document.addEventListener(rj,u),()=>document.removeEventListener(rj,u)),[u]),C.useEffect(()=>{if(l.trigger){const d=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),w.jsx(Mp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:w.jsxs(vN,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(RH,{children:r}),w.jsx(tae,{scope:n,isInside:!0,children:w.jsx(Dne,{id:l.contentId,role:"tooltip",children:i||r})})]})})});XV.displayName=Vh;var YV="TooltipArrow",rae=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=xN(n);return nae(YV,n).isInside?null:w.jsx(yN,{...i,...r,ref:e})});rae.displayName=YV;function iae(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function oae(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function aae(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function sae(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o].x,l=e[o].y,c=e[a].x,u=e[a].y;l>r!=u>r&&n<(c-s)*(r-l)/(u-l)+s&&(i=!i)}return i}function lae(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cae(e)}function cae(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var uae=GV,JV=XV;const dae=uae,fae=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>w.jsx(JV,{ref:r,sideOffset:e,className:ut("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));fae.displayName=JV.displayName;var G1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},q1=typeof window>"u"||"Deno"in globalThis;function _a(){}function hae(t,e){return typeof t=="function"?t(e):t}function pae(t){return typeof t=="number"&&t>=0&&t!==1/0}function mae(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ij(t,e){return typeof t=="function"?t(e):t}function gae(t,e){return typeof t=="function"?t(e):t}function oj(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==bN(a,e.options))return!1}else if(!sv(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function aj(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(av(e.options.mutationKey)!==av(o))return!1}else if(!sv(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function bN(t,e){return((e==null?void 0:e.queryKeyHashFn)||av)(t)}function av(t){return JSON.stringify(t,(e,n)=>hC(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function sv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!sv(t[n],e[n])):!1}function ZV(t,e){if(t===e)return t;const n=sj(t)&&sj(e);if(n||hC(t)&&hC(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),a=o.length,s=n?[]:{};let l=0;for(let c=0;c<a;c++){const u=n?c:o[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(s[u]=void 0,l++):(s[u]=ZV(t[u],e[u]),s[u]===t[u]&&t[u]!==void 0&&l++)}return i===a&&l===i?t:s}return e}function sj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hC(t){if(!lj(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lj(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lj(t){return Object.prototype.toString.call(t)==="[object Object]"}function vae(t){return new Promise(e=>{setTimeout(e,t)})}function yae(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ZV(t,e):e}function xae(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bae(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var _N=Symbol();function QV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_N?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ku,tc,Mh,s5,_ae=(s5=class extends G1{constructor(){super();on(this,Ku);on(this,tc);on(this,Mh);Bt(this,Mh,e=>{if(!q1&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ae(this,tc)||this.setEventListener(Ae(this,Mh))}onUnsubscribe(){var e;this.hasListeners()||((e=Ae(this,tc))==null||e.call(this),Bt(this,tc,void 0))}setEventListener(e){var n;Bt(this,Mh,e),(n=Ae(this,tc))==null||n.call(this),Bt(this,tc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Ae(this,Ku)!==e&&(Bt(this,Ku,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Ae(this,Ku)=="boolean"?Ae(this,Ku):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ku=new WeakMap,tc=new WeakMap,Mh=new WeakMap,s5),e6=new _ae,Ph,nc,Ch,l5,wae=(l5=class extends G1{constructor(){super();on(this,Ph,!0);on(this,nc);on(this,Ch);Bt(this,Ch,e=>{if(!q1&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ae(this,nc)||this.setEventListener(Ae(this,Ch))}onUnsubscribe(){var e;this.hasListeners()||((e=Ae(this,nc))==null||e.call(this),Bt(this,nc,void 0))}setEventListener(e){var n;Bt(this,Ch,e),(n=Ae(this,nc))==null||n.call(this),Bt(this,nc,e(this.setOnline.bind(this)))}setOnline(e){Ae(this,Ph)!==e&&(Bt(this,Ph,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Ae(this,Ph)}},Ph=new WeakMap,nc=new WeakMap,Ch=new WeakMap,l5),Q_=new wae;function Sae(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Eae(t){return Math.min(1e3*2**t,3e4)}function t6(t){return(t??"online")==="online"?Q_.isOnline():!0}var n6=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _T(t){return t instanceof n6}function r6(t){let e=!1,n=0,r=!1,i;const o=Sae(),a=y=>{var x;r||(f(new n6(y)),(x=t.abort)==null||x.call(t))},s=()=>{e=!0},l=()=>{e=!1},c=()=>e6.isFocused()&&(t.networkMode==="always"||Q_.isOnline())&&t.canRun(),u=()=>t6(t.networkMode)&&t.canRun(),d=y=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,y),i==null||i(),o.resolve(y))},f=y=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,y),i==null||i(),o.reject(y))},p=()=>new Promise(y=>{var x;i=v=>{(r||c())&&y(v)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),g=()=>{if(r)return;let y;const x=n===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(d).catch(v=>{var M;if(r)return;const b=t.retry??(q1?0:3),_=t.retryDelay??Eae,S=typeof _=="function"?_(n,v):_,A=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(e||!A){f(v);return}n++,(M=t.onFail)==null||M.call(t,n,v),vae(S).then(()=>c()?void 0:p()).then(()=>{e?f(v):g()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?g():p().then(g),o)}}function Aae(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const o=s=>{e?t.push(s):i(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var wi=Aae(),Yu,c5,i6=(c5=class{constructor(){on(this,Yu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pae(this.gcTime)&&Bt(this,Yu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(q1?1/0:5*60*1e3))}clearGcTimeout(){Ae(this,Yu)&&(clearTimeout(Ae(this,Yu)),Bt(this,Yu,void 0))}},Yu=new WeakMap,c5),Oh,Rh,Wo,ri,xy,Ju,Ea,zs,u5,Tae=(u5=class extends i6{constructor(e){super();on(this,Ea);on(this,Oh);on(this,Rh);on(this,Wo);on(this,ri);on(this,xy);on(this,Ju);Bt(this,Ju,!1),Bt(this,xy,e.defaultOptions),this.setOptions(e.options),this.observers=[],Bt(this,Wo,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Bt(this,Oh,Pae(this.options)),this.state=e.state??Ae(this,Oh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ae(this,ri))==null?void 0:e.promise}setOptions(e){this.options={...Ae(this,xy),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ae(this,Wo).remove(this)}setData(e,n){const r=yae(this.state.data,e,this.options);return Yr(this,Ea,zs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Yr(this,Ea,zs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Ae(this,ri))==null?void 0:r.promise;return(i=Ae(this,ri))==null||i.cancel(e),n?n.then(_a).catch(_a):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ae(this,Oh))}isActive(){return this.observers.some(e=>gae(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_N||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!mae(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Ae(this,ri))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Ae(this,ri))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ae(this,Wo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Ae(this,ri)&&(Ae(this,Ju)?Ae(this,ri).cancel({revert:!0}):Ae(this,ri).cancelRetry()),this.scheduleGc()),Ae(this,Wo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yr(this,Ea,zs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ae(this,ri))return Ae(this,ri).continueRetry(),Ae(this,ri).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Bt(this,Ju,!0),r.signal)})},o=()=>{const d=QV(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return i(f),Bt(this,Ju,!1),this.options.persister?this.options.persister(d,f,this):d(f)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(l=this.options.behavior)==null||l.onFetch(a,this),Bt(this,Rh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Yr(this,Ea,zs).call(this,{type:"fetch",meta:(u=a.fetchOptions)==null?void 0:u.meta});const s=d=>{var f,p,g,y;_T(d)&&d.silent||Yr(this,Ea,zs).call(this,{type:"error",error:d}),_T(d)||((p=(f=Ae(this,Wo).config).onError)==null||p.call(f,d,this),(y=(g=Ae(this,Wo).config).onSettled)==null||y.call(g,this.state.data,d,this)),this.scheduleGc()};return Bt(this,ri,r6({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,p,g,y;if(d===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(x){s(x);return}(p=(f=Ae(this,Wo).config).onSuccess)==null||p.call(f,d,this),(y=(g=Ae(this,Wo).config).onSettled)==null||y.call(g,d,this.state.error,this),this.scheduleGc()},onError:s,onFail:(d,f)=>{Yr(this,Ea,zs).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{Yr(this,Ea,zs).call(this,{type:"pause"})},onContinue:()=>{Yr(this,Ea,zs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Ae(this,ri).start()}},Oh=new WeakMap,Rh=new WeakMap,Wo=new WeakMap,ri=new WeakMap,xy=new WeakMap,Ju=new WeakMap,Ea=new WeakSet,zs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Mae(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return _T(i)&&i.revert&&Ae(this,Rh)?{...Ae(this,Rh),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),wi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Ae(this,Wo).notify({query:this,type:"updated",action:e})})},u5);function Mae(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:t6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Pae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ns,d5,Cae=(d5=class extends G1{constructor(e={}){super();on(this,ns);this.config=e,Bt(this,ns,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??bN(i,n);let a=this.get(o);return a||(a=new Tae({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){Ae(this,ns).has(e.queryHash)||(Ae(this,ns).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Ae(this,ns).get(e.queryHash);n&&(e.destroy(),n===e&&Ae(this,ns).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){wi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ae(this,ns).get(e)}getAll(){return[...Ae(this,ns).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oj(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>oj(e,r)):n}notify(e){wi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){wi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){wi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ns=new WeakMap,d5),rs,xi,Zu,is,Vl,f5,Oae=(f5=class extends i6{constructor(e){super();on(this,is);on(this,rs);on(this,xi);on(this,Zu);this.mutationId=e.mutationId,Bt(this,xi,e.mutationCache),Bt(this,rs,[]),this.state=e.state||Rae(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ae(this,rs).includes(e)||(Ae(this,rs).push(e),this.clearGcTimeout(),Ae(this,xi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Bt(this,rs,Ae(this,rs).filter(n=>n!==e)),this.scheduleGc(),Ae(this,xi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ae(this,rs).length||(this.state.status==="pending"?this.scheduleGc():Ae(this,xi).remove(this))}continue(){var e;return((e=Ae(this,Zu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,s,l,c,u,d,f,p,g,y,x,v,b,_,S,A,M,P;Bt(this,Zu,r6({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,R)=>{Yr(this,is,Vl).call(this,{type:"failed",failureCount:N,error:R})},onPause:()=>{Yr(this,is,Vl).call(this,{type:"pause"})},onContinue:()=>{Yr(this,is,Vl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ae(this,xi).canRun(this)}));const n=this.state.status==="pending",r=!Ae(this,Zu).canStart();try{if(!n){Yr(this,is,Vl).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(i=Ae(this,xi).config).onMutate)==null?void 0:o.call(i,e,this));const R=await((s=(a=this.options).onMutate)==null?void 0:s.call(a,e));R!==this.state.context&&Yr(this,is,Vl).call(this,{type:"pending",context:R,variables:e,isPaused:r})}const N=await Ae(this,Zu).start();return await((c=(l=Ae(this,xi).config).onSuccess)==null?void 0:c.call(l,N,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,N,e,this.state.context)),await((p=(f=Ae(this,xi).config).onSettled)==null?void 0:p.call(f,N,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,N,null,e,this.state.context)),Yr(this,is,Vl).call(this,{type:"success",data:N}),N}catch(N){try{throw await((v=(x=Ae(this,xi).config).onError)==null?void 0:v.call(x,N,e,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,N,e,this.state.context)),await((A=(S=Ae(this,xi).config).onSettled)==null?void 0:A.call(S,void 0,N,this.state.variables,this.state.context,this)),await((P=(M=this.options).onSettled)==null?void 0:P.call(M,void 0,N,e,this.state.context)),N}finally{Yr(this,is,Vl).call(this,{type:"error",error:N})}}finally{Ae(this,xi).runNext(this)}}},rs=new WeakMap,xi=new WeakMap,Zu=new WeakMap,is=new WeakSet,Vl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wi.batch(()=>{Ae(this,rs).forEach(r=>{r.onMutationUpdate(e)}),Ae(this,xi).notify({mutation:this,type:"updated",action:e})})},f5);function Rae(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var uo,by,h5,Nae=(h5=class extends G1{constructor(e={}){super();on(this,uo);on(this,by);this.config=e,Bt(this,uo,new Map),Bt(this,by,Date.now())}build(e,n,r){const i=new Oae({mutationCache:this,mutationId:++rx(this,by)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Tx(e),r=Ae(this,uo).get(n)??[];r.push(e),Ae(this,uo).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Tx(e);if(Ae(this,uo).has(n)){const i=(r=Ae(this,uo).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?Ae(this,uo).delete(n):Ae(this,uo).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Ae(this,uo).get(Tx(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Ae(this,uo).get(Tx(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){wi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Ae(this,uo).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aj(n,r))}findAll(e={}){return this.getAll().filter(n=>aj(e,n))}notify(e){wi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return wi.batch(()=>Promise.all(e.map(n=>n.continue().catch(_a))))}},uo=new WeakMap,by=new WeakMap,h5);function Tx(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function cj(t){return{onFetch:(e,n)=>{var u,d,f,p,g;const r=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,o=((p=e.state.data)==null?void 0:p.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},v=QV(e.options,e.fetchOptions),b=async(_,S,A)=>{if(y)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const M={queryKey:e.queryKey,pageParam:S,direction:A?"backward":"forward",meta:e.options.meta};x(M);const P=await v(M),{maxPages:N}=e.options,R=A?bae:xae;return{pages:R(_.pages,P,N),pageParams:R(_.pageParams,S,N)}};if(i&&o.length){const _=i==="backward",S=_?Iae:uj,A={pages:o,pageParams:a},M=S(r,A);s=await b(A,M,_)}else{const _=t??o.length;do{const S=l===0?a[0]??r.initialPageParam:uj(r,s);if(l>0&&S==null)break;s=await b(s,S),l++}while(l<_)}return s};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function uj(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Iae(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Vn,rc,ic,Nh,Ih,oc,kh,Lh,p5,kae=(p5=class{constructor(t={}){on(this,Vn);on(this,rc);on(this,ic);on(this,Nh);on(this,Ih);on(this,oc);on(this,kh);on(this,Lh);Bt(this,Vn,t.queryCache||new Cae),Bt(this,rc,t.mutationCache||new Nae),Bt(this,ic,t.defaultOptions||{}),Bt(this,Nh,new Map),Bt(this,Ih,new Map),Bt(this,oc,0)}mount(){rx(this,oc)._++,Ae(this,oc)===1&&(Bt(this,kh,e6.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ae(this,Vn).onFocus())})),Bt(this,Lh,Q_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ae(this,Vn).onOnline())})))}unmount(){var t,e;rx(this,oc)._--,Ae(this,oc)===0&&((t=Ae(this,kh))==null||t.call(this),Bt(this,kh,void 0),(e=Ae(this,Lh))==null||e.call(this),Bt(this,Lh,void 0))}isFetching(t){return Ae(this,Vn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ae(this,rc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ae(this,Vn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Ae(this,Vn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ij(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Ae(this,Vn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Ae(this,Vn).get(r.queryHash),o=i==null?void 0:i.state.data,a=hae(e,o);if(a!==void 0)return Ae(this,Vn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return wi.batch(()=>Ae(this,Vn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ae(this,Vn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Ae(this,Vn);wi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Ae(this,Vn),r={type:"active",...t};return wi.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=wi.batch(()=>Ae(this,Vn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(_a).catch(_a)}invalidateQueries(t={},e={}){return wi.batch(()=>{if(Ae(this,Vn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=wi.batch(()=>Ae(this,Vn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(_a)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(_a)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Ae(this,Vn).build(this,e);return n.isStaleByTime(ij(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_a).catch(_a)}fetchInfiniteQuery(t){return t.behavior=cj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_a).catch(_a)}ensureInfiniteQueryData(t){return t.behavior=cj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Q_.isOnline()?Ae(this,rc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ae(this,Vn)}getMutationCache(){return Ae(this,rc)}getDefaultOptions(){return Ae(this,ic)}setDefaultOptions(t){Bt(this,ic,t)}setQueryDefaults(t,e){Ae(this,Nh).set(av(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ae(this,Nh).values()];let n={};return e.forEach(r=>{sv(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Ae(this,Ih).set(av(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ae(this,Ih).values()];let n={};return e.forEach(r=>{sv(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ae(this,ic).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===_N&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ae(this,ic).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ae(this,Vn).clear(),Ae(this,rc).clear()}},Vn=new WeakMap,rc=new WeakMap,ic=new WeakMap,Nh=new WeakMap,Ih=new WeakMap,oc=new WeakMap,kh=new WeakMap,Lh=new WeakMap,p5),Lae=C.createContext(void 0),Dae=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(Lae.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(this,arguments)}var lc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lc||(lc={}));const dj="popstate";function jae(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return pC("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ew(i)}return Fae(e,n,null,t)}function ur(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function o6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Uae(){return Math.random().toString(36).substr(2,8)}function fj(t,e){return{usr:t.state,key:t.key,idx:e}}function pC(t,e,n,r){return n===void 0&&(n=null),lv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Np(e):e,{state:n,key:e&&e.key||r||Uae()})}function ew(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Np(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Fae(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=lc.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(lv({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){s=lc.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:s,location:y.location,delta:v})}function f(x,v){s=lc.Push;let b=pC(y.location,x,v);c=u()+1;let _=fj(b,c),S=y.createHref(b);try{a.pushState(_,"",S)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(S)}o&&l&&l({action:s,location:y.location,delta:1})}function p(x,v){s=lc.Replace;let b=pC(y.location,x,v);c=u();let _=fj(b,c),S=y.createHref(b);a.replaceState(_,"",S),o&&l&&l({action:s,location:y.location,delta:0})}function g(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:ew(x);return b=b.replace(/ $/,"%20"),ur(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let y={get action(){return s},get location(){return t(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dj,d),l=x,()=>{i.removeEventListener(dj,d),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(x){return a.go(x)}};return y}var hj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hj||(hj={}));function Bae(t,e,n){return n===void 0&&(n="/"),zae(t,e,n,!1)}function zae(t,e,n,r){let i=typeof e=="string"?Np(e):e,o=wN(i.pathname||"/",n);if(o==null)return null;let a=a6(t);$ae(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=Qae(o);s=Jae(a[l],c,r)}return s}function a6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(ur(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=yc([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(ur(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),a6(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:Kae(c,o.index),routesMeta:u})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of s6(o.path))i(o,a,l)}),e}function s6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=s6(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function $ae(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yae(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Hae=/^:[\w-]+$/,Vae=3,Wae=2,Gae=1,qae=10,Xae=-2,pj=t=>t==="*";function Kae(t,e){let n=t.split("/"),r=n.length;return n.some(pj)&&(r+=Xae),e&&(r+=Wae),n.filter(i=>!pj(i)).reduce((i,o)=>i+(Hae.test(o)?Vae:o===""?Gae:qae),r)}function Yae(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Jae(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=mj({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=mj({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:yc([o,d.pathname]),pathnameBase:rse(yc([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=yc([o,d.pathnameBase]))}return a}function mj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Zae(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=s[d]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[d];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function Zae(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),o6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Qae(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return o6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ese(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Np(t):t;return{pathname:n?n.startsWith("/")?n:tse(n,e):e,search:ise(r),hash:ose(i)}}function tse(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wT(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nse(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function l6(t,e){let n=nse(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function c6(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Np(t):(i=lv({},t),ur(!i.pathname||!i.pathname.includes("?"),wT("?","pathname","search",i)),ur(!i.pathname||!i.pathname.includes("#"),wT("#","pathname","hash",i)),ur(!i.search||!i.search.includes("#"),wT("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}s=d>=0?e[d]:"/"}let l=ese(i,s),c=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const yc=t=>t.join("/").replace(/\/\/+/g,"/"),rse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ise=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ose=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ase(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const u6=["post","put","patch","delete"];new Set(u6);const sse=["get",...u6];new Set(sse);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(this,arguments)}const SN=C.createContext(null),lse=C.createContext(null),Cd=C.createContext(null),X1=C.createContext(null),Od=C.createContext({outlet:null,matches:[],isDataRoute:!1}),d6=C.createContext(null);function cse(t,e){let{relative:n}=e===void 0?{}:e;Oy()||ur(!1);let{basename:r,navigator:i}=C.useContext(Cd),{hash:o,pathname:a,search:s}=h6(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:yc([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Oy(){return C.useContext(X1)!=null}function Ry(){return Oy()||ur(!1),C.useContext(X1).location}function f6(t){C.useContext(Cd).static||C.useLayoutEffect(t)}function Ip(){let{isDataRoute:t}=C.useContext(Od);return t?wse():use()}function use(){Oy()||ur(!1);let t=C.useContext(SN),{basename:e,future:n,navigator:r}=C.useContext(Cd),{matches:i}=C.useContext(Od),{pathname:o}=Ry(),a=JSON.stringify(l6(i,n.v7_relativeSplatPath)),s=C.useRef(!1);return f6(()=>{s.current=!0}),C.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=c6(c,JSON.parse(a),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:yc([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,a,o,t])}function h6(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(Cd),{matches:i}=C.useContext(Od),{pathname:o}=Ry(),a=JSON.stringify(l6(i,r.v7_relativeSplatPath));return C.useMemo(()=>c6(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function dse(t,e){return fse(t,e)}function fse(t,e,n,r){Oy()||ur(!1);let{navigator:i}=C.useContext(Cd),{matches:o}=C.useContext(Od),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Ry(),u;if(e){var d;let x=typeof e=="string"?Np(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||ur(!1),u=x}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Bae(t,{pathname:p}),y=vse(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:yc([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:yc([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&y?C.createElement(X1.Provider,{value:{location:cv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:lc.Pop}},y):y}function hse(){let t=_se(),e=ase(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const pse=C.createElement(hse,null);class mse extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Od.Provider,{value:this.props.routeContext},C.createElement(d6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gse(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(SN);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Od.Provider,{value:e},r)}function vse(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);u>=0||ur(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let p,g=!1,y=null,x=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||pse,l&&(c<0&&f===0?(g=!0,x=null):c===f&&(g=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,f+1)),b=()=>{let _;return p?_=y:g?_=x:d.route.Component?_=C.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,C.createElement(gse,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?C.createElement(mse,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var p6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(p6||{}),tw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tw||{});function yse(t){let e=C.useContext(SN);return e||ur(!1),e}function xse(t){let e=C.useContext(lse);return e||ur(!1),e}function bse(t){let e=C.useContext(Od);return e||ur(!1),e}function m6(t){let e=bse(),n=e.matches[e.matches.length-1];return n.route.id||ur(!1),n.route.id}function _se(){var t;let e=C.useContext(d6),n=xse(tw.UseRouteError),r=m6(tw.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wse(){let{router:t}=yse(p6.UseNavigateStable),e=m6(tw.UseNavigateStable),n=C.useRef(!1);return f6(()=>{n.current=!0}),C.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cv({fromRouteId:e},o)))},[t,e])}function es(t){ur(!1)}function Sse(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lc.Pop,navigator:o,static:a=!1,future:s}=t;Oy()&&ur(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:o,static:a,future:cv({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Np(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,y=C.useMemo(()=>{let x=wN(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:g},navigationType:i}},[l,u,d,f,p,g,i]);return y==null?null:C.createElement(Cd.Provider,{value:c},C.createElement(X1.Provider,{children:n,value:y}))}function Ese(t){let{children:e,location:n}=t;return dse(mC(e),n)}new Promise(()=>{});function mC(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let o=[...e,i];if(r.type===C.Fragment){n.push.apply(n,mC(r.props.children,o));return}r.type!==es&&ur(!1),!r.props.index||!r.props.children||ur(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=mC(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gC.apply(this,arguments)}function Ase(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Tse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Mse(t,e){return t.button===0&&(!e||e==="_self")&&!Tse(t)}const Pse=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Cse="6";try{window.__reactRouterVersion=Cse}catch{}const Ose="startTransition",gj=T5[Ose];function Rse(t){let{basename:e,children:n,future:r,window:i}=t,o=C.useRef();o.current==null&&(o.current=jae({window:i,v5Compat:!0}));let a=o.current,[s,l]=C.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=C.useCallback(d=>{c&&gj?gj(()=>l(d)):l(d)},[l,c]);return C.useLayoutEffect(()=>a.listen(u),[a,u]),C.createElement(Sse,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const Nse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ise=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_i=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=Ase(e,Pse),{basename:p}=C.useContext(Cd),g,y=!1;if(typeof c=="string"&&Ise.test(c)&&(g=c,Nse))try{let _=new URL(window.location.href),S=c.startsWith("//")?new URL(_.protocol+c):new URL(c),A=wN(S.pathname,p);S.origin===_.origin&&A!=null?c=A+S.search+S.hash:y=!0}catch{}let x=cse(c,{relative:i}),v=kse(c,{replace:a,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(_){r&&r(_),_.defaultPrevented||v(_)}return C.createElement("a",gC({},f,{href:g||x,onClick:y||o?r:b,ref:n,target:l}))});var vj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vj||(vj={}));var yj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yj||(yj={}));function kse(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=Ip(),c=Ry(),u=h6(t,{relative:a});return C.useCallback(d=>{if(Mse(d,n)){d.preventDefault();let f=r!==void 0?r:ew(c)===ew(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,u,r,i,n,t,o,a,s])}const Lse=U1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Nt=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const a=r?Mc:"button";return w.jsx(a,{className:ut(Lse({variant:e,size:n,className:t})),ref:o,...i})});Nt.displayName="Button";var Dse=C.createContext(void 0);function K1(t){const e=C.useContext(Dse);return t||e||"ltr"}var ST=0;function EN(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??xj()),document.body.insertAdjacentElement("beforeend",t[1]??xj()),ST++,()=>{ST===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ST--}},[])}function xj(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ET="focusScope.autoFocusOnMount",AT="focusScope.autoFocusOnUnmount",bj={bubbles:!1,cancelable:!0},jse="FocusScope",Y1=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=C.useState(null),c=ui(i),u=ui(o),d=C.useRef(null),f=tn(e,y=>l(y)),p=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let y=function(_){if(p.paused||!s)return;const S=_.target;s.contains(S)?d.current=S:Wl(d.current,{select:!0})},x=function(_){if(p.paused||!s)return;const S=_.relatedTarget;S!==null&&(s.contains(S)||Wl(d.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const A of _)A.removedNodes.length>0&&Wl(s)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const b=new MutationObserver(v);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),b.disconnect()}}},[r,s,p.paused]),C.useEffect(()=>{if(s){wj.add(p);const y=document.activeElement;if(!s.contains(y)){const v=new CustomEvent(ET,bj);s.addEventListener(ET,c),s.dispatchEvent(v),v.defaultPrevented||(Use(Hse(g6(s)),{select:!0}),document.activeElement===y&&Wl(s))}return()=>{s.removeEventListener(ET,c),setTimeout(()=>{const v=new CustomEvent(AT,bj);s.addEventListener(AT,u),s.dispatchEvent(v),v.defaultPrevented||Wl(y??document.body,{select:!0}),s.removeEventListener(AT,u),wj.remove(p)},0)}}},[s,c,u,p]);const g=C.useCallback(y=>{if(!n&&!r||p.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(x&&v){const b=y.currentTarget,[_,S]=Fse(b);_&&S?!y.shiftKey&&v===S?(y.preventDefault(),n&&Wl(_,{select:!0})):y.shiftKey&&v===_&&(y.preventDefault(),n&&Wl(S,{select:!0})):v===b&&y.preventDefault()}},[n,r,p.paused]);return w.jsx(Et.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});Y1.displayName=jse;function Use(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Wl(r,{select:e}),document.activeElement!==n)return}function Fse(t){const e=g6(t),n=_j(e,t),r=_j(e.reverse(),t);return[n,r]}function g6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _j(t,e){for(const n of t)if(!Bse(n,{upTo:e}))return n}function Bse(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zse(t){return t instanceof HTMLInputElement&&"select"in t}function Wl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&zse(t)&&e&&t.select()}}var wj=$se();function $se(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Sj(t,e),t.unshift(e)},remove(e){var n;t=Sj(t,e),(n=t[0])==null||n.resume()}}}function Sj(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Hse(t){return t.filter(e=>e.tagName!=="A")}function Vse(t,e=[]){let n=[];function r(o,a){const s=C.createContext(a),l=n.length;n=[...n,a];function c(d){const{scope:f,children:p,...g}=d,y=(f==null?void 0:f[t][l])||s,x=C.useMemo(()=>g,Object.values(g));return w.jsx(y.Provider,{value:x,children:p})}function u(d,f){const p=(f==null?void 0:f[t][l])||s,g=C.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(a=>C.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return C.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,Wse(i,...e)]}function Wse(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...s,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var TT="rovingFocusGroup.onEntryFocus",Gse={bubbles:!1,cancelable:!0},J1="RovingFocusGroup",[vC,v6,qse]=L1(J1),[Xse,Z1]=Vse(J1,[qse]),[Kse,Yse]=Xse(J1),y6=C.forwardRef((t,e)=>w.jsx(vC.Provider,{scope:t.__scopeRovingFocusGroup,children:w.jsx(vC.Slot,{scope:t.__scopeRovingFocusGroup,children:w.jsx(Jse,{...t,ref:e})})}));y6.displayName=J1;var Jse=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=C.useRef(null),p=tn(e,f),g=K1(o),[y=null,x]=Pc({prop:a,defaultProp:s,onChange:l}),[v,b]=C.useState(!1),_=ui(c),S=v6(n),A=C.useRef(!1),[M,P]=C.useState(0);return C.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(TT,_),()=>N.removeEventListener(TT,_)},[_]),w.jsx(Kse,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:C.useCallback(N=>x(N),[x]),onItemShiftTab:C.useCallback(()=>b(!0),[]),onFocusableItemAdd:C.useCallback(()=>P(N=>N+1),[]),onFocusableItemRemove:C.useCallback(()=>P(N=>N-1),[]),children:w.jsx(Et.div,{tabIndex:v||M===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:ze(t.onMouseDown,()=>{A.current=!0}),onFocus:ze(t.onFocus,N=>{const R=!A.current;if(N.target===N.currentTarget&&R&&!v){const I=new CustomEvent(TT,Gse);if(N.currentTarget.dispatchEvent(I),!I.defaultPrevented){const D=S().filter(H=>H.focusable),U=D.find(H=>H.active),X=D.find(H=>H.id===y),W=[U,X,...D].filter(Boolean).map(H=>H.ref.current);_6(W,u)}}A.current=!1}),onBlur:ze(t.onBlur,()=>b(!1))})})}),x6="RovingFocusGroupItem",b6=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...a}=t,s=us(),l=o||s,c=Yse(x6,n),u=c.currentTabStopId===l,d=v6(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=c;return C.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),w.jsx(vC.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:w.jsx(Et.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...a,ref:e,onMouseDown:ze(t.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:ze(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ze(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=ele(g,c.orientation,c.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=d().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const b=v.indexOf(g.currentTarget);v=c.loop?tle(v,b+1):v.slice(b+1)}setTimeout(()=>_6(v))}})})})});b6.displayName=x6;var Zse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qse(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ele(t,e,n){const r=Qse(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Zse[r]}function _6(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function tle(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var w6=y6,S6=b6,nle=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rf=new WeakMap,Mx=new WeakMap,Px={},MT=0,E6=function(t){return t&&(t.host||E6(t.parentNode))},rle=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=E6(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ile=function(t,e,n,r){var i=rle(e,Array.isArray(t)?t:[t]);Px[n]||(Px[n]=new WeakMap);var o=Px[n],a=[],s=new Set,l=new Set(i),c=function(d){!d||s.has(d)||(s.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(s.has(f))u(f);else try{var p=f.getAttribute(r),g=p!==null&&p!=="false",y=(rf.get(f)||0)+1,x=(o.get(f)||0)+1;rf.set(f,y),o.set(f,x),a.push(f),y===1&&g&&Mx.set(f,!0),x===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),s.clear(),MT++,function(){a.forEach(function(d){var f=rf.get(d)-1,p=o.get(d)-1;rf.set(d,f),o.set(d,p),f||(Mx.has(d)||d.removeAttribute(r),Mx.delete(d)),p||d.removeAttribute(n)}),MT--,MT||(rf=new WeakMap,rf=new WeakMap,Mx=new WeakMap,Px={})}},AN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=nle(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ile(r,i,n,"aria-hidden")):function(){return null}},yC=function(t,e){return yC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yC(t,e)};function A6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yC(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Jo=function(){return Jo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Jo.apply(this,arguments)};function Bc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function T6(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function M6(t,e){return function(n,r){e(n,r,t)}}function P6(t,e,n,r,i,o){function a(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var s=r.kind,l=s==="getter"?"get":s==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,p=n.length-1;p>=0;p--){var g={};for(var y in r)g[y]=y==="access"?{}:r[y];for(var y in r.access)g.access[y]=r.access[y];g.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(v||null))};var x=(0,n[p])(s==="accessor"?{get:u.get,set:u.set}:u[l],g);if(s==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=a(x.get))&&(u.get=d),(d=a(x.set))&&(u.set=d),(d=a(x.init))&&i.unshift(d)}else(d=a(x))&&(s==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function C6(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function O6(t){return typeof t=="symbol"?t:"".concat(t)}function R6(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function N6(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function rt(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})}function I6(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Q1=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function k6(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Q1(e,t,n)}function nw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function TN(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function L6(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(TN(arguments[e]));return t}function D6(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function MN(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Wh(t){return this instanceof Wh?(this.v=t,this):new Wh(t)}function j6(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(g){return Promise.resolve(g).then(p,d)}}function s(p,g){r[p]&&(i[p]=function(y){return new Promise(function(x,v){o.push([p,y,x,v])>1||l(p,y)})},g&&(i[p]=g(i[p])))}function l(p,g){try{c(r[p](g))}catch(y){f(o[0][3],y)}}function c(p){p.value instanceof Wh?Promise.resolve(p.value.v).then(u,d):f(o[0][2],p)}function u(p){l("next",p)}function d(p){l("throw",p)}function f(p,g){p(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function U6(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(a){return(n=!n)?{value:Wh(t[i](a)),done:!1}:o?o(a):a}:o}}function F6(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nw=="function"?nw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}function B6(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var ole=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},xC=function(t){return xC=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},xC(t)};function z6(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=xC(t),r=0;r<n.length;r++)n[r]!=="default"&&Q1(e,t,n[r]);return ole(e,t),e}function $6(t){return t&&t.__esModule?t:{default:t}}function H6(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function V6(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function W6(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function G6(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var ale=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function q6(t){function e(o){t.error=t.hasError?new ale(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function X6(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,a){return r?e?".jsx":".js":i&&(!o||!a)?n:i+o+"."+a.toLowerCase()+"js"}):t}const sle={__extends:A6,__assign:Jo,__rest:Bc,__decorate:T6,__param:M6,__esDecorate:P6,__runInitializers:C6,__propKey:O6,__setFunctionName:R6,__metadata:N6,__awaiter:rt,__generator:I6,__createBinding:Q1,__exportStar:k6,__values:nw,__read:TN,__spread:L6,__spreadArrays:D6,__spreadArray:MN,__await:Wh,__asyncGenerator:j6,__asyncDelegator:U6,__asyncValues:F6,__makeTemplateObject:B6,__importStar:z6,__importDefault:$6,__classPrivateFieldGet:H6,__classPrivateFieldSet:V6,__classPrivateFieldIn:W6,__addDisposableResource:G6,__disposeResources:q6,__rewriteRelativeImportExtension:X6},lle=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:G6,get __assign(){return Jo},__asyncDelegator:U6,__asyncGenerator:j6,__asyncValues:F6,__await:Wh,__awaiter:rt,__classPrivateFieldGet:H6,__classPrivateFieldIn:W6,__classPrivateFieldSet:V6,__createBinding:Q1,__decorate:T6,__disposeResources:q6,__esDecorate:P6,__exportStar:k6,__extends:A6,__generator:I6,__importDefault:$6,__importStar:z6,__makeTemplateObject:B6,__metadata:N6,__param:M6,__propKey:O6,__read:TN,__rest:Bc,__rewriteRelativeImportExtension:X6,__runInitializers:C6,__setFunctionName:R6,__spread:L6,__spreadArray:MN,__spreadArrays:D6,__values:nw,default:sle},Symbol.toStringTag,{value:"Module"}));var h_="right-scroll-bar-position",p_="width-before-scroll-bar",cle="with-scroll-bars-hidden",ule="--removed-body-scroll-bar-size";function PT(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dle(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var fle=typeof window<"u"?C.useLayoutEffect:C.useEffect,Ej=new WeakMap;function hle(t,e){var n=dle(null,function(r){return t.forEach(function(i){return PT(i,r)})});return fle(function(){var r=Ej.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||PT(s,null)}),o.forEach(function(s){i.has(s)||PT(s,a)})}Ej.set(n,t)},[t]),n}function ple(t){return t}function mle(t,e){e===void 0&&(e=ple);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var u=a;a=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function gle(t){t===void 0&&(t={});var e=mle(null);return e.options=Jo({async:!0,ssr:!1},t),e}var K6=function(t){var e=t.sideCar,n=Bc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Jo({},n))};K6.isSideCarExport=!0;function vle(t,e){return t.useMedium(e),K6}var Y6=gle(),CT=function(){},eS=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:CT,onWheelCapture:CT,onTouchMoveCapture:CT}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,p=t.noIsolation,g=t.inert,y=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,b=t.gapMode,_=Bc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,A=hle([n,e]),M=Jo(Jo({},_),i);return C.createElement(C.Fragment,null,u&&C.createElement(S,{sideCar:Y6,removeScrollBar:c,shards:d,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:b}),a?C.cloneElement(C.Children.only(s),Jo(Jo({},M),{ref:A})):C.createElement(v,Jo({},M,{className:l,ref:A}),s))});eS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eS.classNames={fullWidth:p_,zeroRight:h_};var yle=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xle(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yle();return e&&t.setAttribute("nonce",e),t}function ble(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _le(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wle=function(){var t=0,e=null;return{add:function(n){t==0&&(e=xle())&&(ble(e,n),_le(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Sle=function(){var t=wle();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},J6=function(){var t=Sle(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Ele={left:0,top:0,right:0,gap:0},OT=function(t){return parseInt(t||"",10)||0},Ale=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[OT(n),OT(r),OT(i)]},Tle=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ele;var e=Ale(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Mle=J6(),bh="data-scroll-locked",Ple=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(cle,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(bh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(h_,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(p_,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(h_," .").concat(h_,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(p_," .").concat(p_,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bh,`] {
    `).concat(ule,": ").concat(s,`px;
  }
`)},Aj=function(){var t=parseInt(document.body.getAttribute(bh)||"0",10);return isFinite(t)?t:0},Cle=function(){C.useEffect(function(){return document.body.setAttribute(bh,(Aj()+1).toString()),function(){var t=Aj()-1;t<=0?document.body.removeAttribute(bh):document.body.setAttribute(bh,t.toString())}},[])},Ole=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Cle();var o=C.useMemo(function(){return Tle(i)},[i]);return C.createElement(Mle,{styles:Ple(o,!e,i,n?"":"!important")})},bC=!1;if(typeof window<"u")try{var Cx=Object.defineProperty({},"passive",{get:function(){return bC=!0,!0}});window.addEventListener("test",Cx,Cx),window.removeEventListener("test",Cx,Cx)}catch{bC=!1}var of=bC?{passive:!1}:!1,Rle=function(t){return t.tagName==="TEXTAREA"},Z6=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rle(t)&&n[e]==="visible")},Nle=function(t){return Z6(t,"overflowY")},Ile=function(t){return Z6(t,"overflowX")},Tj=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Q6(t,r);if(i){var o=eW(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kle=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Lle=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Q6=function(t,e){return t==="v"?Nle(e):Ile(e)},eW=function(t,e){return t==="v"?kle(e):Lle(e)},Dle=function(t,e){return t==="h"&&e==="rtl"?-1:1},jle=function(t,e,n,r,i){var o=Dle(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,u=a>0,d=0,f=0;do{var p=eW(t,s),g=p[0],y=p[1],x=p[2],v=y-x-o*g;(g||v)&&Q6(t,s)&&(d+=v,f+=g),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(c=!0),c},Ox=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Mj=function(t){return[t.deltaX,t.deltaY]},Pj=function(t){return t&&"current"in t?t.current:t},Ule=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Fle=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Ble=0,af=[];function zle(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(Ble++)[0],o=C.useState(J6)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=MN([t.lockRef.current],(t.shards||[]).map(Pj),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=C.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var v=Ox(y),b=n.current,_="deltaX"in y?y.deltaX:b[0]-v[0],S="deltaY"in y?y.deltaY:b[1]-v[1],A,M=y.target,P=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in y&&P==="h"&&M.type==="range")return!1;var N=Tj(P,M);if(!N)return!0;if(N?A=P:(A=P==="v"?"h":"v",N=Tj(P,M)),!N)return!1;if(!r.current&&"changedTouches"in y&&(_||S)&&(r.current=A),!A)return!0;var R=r.current||A;return jle(R,x,y,R==="h"?_:S,!0)},[]),l=C.useCallback(function(y){var x=y;if(!(!af.length||af[af.length-1]!==o)){var v="deltaY"in x?Mj(x):Ox(x),b=e.current.filter(function(A){return A.name===x.type&&(A.target===x.target||x.target===A.shadowParent)&&Ule(A.delta,v)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var _=(a.current.shards||[]).map(Pj).filter(Boolean).filter(function(A){return A.contains(x.target)}),S=_.length>0?s(x,_[0]):!a.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),c=C.useCallback(function(y,x,v,b){var _={name:y,delta:x,target:v,should:b,shadowParent:$le(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),u=C.useCallback(function(y){n.current=Ox(y),r.current=void 0},[]),d=C.useCallback(function(y){c(y.type,Mj(y),y.target,s(y,t.lockRef.current))},[]),f=C.useCallback(function(y){c(y.type,Ox(y),y.target,s(y,t.lockRef.current))},[]);C.useEffect(function(){return af.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,of),document.addEventListener("touchmove",l,of),document.addEventListener("touchstart",u,of),function(){af=af.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,of),document.removeEventListener("touchmove",l,of),document.removeEventListener("touchstart",u,of)}},[]);var p=t.removeScrollBar,g=t.inert;return C.createElement(C.Fragment,null,g?C.createElement(o,{styles:Fle(i)}):null,p?C.createElement(Ole,{gapMode:t.gapMode}):null)}function $le(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Hle=vle(Y6,zle);var tS=C.forwardRef(function(t,e){return C.createElement(eS,Jo({},t,{ref:e,sideCar:Hle}))});tS.classNames=eS.classNames;var _C=["Enter"," "],Vle=["ArrowDown","PageUp","Home"],tW=["ArrowUp","PageDown","End"],Wle=[...Vle,...tW],Gle={ltr:[..._C,"ArrowRight"],rtl:[..._C,"ArrowLeft"]},qle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ny="Menu",[uv,Xle,Kle]=L1(Ny),[Rd,nW]=Fc(Ny,[Kle,Rp,Z1]),nS=Rp(),rW=Z1(),[Yle,Nd]=Rd(Ny),[Jle,Iy]=Rd(Ny),iW=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:a=!0}=t,s=nS(e),[l,c]=C.useState(null),u=C.useRef(!1),d=ui(o),f=K1(i);return C.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),w.jsx(HV,{...s,children:w.jsx(Yle,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:w.jsx(Jle,{scope:e,onClose:C.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:a,children:r})})})};iW.displayName=Ny;var Zle="MenuAnchor",PN=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=nS(n);return w.jsx(gN,{...i,...r,ref:e})});PN.displayName=Zle;var CN="MenuPortal",[Qle,oW]=Rd(CN,{forceMount:void 0}),aW=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=Nd(CN,e);return w.jsx(Qle,{scope:e,forceMount:n,children:w.jsx(sa,{present:n||o.open,children:w.jsx(My,{asChild:!0,container:i,children:r})})})};aW.displayName=CN;var na="MenuContent",[ece,ON]=Rd(na),sW=C.forwardRef((t,e)=>{const n=oW(na,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Nd(na,t.__scopeMenu),a=Iy(na,t.__scopeMenu);return w.jsx(uv.Provider,{scope:t.__scopeMenu,children:w.jsx(sa,{present:r||o.open,children:w.jsx(uv.Slot,{scope:t.__scopeMenu,children:a.modal?w.jsx(tce,{...i,ref:e}):w.jsx(nce,{...i,ref:e})})})})}),tce=C.forwardRef((t,e)=>{const n=Nd(na,t.__scopeMenu),r=C.useRef(null),i=tn(e,r);return C.useEffect(()=>{const o=r.current;if(o)return AN(o)},[]),w.jsx(RN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ze(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),nce=C.forwardRef((t,e)=>{const n=Nd(na,t.__scopeMenu);return w.jsx(RN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),RN=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...y}=t,x=Nd(na,n),v=Iy(na,n),b=nS(n),_=rW(n),S=Xle(n),[A,M]=C.useState(null),P=C.useRef(null),N=tn(e,P,x.onContentChange),R=C.useRef(0),I=C.useRef(""),D=C.useRef(0),U=C.useRef(null),X=C.useRef("right"),j=C.useRef(0),W=g?tS:C.Fragment,H=g?{as:Mc,allowPinchZoom:!0}:void 0,Y=F=>{var le,Re;const $=I.current+F,q=S().filter(de=>!de.disabled),Z=document.activeElement,ee=(le=q.find(de=>de.ref.current===Z))==null?void 0:le.textValue,ne=q.map(de=>de.textValue),ye=pce(ne,$,ee),xe=(Re=q.find(de=>de.textValue===ye))==null?void 0:Re.ref.current;(function de(he){I.current=he,window.clearTimeout(R.current),he!==""&&(R.current=window.setTimeout(()=>de(""),1e3))})($),xe&&setTimeout(()=>xe.focus())};C.useEffect(()=>()=>window.clearTimeout(R.current),[]),EN();const k=C.useCallback(F=>{var q,Z;return X.current===((q=U.current)==null?void 0:q.side)&&gce(F,(Z=U.current)==null?void 0:Z.area)},[]);return w.jsx(ece,{scope:n,searchRef:I,onItemEnter:C.useCallback(F=>{k(F)&&F.preventDefault()},[k]),onItemLeave:C.useCallback(F=>{var $;k(F)||(($=P.current)==null||$.focus(),M(null))},[k]),onTriggerLeave:C.useCallback(F=>{k(F)&&F.preventDefault()},[k]),pointerGraceTimerRef:D,onPointerGraceIntentChange:C.useCallback(F=>{U.current=F},[]),children:w.jsx(W,{...H,children:w.jsx(Y1,{asChild:!0,trapped:i,onMountAutoFocus:ze(o,F=>{var $;F.preventDefault(),($=P.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:w.jsx(Mp,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:p,children:w.jsx(w6,{asChild:!0,..._,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:M,onEntryFocus:ze(l,F=>{v.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(vN,{role:"menu","aria-orientation":"vertical","data-state":SW(x.open),"data-radix-menu-content":"",dir:v.dir,...b,...y,ref:N,style:{outline:"none",...y.style},onKeyDown:ze(y.onKeyDown,F=>{const q=F.target.closest("[data-radix-menu-content]")===F.currentTarget,Z=F.ctrlKey||F.altKey||F.metaKey,ee=F.key.length===1;q&&(F.key==="Tab"&&F.preventDefault(),!Z&&ee&&Y(F.key));const ne=P.current;if(F.target!==ne||!Wle.includes(F.key))return;F.preventDefault();const xe=S().filter(le=>!le.disabled).map(le=>le.ref.current);tW.includes(F.key)&&xe.reverse(),fce(xe)}),onBlur:ze(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(R.current),I.current="")}),onPointerMove:ze(t.onPointerMove,dv(F=>{const $=F.target,q=j.current!==F.clientX;if(F.currentTarget.contains($)&&q){const Z=F.clientX>j.current?"right":"left";X.current=Z,j.current=F.clientX}}))})})})})})})});sW.displayName=na;var rce="MenuGroup",NN=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Et.div,{role:"group",...r,ref:e})});NN.displayName=rce;var ice="MenuLabel",lW=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Et.div,{...r,ref:e})});lW.displayName=ice;var rw="MenuItem",Cj="menu.itemSelect",rS=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=C.useRef(null),a=Iy(rw,t.__scopeMenu),s=ON(rw,t.__scopeMenu),l=tn(e,o),c=C.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const f=new CustomEvent(Cj,{bubbles:!0,cancelable:!0});d.addEventListener(Cj,p=>r==null?void 0:r(p),{once:!0}),nN(d,f),f.defaultPrevented?c.current=!1:a.onClose()}};return w.jsx(cW,{...i,ref:l,disabled:n,onClick:ze(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)==null||f.call(t,d),c.current=!0},onPointerUp:ze(t.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:ze(t.onKeyDown,d=>{const f=s.searchRef.current!=="";n||f&&d.key===" "||_C.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});rS.displayName=rw;var cW=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,a=ON(rw,n),s=rW(n),l=C.useRef(null),c=tn(e,l),[u,d]=C.useState(!1),[f,p]=C.useState("");return C.useEffect(()=>{const g=l.current;g&&p((g.textContent??"").trim())},[o.children]),w.jsx(uv.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:w.jsx(S6,{asChild:!0,...s,focusable:!r,children:w.jsx(Et.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:ze(t.onPointerMove,dv(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ze(t.onPointerLeave,dv(g=>a.onItemLeave(g))),onFocus:ze(t.onFocus,()=>d(!0)),onBlur:ze(t.onBlur,()=>d(!1))})})})}),oce="MenuCheckboxItem",uW=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return w.jsx(mW,{scope:t.__scopeMenu,checked:n,children:w.jsx(rS,{role:"menuitemcheckbox","aria-checked":iw(n)?"mixed":n,...i,ref:e,"data-state":kN(n),onSelect:ze(i.onSelect,()=>r==null?void 0:r(iw(n)?!0:!n),{checkForDefaultPrevented:!1})})})});uW.displayName=oce;var dW="MenuRadioGroup",[ace,sce]=Rd(dW,{value:void 0,onValueChange:()=>{}}),fW=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=ui(r);return w.jsx(ace,{scope:t.__scopeMenu,value:n,onValueChange:o,children:w.jsx(NN,{...i,ref:e})})});fW.displayName=dW;var hW="MenuRadioItem",pW=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=sce(hW,t.__scopeMenu),o=n===i.value;return w.jsx(mW,{scope:t.__scopeMenu,checked:o,children:w.jsx(rS,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":kN(o),onSelect:ze(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});pW.displayName=hW;var IN="MenuItemIndicator",[mW,lce]=Rd(IN,{checked:!1}),gW=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=lce(IN,n);return w.jsx(sa,{present:r||iw(o.checked)||o.checked===!0,children:w.jsx(Et.span,{...i,ref:e,"data-state":kN(o.checked)})})});gW.displayName=IN;var cce="MenuSeparator",vW=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(Et.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});vW.displayName=cce;var uce="MenuArrow",yW=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=nS(n);return w.jsx(yN,{...i,...r,ref:e})});yW.displayName=uce;var dce="MenuSub",[a6e,xW]=Rd(dce),cg="MenuSubTrigger",bW=C.forwardRef((t,e)=>{const n=Nd(cg,t.__scopeMenu),r=Iy(cg,t.__scopeMenu),i=xW(cg,t.__scopeMenu),o=ON(cg,t.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},u=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>u,[u]),C.useEffect(()=>{const d=s.current;return()=>{window.clearTimeout(d),l(null)}},[s,l]),w.jsx(PN,{asChild:!0,...c,children:w.jsx(cW,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":SW(n.open),...t,ref:k1(e,i.onTriggerChange),onClick:d=>{var f;(f=t.onClick)==null||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ze(t.onPointerMove,dv(d=>{o.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ze(t.onPointerLeave,dv(d=>{var p,g;u();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const y=(g=n.content)==null?void 0:g.dataset.side,x=y==="right",v=x?-5:5,b=f[x?"left":"right"],_=f[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:b,y:f.top},{x:_,y:f.top},{x:_,y:f.bottom},{x:b,y:f.bottom}],side:y}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ze(t.onKeyDown,d=>{var p;const f=o.searchRef.current!=="";t.disabled||f&&d.key===" "||Gle[r.dir].includes(d.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),d.preventDefault())})})})});bW.displayName=cg;var _W="MenuSubContent",wW=C.forwardRef((t,e)=>{const n=oW(na,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Nd(na,t.__scopeMenu),a=Iy(na,t.__scopeMenu),s=xW(_W,t.__scopeMenu),l=C.useRef(null),c=tn(e,l);return w.jsx(uv.Provider,{scope:t.__scopeMenu,children:w.jsx(sa,{present:r||o.open,children:w.jsx(uv.Slot,{scope:t.__scopeMenu,children:w.jsx(RN,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;a.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ze(t.onFocusOutside,u=>{u.target!==s.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ze(t.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:ze(t.onKeyDown,u=>{var p;const d=u.currentTarget.contains(u.target),f=qle[a.dir].includes(u.key);d&&f&&(o.onOpenChange(!1),(p=s.trigger)==null||p.focus(),u.preventDefault())})})})})})});wW.displayName=_W;function SW(t){return t?"open":"closed"}function iw(t){return t==="indeterminate"}function kN(t){return iw(t)?"indeterminate":t?"checked":"unchecked"}function fce(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function hce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function pce(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=hce(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function mce(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o].x,l=e[o].y,c=e[a].x,u=e[a].y;l>r!=u>r&&n<(c-s)*(r-l)/(u-l)+s&&(i=!i)}return i}function gce(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return mce(n,e)}function dv(t){return e=>e.pointerType==="mouse"?t(e):void 0}var vce=iW,yce=PN,xce=aW,bce=sW,_ce=NN,wce=lW,Sce=rS,Ece=uW,Ace=fW,Tce=pW,Mce=gW,Pce=vW,Cce=yW,Oce=bW,Rce=wW,LN="DropdownMenu",[Nce,s6e]=Fc(LN,[nW]),Li=nW(),[Ice,EW]=Nce(LN),AW=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:a,modal:s=!0}=t,l=Li(e),c=C.useRef(null),[u=!1,d]=Pc({prop:i,defaultProp:o,onChange:a});return w.jsx(Ice,{scope:e,triggerId:us(),triggerRef:c,contentId:us(),open:u,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(f=>!f),[d]),modal:s,children:w.jsx(vce,{...l,open:u,onOpenChange:d,dir:r,modal:s,children:n})})};AW.displayName=LN;var TW="DropdownMenuTrigger",MW=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=EW(TW,n),a=Li(n);return w.jsx(yce,{asChild:!0,...a,children:w.jsx(Et.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:k1(e,o.triggerRef),onPointerDown:ze(t.onPointerDown,s=>{!r&&s.button===0&&s.ctrlKey===!1&&(o.onOpenToggle(),o.open||s.preventDefault())}),onKeyDown:ze(t.onKeyDown,s=>{r||(["Enter"," "].includes(s.key)&&o.onOpenToggle(),s.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});MW.displayName=TW;var kce="DropdownMenuPortal",PW=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Li(e);return w.jsx(xce,{...r,...n})};PW.displayName=kce;var CW="DropdownMenuContent",OW=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=EW(CW,n),o=Li(n),a=C.useRef(!1);return w.jsx(bce,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:ze(t.onCloseAutoFocus,s=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:ze(t.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OW.displayName=CW;var Lce="DropdownMenuGroup",Dce=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(_ce,{...i,...r,ref:e})});Dce.displayName=Lce;var jce="DropdownMenuLabel",RW=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(wce,{...i,...r,ref:e})});RW.displayName=jce;var Uce="DropdownMenuItem",NW=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(Sce,{...i,...r,ref:e})});NW.displayName=Uce;var Fce="DropdownMenuCheckboxItem",IW=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(Ece,{...i,...r,ref:e})});IW.displayName=Fce;var Bce="DropdownMenuRadioGroup",zce=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(Ace,{...i,...r,ref:e})});zce.displayName=Bce;var $ce="DropdownMenuRadioItem",kW=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(Tce,{...i,...r,ref:e})});kW.displayName=$ce;var Hce="DropdownMenuItemIndicator",LW=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(Mce,{...i,...r,ref:e})});LW.displayName=Hce;var Vce="DropdownMenuSeparator",DW=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(Pce,{...i,...r,ref:e})});DW.displayName=Vce;var Wce="DropdownMenuArrow",Gce=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(Cce,{...i,...r,ref:e})});Gce.displayName=Wce;var qce="DropdownMenuSubTrigger",jW=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(Oce,{...i,...r,ref:e})});jW.displayName=qce;var Xce="DropdownMenuSubContent",UW=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Li(n);return w.jsx(Rce,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UW.displayName=Xce;var Kce=AW,Yce=MW,Jce=PW,FW=OW,BW=RW,zW=NW,$W=IW,HW=kW,VW=LW,WW=DW,GW=jW,qW=UW;const Zce=Kce,Qce=Yce,eue=C.forwardRef(({className:t,inset:e,children:n,...r},i)=>w.jsxs(GW,{ref:i,className:ut("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,w.jsx(fre,{className:"ml-auto h-4 w-4"})]}));eue.displayName=GW.displayName;const tue=C.forwardRef(({className:t,...e},n)=>w.jsx(qW,{ref:n,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));tue.displayName=qW.displayName;const XW=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>w.jsx(Jce,{children:w.jsx(FW,{ref:r,sideOffset:e,className:ut("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));XW.displayName=FW.displayName;const wC=C.forwardRef(({className:t,inset:e,...n},r)=>w.jsx(zW,{ref:r,className:ut("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));wC.displayName=zW.displayName;const nue=C.forwardRef(({className:t,children:e,checked:n,...r},i)=>w.jsxs($W,{ref:i,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(VW,{children:w.jsx(zr,{className:"h-4 w-4"})})}),e]}));nue.displayName=$W.displayName;const rue=C.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(HW,{ref:r,className:ut("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(VW,{children:w.jsx(gre,{className:"h-2 w-2 fill-current"})})}),e]}));rue.displayName=HW.displayName;const iue=C.forwardRef(({className:t,inset:e,...n},r)=>w.jsx(BW,{ref:r,className:ut("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));iue.displayName=BW.displayName;const oue=C.forwardRef(({className:t,...e},n)=>w.jsx(WW,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));oue.displayName=WW.displayName;const zc=()=>{const[t,e]=C.useState(!1);return w.jsxs("nav",{className:"w-full bg-black/90 backdrop-blur-sm fixed top-0 z-50 shadow-sm",children:[w.jsxs("div",{className:"container mx-auto flex items-center justify-between py-4",children:[w.jsx("div",{className:"flex items-center",children:w.jsx(_i,{to:"/",className:"flex items-center",children:w.jsxs("span",{className:"font-bold text-2xl",children:[w.jsx("span",{className:"text-white",children:"Markets"}),w.jsx("span",{className:"text-gold-500",children:"4all"})]})})}),w.jsxs("div",{className:"hidden md:flex items-center space-x-8 mx-auto",children:[w.jsx("a",{href:"#services",className:"text-white hover:text-gold-500 font-medium whitespace-nowrap",children:"Servicii"}),w.jsx("a",{href:"#educational",className:"text-white hover:text-gold-500 font-medium whitespace-nowrap",children:"nva"}),w.jsx("a",{href:"#about",className:"text-white hover:text-gold-500 font-medium whitespace-nowrap",children:"Despre noi"}),w.jsx(_i,{to:"/careers",className:"text-white hover:text-gold-500 font-medium whitespace-nowrap",children:"Cariere"}),w.jsx("a",{href:"#contact",className:"text-white hover:text-gold-500 font-medium whitespace-nowrap",children:"Contact"})]}),w.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[w.jsx(_i,{to:"/login",children:w.jsx(Nt,{variant:"outline",className:"border-gold-500 text-gold-500 hover:bg-gold-500 hover:text-black",children:"Autentificare"})}),w.jsx(_i,{to:"/register",children:w.jsx(Nt,{className:"bg-gold-500 hover:bg-gold-600 text-black font-semibold",children:"nregistrare"})}),w.jsxs(Zce,{children:[w.jsx(Qce,{asChild:!0,children:w.jsx(Nt,{variant:"ghost",className:"text-white hover:text-gold-500",children:w.jsx(u_,{className:"h-4 w-4"})})}),w.jsxs(XW,{align:"end",className:"bg-black/90 border border-gold-500",children:[w.jsx(wC,{className:"text-white hover:text-gold-500 hover:bg-gray-800",children:w.jsxs("a",{href:"tel:0740113111",className:"flex items-center w-full",children:[w.jsx(u_,{className:"mr-2 h-4 w-4"}),"0740113111"]})}),w.jsx(wC,{className:"text-white hover:text-gold-500 hover:bg-gray-800",children:w.jsxs("a",{href:"mailto:markets4allro@gmail.com",className:"flex items-center w-full",children:[w.jsx(rv,{className:"mr-2 h-4 w-4"}),"markets4allro@gmail.com"]})})]})]})]}),w.jsx("div",{className:"md:hidden flex items-center",children:w.jsx(Nt,{variant:"ghost",onClick:()=>e(!t),className:"text-white hover:bg-transparent hover:text-gold-500",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:t?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})})]}),t&&w.jsx("div",{className:"md:hidden bg-black/95 p-4",children:w.jsxs("div",{className:"flex flex-col space-y-4",children:[w.jsx("a",{href:"#services",className:"text-white hover:text-gold-500 font-medium py-2",children:"Servicii"}),w.jsx("a",{href:"#educational",className:"text-white hover:text-gold-500 font-medium py-2",children:"nva"}),w.jsx("a",{href:"#about",className:"text-white hover:text-gold-500 font-medium py-2",children:"Despre noi"}),w.jsx(_i,{to:"/careers",className:"text-white hover:text-gold-500 font-medium py-2",children:"Cariere"}),w.jsx("a",{href:"#contact",className:"text-white hover:text-gold-500 font-medium py-2",children:"Contact"}),w.jsxs("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-800",children:[w.jsx(_i,{to:"/login",className:"w-full",children:w.jsx(Nt,{variant:"outline",className:"w-full border-gold-500 text-gold-500 hover:bg-gold-500 hover:text-black",children:"Autentificare"})}),w.jsx(_i,{to:"/register",className:"w-full",children:w.jsx(Nt,{className:"w-full bg-gold-500 hover:bg-gold-600 text-black font-semibold",children:"nregistrare"})})]}),w.jsxs("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-800",children:[w.jsxs("a",{href:"tel:0740113111",className:"flex items-center text-white hover:text-gold-500 font-medium py-2",children:[w.jsx(u_,{className:"mr-2 h-4 w-4"}),"0740113111"]}),w.jsxs("a",{href:"mailto:markets4allro@gmail.com",className:"flex items-center text-white hover:text-gold-500 font-medium py-2",children:[w.jsx(rv,{className:"mr-2 h-4 w-4"}),"markets4allro@gmail.com"]})]})]})})]})};function KW(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var DN="Checkbox",[aue,l6e]=Fc(DN),[sue,lue]=aue(DN),YW=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,p]=C.useState(null),g=tn(e,S=>p(S)),y=C.useRef(!1),x=f?u||!!f.closest("form"):!0,[v=!1,b]=Pc({prop:i,defaultProp:o,onChange:c}),_=C.useRef(v);return C.useEffect(()=>{const S=f==null?void 0:f.form;if(S){const A=()=>b(_.current);return S.addEventListener("reset",A),()=>S.removeEventListener("reset",A)}},[f,b]),w.jsxs(sue,{scope:n,state:v,disabled:s,children:[w.jsx(Et.button,{type:"button",role:"checkbox","aria-checked":xc(v)?"mixed":v,"aria-required":a,"data-state":QW(v),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:g,onKeyDown:ze(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ze(t.onClick,S=>{b(A=>xc(A)?!0:!A),x&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})}),x&&w.jsx(cue,{control:f,bubbles:!y.current,name:r,value:l,checked:v,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"},defaultChecked:xc(o)?!1:o})]})});YW.displayName=DN;var JW="CheckboxIndicator",ZW=C.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=lue(JW,n);return w.jsx(sa,{present:r||xc(o.state)||o.state===!0,children:w.jsx(Et.span,{"data-state":QW(o.state),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});ZW.displayName=JW;var cue=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...o}=t,a=C.useRef(null),s=KW(n),l=IV(e);C.useEffect(()=>{const u=a.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(s!==n&&p){const g=new Event("click",{bubbles:r});u.indeterminate=xc(n),p.call(u,xc(n)?!1:n),u.dispatchEvent(g)}},[s,n,r]);const c=C.useRef(xc(n)?!1:n);return w.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...o,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xc(t){return t==="indeterminate"}function QW(t){return xc(t)?"indeterminate":t?"checked":"unchecked"}var eG=YW,uue=ZW;const iS=C.forwardRef(({className:t,...e},n)=>w.jsx(eG,{ref:n,className:ut("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:w.jsx(uue,{className:ut("flex items-center justify-center text-current"),children:w.jsx(zr,{className:"h-4 w-4"})})}));iS.displayName=eG.displayName;var due="Label",tG=C.forwardRef((t,e)=>w.jsx(Et.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tG.displayName=due;var nG=tG;const fue=U1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Yo=C.forwardRef(({className:t,...e},n)=>w.jsx(nG,{ref:n,className:ut(fue(),t),...e}));Yo.displayName=nG.displayName;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const oS="160",hue={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},pue={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},rG=0,SC=1,iG=2,mue=3,oG=0,aS=1,Eg=2,wa=3,fl=0,Ci=1,as=2,gue=2,nl=0,td=1,EC=2,AC=3,TC=4,aG=5,Zl=100,sG=101,lG=102,MC=103,PC=104,cG=200,uG=201,dG=202,fG=203,ow=204,aw=205,hG=206,pG=207,mG=208,gG=209,vG=210,yG=211,xG=212,bG=213,_G=214,wG=0,SG=1,EG=2,fv=3,AG=4,TG=5,MG=6,PG=7,ky=0,CG=1,OG=2,ds=0,RG=1,NG=2,IG=3,jN=4,kG=5,LG=6,CC="attached",DG="detached",sS=300,hl=301,Ic=302,hv=303,pv=304,kp=306,mv=1e3,si=1001,gv=1002,Qn=1003,sw=1004,vue=1004,Ag=1005,yue=1005,tr=1006,UN=1007,xue=1007,kc=1008,bue=1008,fs=1009,jG=1010,UG=1011,lS=1012,FN=1013,Ys=1014,Ra=1015,Gh=1016,BN=1017,zN=1018,bc=1020,FG=1021,Ei=1023,BG=1024,zG=1025,_c=1026,pd=1027,$G=1028,$N=1029,HG=1030,HN=1031,VN=1033,m_=33776,g_=33777,v_=33778,y_=33779,OC=35840,RC=35841,NC=35842,IC=35843,WN=36196,kC=37492,LC=37496,DC=37808,jC=37809,UC=37810,FC=37811,BC=37812,zC=37813,$C=37814,HC=37815,VC=37816,WC=37817,GC=37818,qC=37819,XC=37820,KC=37821,x_=36492,YC=36494,JC=36495,VG=36283,ZC=36284,QC=36285,eO=36286,WG=2200,GG=2201,qG=2202,vv=2300,yv=2301,b_=2302,Bu=2400,zu=2401,xv=2402,cS=2500,GN=2501,_ue=0,wue=1,Sue=2,qN=3e3,wc=3001,XG=3200,KG=3201,$c=0,YG=1,vo="",gr="srgb",xs="srgb-linear",uS="display-p3",Ly="display-p3-linear",bv="linear",yn="srgb",_v="rec709",wv="p3",Eue=0,Tu=7680,Aue=7681,Tue=7682,Mue=7683,Pue=34055,Cue=34056,Oue=5386,Rue=512,Nue=513,Iue=514,kue=515,Lue=516,Due=517,jue=518,tO=519,JG=512,ZG=513,QG=514,XN=515,e9=516,t9=517,n9=518,r9=519,Sv=35044,Uue=35048,Fue=35040,Bue=35045,zue=35049,$ue=35041,Hue=35046,Vue=35050,Wue=35042,Gue="100",nO="300 es",lw=1035,Na=2e3,qh=2001;class xl{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const Qr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Oj=1234567;const nd=Math.PI/180,Xh=180/Math.PI;function Eo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Qr[t&255]+Qr[t>>8&255]+Qr[t>>16&255]+Qr[t>>24&255]+"-"+Qr[e&255]+Qr[e>>8&255]+"-"+Qr[e>>16&15|64]+Qr[e>>24&255]+"-"+Qr[n&63|128]+Qr[n>>8&255]+"-"+Qr[n>>16&255]+Qr[n>>24&255]+Qr[r&255]+Qr[r>>8&255]+Qr[r>>16&255]+Qr[r>>24&255]).toLowerCase()}function qn(t,e,n){return Math.max(e,Math.min(n,t))}function KN(t,e){return(t%e+e)%e}function que(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Xue(t,e,n){return t!==e?(n-t)/(e-t):0}function Tg(t,e,n){return(1-n)*t+n*e}function Kue(t,e,n,r){return Tg(t,e,1-Math.exp(-n*r))}function Yue(t,e=1){return e-Math.abs(KN(t,e*2)-e)}function Jue(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Zue(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Que(t,e){return t+Math.floor(Math.random()*(e-t+1))}function ede(t,e){return t+Math.random()*(e-t)}function tde(t){return t*(.5-Math.random())}function nde(t){t!==void 0&&(Oj=t);let e=Oj+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function rde(t){return t*nd}function ide(t){return t*Xh}function rO(t){return(t&t-1)===0&&t!==0}function ode(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function cw(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function ade(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),u=a((e+r)/2),d=o((e-r)/2),f=a((e-r)/2),p=o((r-e)/2),g=a((r-e)/2);switch(i){case"XYX":t.set(s*u,l*d,l*f,s*c);break;case"YZY":t.set(l*f,s*u,l*d,s*c);break;case"ZXZ":t.set(l*d,l*f,s*u,s*c);break;case"XZX":t.set(s*u,l*g,l*p,s*c);break;case"YXY":t.set(l*p,s*u,l*g,s*c);break;case"ZYZ":t.set(l*g,l*p,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Hi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ut(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const sde={DEG2RAD:nd,RAD2DEG:Xh,generateUUID:Eo,clamp:qn,euclideanModulo:KN,mapLinear:que,inverseLerp:Xue,lerp:Tg,damp:Kue,pingpong:Yue,smoothstep:Jue,smootherstep:Zue,randInt:Que,randFloat:ede,randFloatSpread:tde,seededRandom:nde,degToRad:rde,radToDeg:ide,isPowerOfTwo:rO,ceilPowerOfTwo:ode,floorPowerOfTwo:cw,setQuaternionFromProperEuler:ade,normalize:Ut,denormalize:Hi};class Me{constructor(e=0,n=0){Me.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class zt{constructor(e,n,r,i,o,a,s,l,c){zt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],p=r[5],g=r[8],y=i[0],x=i[3],v=i[6],b=i[1],_=i[4],S=i[7],A=i[2],M=i[5],P=i[8];return o[0]=a*y+s*b+l*A,o[3]=a*x+s*_+l*M,o[6]=a*v+s*S+l*P,o[1]=c*y+u*b+d*A,o[4]=c*x+u*_+d*M,o[7]=c*v+u*S+d*P,o[2]=f*y+p*b+g*A,o[5]=f*x+p*_+g*M,o[8]=f*v+p*S+g*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*s*c-r*o*u+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=u*a-s*c,f=s*l-u*o,p=c*o-a*l,g=n*d+r*f+i*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=d*y,e[1]=(i*c-u*r)*y,e[2]=(s*r-i*a)*y,e[3]=f*y,e[4]=(u*n-i*l)*y,e[5]=(i*o-s*n)*y,e[6]=p*y,e[7]=(r*l-c*n)*y,e[8]=(a*n-r*o)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(RT.makeScale(e,n)),this}rotate(e){return this.premultiply(RT.makeRotation(-e)),this}translate(e,n){return this.premultiply(RT.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const RT=new zt;function i9(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const lde={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function nh(t,e){return new lde[t](e)}function Ev(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function o9(){const t=Ev("canvas");return t.style.display="block",t}const Rj={};function Mg(t){t in Rj||(Rj[t]=!0,console.warn(t))}const Nj=new zt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Ij=new zt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Rx={[xs]:{transfer:bv,primaries:_v,toReference:t=>t,fromReference:t=>t},[gr]:{transfer:yn,primaries:_v,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Ly]:{transfer:bv,primaries:wv,toReference:t=>t.applyMatrix3(Ij),fromReference:t=>t.applyMatrix3(Nj)},[uS]:{transfer:yn,primaries:wv,toReference:t=>t.convertSRGBToLinear().applyMatrix3(Ij),fromReference:t=>t.applyMatrix3(Nj).convertLinearToSRGB()}},cde=new Set([xs,Ly]),sn={enabled:!0,_workingColorSpace:xs,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!cde.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Rx[e].toReference,i=Rx[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Rx[t].primaries},getTransfer:function(t){return t===vo?bv:Rx[t].transfer}};function _h(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function NT(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let sf;class YN{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{sf===void 0&&(sf=Ev("canvas")),sf.width=e.width,sf.height=e.height;const r=sf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=sf}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ev("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=_h(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(_h(n[r]/255)*255):n[r]=_h(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ude=0;class $u{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ude++}),this.uuid=Eo(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(IT(i[a].image)):o.push(IT(i[a]))}else o=IT(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function IT(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?YN.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let dde=0;class nr extends xl{constructor(e=nr.DEFAULT_IMAGE,n=nr.DEFAULT_MAPPING,r=si,i=si,o=tr,a=kc,s=Ei,l=fs,c=nr.DEFAULT_ANISOTROPY,u=vo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:dde++}),this.uuid=Eo(),this.name="",this.source=new $u(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Me(0,0),this.repeat=new Me(1,1),this.center=new Me(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Mg("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===wc?gr:vo),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==sS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case mv:e.x=e.x-Math.floor(e.x);break;case si:e.x=e.x<0?0:1;break;case gv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case mv:e.y=e.y-Math.floor(e.y);break;case si:e.y=e.y<0?0:1;break;case gv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Mg("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===gr?wc:qN}set encoding(e){Mg("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===wc?gr:vo}}nr.DEFAULT_IMAGE=null;nr.DEFAULT_MAPPING=sS;nr.DEFAULT_ANISOTROPY=1;class ln{constructor(e=0,n=0,r=0,i=1){ln.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],p=l[5],g=l[9],y=l[2],x=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-y)<.01&&Math.abs(g-x)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+y)<.1&&Math.abs(g+x)<.1&&Math.abs(c+p+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,S=(p+1)/2,A=(v+1)/2,M=(u+f)/4,P=(d+y)/4,N=(g+x)/4;return _>S&&_>A?_<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(_),i=M/r,o=P/r):S>A?S<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(S),r=M/i,o=N/i):A<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(A),r=P/o,i=N/o),this.set(r,i,o,n),this}let b=Math.sqrt((x-g)*(x-g)+(d-y)*(d-y)+(f-u)*(f-u));return Math.abs(b)<.001&&(b=1),this.x=(x-g)/b,this.y=(d-y)/b,this.z=(f-u)/b,this.w=Math.acos((c+p+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class a9 extends xl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new ln(0,0,e,n),this.scissorTest=!1,this.viewport=new ln(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Mg("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===wc?gr:vo),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:tr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new nr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new $u(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Fa extends a9{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class dS extends nr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Qn,this.minFilter=Qn,this.wrapR=si,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fde extends Fa{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new dS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class JN extends nr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Qn,this.minFilter=Qn,this.wrapR=si,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hde extends Fa{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new JN(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class pde extends Fa{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Yi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=o[a+0],p=o[a+1],g=o[a+2],y=o[a+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(s===1){e[n+0]=f,e[n+1]=p,e[n+2]=g,e[n+3]=y;return}if(d!==y||l!==f||c!==p||u!==g){let x=1-s;const v=l*f+c*p+u*g+d*y,b=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const A=Math.sqrt(_),M=Math.atan2(A,v*b);x=Math.sin(x*M)/A,s=Math.sin(s*M)/A}const S=s*b;if(l=l*x+f*S,c=c*x+p*S,u=u*x+g*S,d=d*x+y*S,x===1-s){const A=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=A,c*=A,u*=A,d*=A}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[a],f=o[a+1],p=o[a+2],g=o[a+3];return e[n]=s*g+u*d+l*p-c*f,e[n+1]=l*g+u*f+c*d-s*p,e[n+2]=c*g+u*p+s*f-l*d,e[n+3]=u*g-s*d-l*f-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),u=s(i/2),d=s(o/2),f=l(r/2),p=l(i/2),g=l(o/2);switch(a){case"XYZ":this._x=f*u*d+c*p*g,this._y=c*p*d-f*u*g,this._z=c*u*g+f*p*d,this._w=c*u*d-f*p*g;break;case"YXZ":this._x=f*u*d+c*p*g,this._y=c*p*d-f*u*g,this._z=c*u*g-f*p*d,this._w=c*u*d+f*p*g;break;case"ZXY":this._x=f*u*d-c*p*g,this._y=c*p*d+f*u*g,this._z=c*u*g+f*p*d,this._w=c*u*d-f*p*g;break;case"ZYX":this._x=f*u*d-c*p*g,this._y=c*p*d+f*u*g,this._z=c*u*g-f*p*d,this._w=c*u*d+f*p*g;break;case"YZX":this._x=f*u*d+c*p*g,this._y=c*p*d+f*u*g,this._z=c*u*g-f*p*d,this._w=c*u*d-f*p*g;break;case"XZY":this._x=f*u*d-c*p*g,this._y=c*p*d-f*u*g,this._z=c*u*g+f*p*d,this._w=c*u*d+f*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+s+d;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(u-l)*p,this._y=(o-c)*p,this._z=(a-i)*p}else if(r>s&&r>d){const p=2*Math.sqrt(1+r-s-d);this._w=(u-l)/p,this._x=.25*p,this._y=(i+a)/p,this._z=(o+c)/p}else if(s>d){const p=2*Math.sqrt(1+s-r-d);this._w=(o-c)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+d-r-s);this._w=(a-i)/p,this._x=(o+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(qn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*s+i*c-o*l,this._y=i*u+a*l+o*s-r*c,this._z=o*u+a*c+r*l-i*s,this._w=a*u-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const p=1-n;return this._w=p*a+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=a*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,n=0,r=0){J.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(kj.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(kj.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*i-s*r),u=2*(s*n-o*i),d=2*(o*r-a*n);return this.x=n+l*c+a*d-s*u,this.y=r+l*u+s*c-o*d,this.z=i+l*d+o*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return kT.copy(this).projectOnVector(e),this.sub(kT)}reflect(e){return this.sub(kT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const kT=new J,kj=new Yi;class Oi{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ha.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ha.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ha.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,ha):ha.fromBufferAttribute(o,a),ha.applyMatrix4(e.matrixWorld),this.expandByPoint(ha);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Nx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Nx.copy(r.boundingBox)),Nx.applyMatrix4(e.matrixWorld),this.union(Nx)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ha),ha.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(km),Ix.subVectors(this.max,km),lf.subVectors(e.a,km),cf.subVectors(e.b,km),uf.subVectors(e.c,km),Dl.subVectors(cf,lf),jl.subVectors(uf,cf),cu.subVectors(lf,uf);let n=[0,-Dl.z,Dl.y,0,-jl.z,jl.y,0,-cu.z,cu.y,Dl.z,0,-Dl.x,jl.z,0,-jl.x,cu.z,0,-cu.x,-Dl.y,Dl.x,0,-jl.y,jl.x,0,-cu.y,cu.x,0];return!LT(n,lf,cf,uf,Ix)||(n=[1,0,0,0,1,0,0,0,1],!LT(n,lf,cf,uf,Ix))?!1:(kx.crossVectors(Dl,jl),n=[kx.x,kx.y,kx.z],LT(n,lf,cf,uf,Ix))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ha).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ha).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ks[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ks[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ks[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ks[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ks[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ks[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ks[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ks[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ks),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ks=[new J,new J,new J,new J,new J,new J,new J,new J],ha=new J,Nx=new Oi,lf=new J,cf=new J,uf=new J,Dl=new J,jl=new J,cu=new J,km=new J,Ix=new J,kx=new J,uu=new J;function LT(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){uu.fromArray(t,o);const s=i.x*Math.abs(uu.x)+i.y*Math.abs(uu.y)+i.z*Math.abs(uu.z),l=e.dot(uu),c=n.dot(uu),u=r.dot(uu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const mde=new Oi,Lm=new J,DT=new J;class li{constructor(e=new J,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):mde.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Lm.subVectors(e,this.center);const n=Lm.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Lm,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(DT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Lm.copy(e.center).add(DT)),this.expandByPoint(Lm.copy(e.center).sub(DT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ls=new J,jT=new J,Lx=new J,Ul=new J,UT=new J,Dx=new J,FT=new J;class Lp{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ls)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ls.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ls.copy(this.origin).addScaledVector(this.direction,n),Ls.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){jT.copy(e).add(n).multiplyScalar(.5),Lx.copy(n).sub(e).normalize(),Ul.copy(this.origin).sub(jT);const o=e.distanceTo(n)*.5,a=-this.direction.dot(Lx),s=Ul.dot(this.direction),l=-Ul.dot(Lx),c=Ul.lengthSq(),u=Math.abs(1-a*a);let d,f,p,g;if(u>0)if(d=a*l-s,f=a*s-l,g=o*u,d>=0)if(f>=-g)if(f<=g){const y=1/u;d*=y,f*=y,p=d*(d+a*f+2*s)+f*(a*d+f+2*l)+c}else f=o,d=Math.max(0,-(a*f+s)),p=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(a*f+s)),p=-d*d+f*(f+2*l)+c;else f<=-g?(d=Math.max(0,-(-a*o+s)),f=d>0?-o:Math.min(Math.max(-o,-l),o),p=-d*d+f*(f+2*l)+c):f<=g?(d=0,f=Math.min(Math.max(-o,-l),o),p=f*(f+2*l)+c):(d=Math.max(0,-(a*o+s)),f=d>0?o:Math.min(Math.max(-o,-l),o),p=-d*d+f*(f+2*l)+c);else f=a>0?-o:o,d=Math.max(0,-(a*f+s)),p=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(jT).addScaledVector(Lx,f),p}intersectSphere(e,n){Ls.subVectors(e.center,this.origin);const r=Ls.dot(this.direction),i=Ls.dot(Ls)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,a=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,a=(e.min.y-f.y)*u),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),d>=0?(s=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(s=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ls)!==null}intersectTriangle(e,n,r,i,o){UT.subVectors(n,e),Dx.subVectors(r,e),FT.crossVectors(UT,Dx);let a=this.direction.dot(FT),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Ul.subVectors(this.origin,e);const l=s*this.direction.dot(Dx.crossVectors(Ul,Dx));if(l<0)return null;const c=s*this.direction.dot(UT.cross(Ul));if(c<0||l+c>a)return null;const u=-s*Ul.dot(FT);return u<0?null:this.at(u/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class At{constructor(e,n,r,i,o,a,s,l,c,u,d,f,p,g,y,x){At.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,u,d,f,p,g,y,x)}set(e,n,r,i,o,a,s,l,c,u,d,f,p,g,y,x){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=o,v[5]=a,v[9]=s,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=f,v[3]=p,v[7]=g,v[11]=y,v[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new At().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/df.setFromMatrixColumn(e,0).length(),o=1/df.setFromMatrixColumn(e,1).length(),a=1/df.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=a*u,p=a*d,g=s*u,y=s*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=p+g*c,n[5]=f-y*c,n[9]=-s*l,n[2]=y-f*c,n[6]=g+p*c,n[10]=a*l}else if(e.order==="YXZ"){const f=l*u,p=l*d,g=c*u,y=c*d;n[0]=f+y*s,n[4]=g*s-p,n[8]=a*c,n[1]=a*d,n[5]=a*u,n[9]=-s,n[2]=p*s-g,n[6]=y+f*s,n[10]=a*l}else if(e.order==="ZXY"){const f=l*u,p=l*d,g=c*u,y=c*d;n[0]=f-y*s,n[4]=-a*d,n[8]=g+p*s,n[1]=p+g*s,n[5]=a*u,n[9]=y-f*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const f=a*u,p=a*d,g=s*u,y=s*d;n[0]=l*u,n[4]=g*c-p,n[8]=f*c+y,n[1]=l*d,n[5]=y*c+f,n[9]=p*c-g,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,p=a*c,g=s*l,y=s*c;n[0]=l*u,n[4]=y-f*d,n[8]=g*d+p,n[1]=d,n[5]=a*u,n[9]=-s*u,n[2]=-c*u,n[6]=p*d+g,n[10]=f-y*d}else if(e.order==="XZY"){const f=a*l,p=a*c,g=s*l,y=s*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+y,n[5]=a*u,n[9]=p*d-g,n[2]=g*d-p,n[6]=s*u,n[10]=y*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(gde,e,vde)}lookAt(e,n,r){const i=this.elements;return ao.subVectors(e,n),ao.lengthSq()===0&&(ao.z=1),ao.normalize(),Fl.crossVectors(r,ao),Fl.lengthSq()===0&&(Math.abs(r.z)===1?ao.x+=1e-4:ao.z+=1e-4,ao.normalize(),Fl.crossVectors(r,ao)),Fl.normalize(),jx.crossVectors(ao,Fl),i[0]=Fl.x,i[4]=jx.x,i[8]=ao.x,i[1]=Fl.y,i[5]=jx.y,i[9]=ao.y,i[2]=Fl.z,i[6]=jx.z,i[10]=ao.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],p=r[13],g=r[2],y=r[6],x=r[10],v=r[14],b=r[3],_=r[7],S=r[11],A=r[15],M=i[0],P=i[4],N=i[8],R=i[12],I=i[1],D=i[5],U=i[9],X=i[13],j=i[2],W=i[6],H=i[10],Y=i[14],k=i[3],F=i[7],$=i[11],q=i[15];return o[0]=a*M+s*I+l*j+c*k,o[4]=a*P+s*D+l*W+c*F,o[8]=a*N+s*U+l*H+c*$,o[12]=a*R+s*X+l*Y+c*q,o[1]=u*M+d*I+f*j+p*k,o[5]=u*P+d*D+f*W+p*F,o[9]=u*N+d*U+f*H+p*$,o[13]=u*R+d*X+f*Y+p*q,o[2]=g*M+y*I+x*j+v*k,o[6]=g*P+y*D+x*W+v*F,o[10]=g*N+y*U+x*H+v*$,o[14]=g*R+y*X+x*Y+v*q,o[3]=b*M+_*I+S*j+A*k,o[7]=b*P+_*D+S*W+A*F,o[11]=b*N+_*U+S*H+A*$,o[15]=b*R+_*X+S*Y+A*q,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],p=e[14],g=e[3],y=e[7],x=e[11],v=e[15];return g*(+o*l*d-i*c*d-o*s*f+r*c*f+i*s*p-r*l*p)+y*(+n*l*p-n*c*f+o*a*f-i*a*p+i*c*u-o*l*u)+x*(+n*c*d-n*s*p-o*a*d+r*a*p+o*s*u-r*c*u)+v*(-i*s*u-n*l*d+n*s*f+i*a*d-r*a*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],p=e[11],g=e[12],y=e[13],x=e[14],v=e[15],b=d*x*c-y*f*c+y*l*p-s*x*p-d*l*v+s*f*v,_=g*f*c-u*x*c-g*l*p+a*x*p+u*l*v-a*f*v,S=u*y*c-g*d*c+g*s*p-a*y*p-u*s*v+a*d*v,A=g*d*l-u*y*l-g*s*f+a*y*f+u*s*x-a*d*x,M=n*b+r*_+i*S+o*A;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/M;return e[0]=b*P,e[1]=(y*f*o-d*x*o-y*i*p+r*x*p+d*i*v-r*f*v)*P,e[2]=(s*x*o-y*l*o+y*i*c-r*x*c-s*i*v+r*l*v)*P,e[3]=(d*l*o-s*f*o-d*i*c+r*f*c+s*i*p-r*l*p)*P,e[4]=_*P,e[5]=(u*x*o-g*f*o+g*i*p-n*x*p-u*i*v+n*f*v)*P,e[6]=(g*l*o-a*x*o-g*i*c+n*x*c+a*i*v-n*l*v)*P,e[7]=(a*f*o-u*l*o+u*i*c-n*f*c-a*i*p+n*l*p)*P,e[8]=S*P,e[9]=(g*d*o-u*y*o-g*r*p+n*y*p+u*r*v-n*d*v)*P,e[10]=(a*y*o-g*s*o+g*r*c-n*y*c-a*r*v+n*s*v)*P,e[11]=(u*s*o-a*d*o-u*r*c+n*d*c+a*r*p-n*s*p)*P,e[12]=A*P,e[13]=(u*y*i-g*d*i+g*r*f-n*y*f-u*r*x+n*d*x)*P,e[14]=(g*s*i-a*y*i-g*r*l+n*y*l+a*r*x-n*s*x)*P,e[15]=(a*d*i-u*s*i+u*r*l-n*d*l-a*r*f+n*s*f)*P,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,u=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,u*s+r,u*l-i*a,0,c*l-i*s,u*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,u=a+a,d=s+s,f=o*c,p=o*u,g=o*d,y=a*u,x=a*d,v=s*d,b=l*c,_=l*u,S=l*d,A=r.x,M=r.y,P=r.z;return i[0]=(1-(y+v))*A,i[1]=(p+S)*A,i[2]=(g-_)*A,i[3]=0,i[4]=(p-S)*M,i[5]=(1-(f+v))*M,i[6]=(x+b)*M,i[7]=0,i[8]=(g+_)*P,i[9]=(x-b)*P,i[10]=(1-(f+y))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=df.set(i[0],i[1],i[2]).length();const a=df.set(i[4],i[5],i[6]).length(),s=df.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],pa.copy(this);const c=1/o,u=1/a,d=1/s;return pa.elements[0]*=c,pa.elements[1]*=c,pa.elements[2]*=c,pa.elements[4]*=u,pa.elements[5]*=u,pa.elements[6]*=u,pa.elements[8]*=d,pa.elements[9]*=d,pa.elements[10]*=d,n.setFromRotationMatrix(pa),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=Na){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let p,g;if(s===Na)p=-(a+o)/(a-o),g=-2*a*o/(a-o);else if(s===qh)p=-a/(a-o),g=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=Na){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(a-o),f=(n+e)*c,p=(r+i)*u;let g,y;if(s===Na)g=(a+o)*d,y=-2*d;else if(s===qh)g=o*d,y=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=y,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const df=new J,pa=new At,gde=new J(0,0,0),vde=new J(1,1,1),Fl=new J,jx=new J,ao=new J,Lj=new At,Dj=new Yi;class Dy{constructor(e=0,n=0,r=0,i=Dy.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(qn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-qn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(qn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-qn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return Lj.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Lj,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Dj.setFromEuler(this),this.setFromQuaternion(Dj,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Dy.DEFAULT_ORDER="XYZ";class rd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let yde=0;const jj=new J,ff=new Yi,Ds=new At,Ux=new J,Dm=new J,xde=new J,bde=new Yi,Uj=new J(1,0,0),Fj=new J(0,1,0),Bj=new J(0,0,1),_de={type:"added"},wde={type:"removed"};class en extends xl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:yde++}),this.uuid=Eo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=en.DEFAULT_UP.clone();const e=new J,n=new Dy,r=new Yi,i=new J(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new At},normalMatrix:{value:new zt}}),this.matrix=new At,this.matrixWorld=new At,this.matrixAutoUpdate=en.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new rd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ff.setFromAxisAngle(e,n),this.quaternion.multiply(ff),this}rotateOnWorldAxis(e,n){return ff.setFromAxisAngle(e,n),this.quaternion.premultiply(ff),this}rotateX(e){return this.rotateOnAxis(Uj,e)}rotateY(e){return this.rotateOnAxis(Fj,e)}rotateZ(e){return this.rotateOnAxis(Bj,e)}translateOnAxis(e,n){return jj.copy(e).applyQuaternion(this.quaternion),this.position.add(jj.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Uj,e)}translateY(e){return this.translateOnAxis(Fj,e)}translateZ(e){return this.translateOnAxis(Bj,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ds.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Ux.copy(e):Ux.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Dm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ds.lookAt(Dm,Ux,this.up):Ds.lookAt(Ux,Dm,this.up),this.quaternion.setFromRotationMatrix(Ds),i&&(Ds.extractRotation(i.matrixWorld),ff.setFromRotationMatrix(Ds),this.quaternion.premultiply(ff.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_de)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(wde)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ds.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ds.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ds),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dm,e,xde),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dm,bde,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++){const s=i[o];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),d=a(e.shapes),f=a(e.skeletons),p=a(e.animations),g=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=i,r;function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}en.DEFAULT_UP=new J(0,1,0);en.DEFAULT_MATRIX_AUTO_UPDATE=!0;en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ma=new J,js=new J,BT=new J,Us=new J,hf=new J,pf=new J,zj=new J,zT=new J,$T=new J,HT=new J;let Fx=!1;class $i{constructor(e=new J,n=new J,r=new J){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ma.subVectors(e,n),i.cross(ma);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){ma.subVectors(i,n),js.subVectors(r,n),BT.subVectors(e,n);const a=ma.dot(ma),s=ma.dot(js),l=ma.dot(BT),c=js.dot(js),u=js.dot(BT),d=a*c-s*s;if(d===0)return o.set(0,0,0),null;const f=1/d,p=(c*l-s*u)*f,g=(a*u-s*l)*f;return o.set(1-p-g,g,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Us)===null?!1:Us.x>=0&&Us.y>=0&&Us.x+Us.y<=1}static getUV(e,n,r,i,o,a,s,l){return Fx===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Fx=!0),this.getInterpolation(e,n,r,i,o,a,s,l)}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,Us)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Us.x),l.addScaledVector(a,Us.y),l.addScaledVector(s,Us.z),l)}static isFrontFacing(e,n,r,i){return ma.subVectors(r,n),js.subVectors(e,n),ma.cross(js).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ma.subVectors(this.c,this.b),js.subVectors(this.a,this.b),ma.cross(js).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return $i.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return $i.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return Fx===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Fx=!0),$i.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return $i.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return $i.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return $i.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;hf.subVectors(i,r),pf.subVectors(o,r),zT.subVectors(e,r);const l=hf.dot(zT),c=pf.dot(zT);if(l<=0&&c<=0)return n.copy(r);$T.subVectors(e,i);const u=hf.dot($T),d=pf.dot($T);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector(hf,a);HT.subVectors(e,o);const p=hf.dot(HT),g=pf.dot(HT);if(g>=0&&p<=g)return n.copy(o);const y=p*c-l*g;if(y<=0&&c>=0&&g<=0)return s=c/(c-g),n.copy(r).addScaledVector(pf,s);const x=u*g-p*d;if(x<=0&&d-u>=0&&p-g>=0)return zj.subVectors(o,i),s=(d-u)/(d-u+(p-g)),n.copy(i).addScaledVector(zj,s);const v=1/(x+y+f);return a=y*v,s=f*v,n.copy(r).addScaledVector(hf,a).addScaledVector(pf,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const s9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bl={h:0,s:0,l:0},Bx={h:0,s:0,l:0};function VT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let qe=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=gr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,sn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=sn.workingColorSpace){return this.r=e,this.g=n,this.b=r,sn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=sn.workingColorSpace){if(e=KN(e,1),n=qn(n,0,1),r=qn(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=VT(a,o,e+1/3),this.g=VT(a,o,e),this.b=VT(a,o,e-1/3)}return sn.toWorkingColorSpace(this,i),this}setStyle(e,n=gr){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=gr){const r=s9[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=_h(e.r),this.g=_h(e.g),this.b=_h(e.b),this}copyLinearToSRGB(e){return this.r=NT(e.r),this.g=NT(e.g),this.b=NT(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=gr){return sn.fromWorkingColorSpace(ei.copy(this),e),Math.round(qn(ei.r*255,0,255))*65536+Math.round(qn(ei.g*255,0,255))*256+Math.round(qn(ei.b*255,0,255))}getHexString(e=gr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=sn.workingColorSpace){sn.fromWorkingColorSpace(ei.copy(this),n);const r=ei.r,i=ei.g,o=ei.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const u=(s+a)/2;if(s===a)l=0,c=0;else{const d=a-s;switch(c=u<=.5?d/(a+s):d/(2-a-s),a){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=sn.workingColorSpace){return sn.fromWorkingColorSpace(ei.copy(this),n),e.r=ei.r,e.g=ei.g,e.b=ei.b,e}getStyle(e=gr){sn.fromWorkingColorSpace(ei.copy(this),e);const n=ei.r,r=ei.g,i=ei.b;return e!==gr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Bl),this.setHSL(Bl.h+e,Bl.s+n,Bl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Bl),e.getHSL(Bx);const r=Tg(Bl.h,Bx.h,n),i=Tg(Bl.s,Bx.s,n),o=Tg(Bl.l,Bx.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ei=new qe;qe.NAMES=s9;let Sde=0;class fi extends xl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Sde++}),this.uuid=Eo(),this.name="",this.type="Material",this.blending=td,this.side=fl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ow,this.blendDst=aw,this.blendEquation=Zl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new qe(0,0,0),this.blendAlpha=0,this.depthFunc=fv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Tu,this.stencilZFail=Tu,this.stencilZPass=Tu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==td&&(r.blending=this.blending),this.side!==fl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==ow&&(r.blendSrc=this.blendSrc),this.blendDst!==aw&&(r.blendDst=this.blendDst),this.blendEquation!==Zl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==fv&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==tO&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Tu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Tu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Tu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Hc extends fi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ky,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Gs=Ede();function Ede(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function Bi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=qn(t,-65504,65504),Gs.floatView[0]=t;const e=Gs.uint32View[0],n=e>>23&511;return Gs.baseTable[n]+((e&8388607)>>Gs.shiftTable[n])}function ug(t){const e=t>>10;return Gs.uint32View[0]=Gs.mantissaTable[Gs.offsetTable[e]+(t&1023)]+Gs.exponentTable[e],Gs.floatView[0]}const Ade={toHalfFloat:Bi,fromHalfFloat:ug},or=new J,zx=new Me;class un{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Sv,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Ra,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)zx.fromBufferAttribute(this,n),zx.applyMatrix3(e),this.setXY(n,zx.x,zx.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)or.fromBufferAttribute(this,n),or.applyMatrix3(e),this.setXYZ(n,or.x,or.y,or.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)or.fromBufferAttribute(this,n),or.applyMatrix4(e),this.setXYZ(n,or.x,or.y,or.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)or.fromBufferAttribute(this,n),or.applyNormalMatrix(e),this.setXYZ(n,or.x,or.y,or.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)or.fromBufferAttribute(this,n),or.transformDirection(e),this.setXYZ(n,or.x,or.y,or.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Hi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ut(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Hi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Hi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Hi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Hi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array),o=Ut(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Sv&&(e.usage=this.usage),e}}class Tde extends un{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Mde extends un{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Pde extends un{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Cde extends un{constructor(e,n,r){super(new Int16Array(e),n,r)}}class ZN extends un{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Ode extends un{constructor(e,n,r){super(new Int32Array(e),n,r)}}class QN extends un{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Rde extends un{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=ug(this.array[e*this.itemSize]);return this.normalized&&(n=Hi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize]=Bi(n),this}getY(e){let n=ug(this.array[e*this.itemSize+1]);return this.normalized&&(n=Hi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+1]=Bi(n),this}getZ(e){let n=ug(this.array[e*this.itemSize+2]);return this.normalized&&(n=Hi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+2]=Bi(n),this}getW(e){let n=ug(this.array[e*this.itemSize+3]);return this.normalized&&(n=Hi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+3]=Bi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array)),this.array[e+0]=Bi(n),this.array[e+1]=Bi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array)),this.array[e+0]=Bi(n),this.array[e+1]=Bi(r),this.array[e+2]=Bi(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array),o=Ut(o,this.array)),this.array[e+0]=Bi(n),this.array[e+1]=Bi(r),this.array[e+2]=Bi(i),this.array[e+3]=Bi(o),this}}class nt extends un{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Nde extends un{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Ide=0;const zo=new At,WT=new en,mf=new J,so=new Oi,jm=new Oi,Or=new J;class $t extends xl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ide++}),this.uuid=Eo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(i9(e)?QN:ZN)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new zt().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return zo.makeRotationFromQuaternion(e),this.applyMatrix4(zo),this}rotateX(e){return zo.makeRotationX(e),this.applyMatrix4(zo),this}rotateY(e){return zo.makeRotationY(e),this.applyMatrix4(zo),this}rotateZ(e){return zo.makeRotationZ(e),this.applyMatrix4(zo),this}translate(e,n,r){return zo.makeTranslation(e,n,r),this.applyMatrix4(zo),this}scale(e,n,r){return zo.makeScale(e,n,r),this.applyMatrix4(zo),this}lookAt(e){return WT.lookAt(e),WT.updateMatrix(),this.applyMatrix4(WT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(mf).negate(),this.translate(mf.x,mf.y,mf.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new nt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Oi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];so.setFromBufferAttribute(o),this.morphTargetsRelative?(Or.addVectors(this.boundingBox.min,so.min),this.boundingBox.expandByPoint(Or),Or.addVectors(this.boundingBox.max,so.max),this.boundingBox.expandByPoint(Or)):(this.boundingBox.expandByPoint(so.min),this.boundingBox.expandByPoint(so.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new li);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new J,1/0);return}if(e){const r=this.boundingSphere.center;if(so.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];jm.setFromBufferAttribute(s),this.morphTargetsRelative?(Or.addVectors(so.min,jm.min),so.expandByPoint(Or),Or.addVectors(so.max,jm.max),so.expandByPoint(Or)):(so.expandByPoint(jm.min),so.expandByPoint(jm.max))}so.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)Or.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Or));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)Or.fromBufferAttribute(s,c),l&&(mf.fromBufferAttribute(e,c),Or.add(mf)),i=Math.max(i,r.distanceToSquared(Or))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,a=n.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new un(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let I=0;I<s;I++)c[I]=new J,u[I]=new J;const d=new J,f=new J,p=new J,g=new Me,y=new Me,x=new Me,v=new J,b=new J;function _(I,D,U){d.fromArray(i,I*3),f.fromArray(i,D*3),p.fromArray(i,U*3),g.fromArray(a,I*2),y.fromArray(a,D*2),x.fromArray(a,U*2),f.sub(d),p.sub(d),y.sub(g),x.sub(g);const X=1/(y.x*x.y-x.x*y.y);isFinite(X)&&(v.copy(f).multiplyScalar(x.y).addScaledVector(p,-y.y).multiplyScalar(X),b.copy(p).multiplyScalar(y.x).addScaledVector(f,-x.x).multiplyScalar(X),c[I].add(v),c[D].add(v),c[U].add(v),u[I].add(b),u[D].add(b),u[U].add(b))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let I=0,D=S.length;I<D;++I){const U=S[I],X=U.start,j=U.count;for(let W=X,H=X+j;W<H;W+=3)_(r[W+0],r[W+1],r[W+2])}const A=new J,M=new J,P=new J,N=new J;function R(I){P.fromArray(o,I*3),N.copy(P);const D=c[I];A.copy(D),A.sub(P.multiplyScalar(P.dot(D))).normalize(),M.crossVectors(N,D);const X=M.dot(u[I])<0?-1:1;l[I*4]=A.x,l[I*4+1]=A.y,l[I*4+2]=A.z,l[I*4+3]=X}for(let I=0,D=S.length;I<D;++I){const U=S[I],X=U.start,j=U.count;for(let W=X,H=X+j;W<H;W+=3)R(r[W+0]),R(r[W+1]),R(r[W+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new un(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,p=r.count;f<p;f++)r.setXYZ(f,0,0,0);const i=new J,o=new J,a=new J,s=new J,l=new J,c=new J,u=new J,d=new J;if(e)for(let f=0,p=e.count;f<p;f+=3){const g=e.getX(f+0),y=e.getX(f+1),x=e.getX(f+2);i.fromBufferAttribute(n,g),o.fromBufferAttribute(n,y),a.fromBufferAttribute(n,x),u.subVectors(a,o),d.subVectors(i,o),u.cross(d),s.fromBufferAttribute(r,g),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,x),s.add(u),l.add(u),c.add(u),r.setXYZ(g,s.x,s.y,s.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let f=0,p=n.count;f<p;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),u.subVectors(a,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Or.fromBufferAttribute(e,n),Or.normalize(),e.setXYZ(n,Or.x,Or.y,Or.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,d=s.normalized,f=new c.constructor(l.length*u);let p=0,g=0;for(let y=0,x=l.length;y<x;y++){s.isInterleavedBufferAttribute?p=l[y]*s.data.stride+s.offset:p=l[y]*u;for(let v=0;v<u;v++)f[g++]=c[p++]}return new un(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new $t,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let u=0,d=c.length;u<d;u++){const f=c[u],p=e(f,r);l.push(p)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const p=c[d];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,p=d.length;f<p;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const $j=new At,du=new Lp,$x=new li,Hj=new J,gf=new J,vf=new J,yf=new J,GT=new J,Hx=new J,Vx=new Me,Wx=new Me,Gx=new Me,Vj=new J,Wj=new J,Gj=new J,qx=new J,Xx=new J;class xr extends en{constructor(e=new $t,n=new Hc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){Hx.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=s[l],d=o[l];u!==0&&(GT.fromBufferAttribute(d,e),a?Hx.addScaledVector(GT,u):Hx.addScaledVector(GT.sub(n),u))}n.add(Hx)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),$x.copy(r.boundingSphere),$x.applyMatrix4(o),du.copy(e.ray).recast(e.near),!($x.containsPoint(du.origin)===!1&&(du.intersectSphere($x,Hj)===null||du.origin.distanceToSquared(Hj)>(e.far-e.near)**2))&&($j.copy(o).invert(),du.copy(e.ray).applyMatrix4($j),!(r.boundingBox!==null&&du.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,du)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,p=o.drawRange;if(s!==null)if(Array.isArray(a))for(let g=0,y=f.length;g<y;g++){const x=f[g],v=a[x.materialIndex],b=Math.max(x.start,p.start),_=Math.min(s.count,Math.min(x.start+x.count,p.start+p.count));for(let S=b,A=_;S<A;S+=3){const M=s.getX(S),P=s.getX(S+1),N=s.getX(S+2);i=Kx(this,v,e,r,c,u,d,M,P,N),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,p.start),y=Math.min(s.count,p.start+p.count);for(let x=g,v=y;x<v;x+=3){const b=s.getX(x),_=s.getX(x+1),S=s.getX(x+2);i=Kx(this,a,e,r,c,u,d,b,_,S),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let g=0,y=f.length;g<y;g++){const x=f[g],v=a[x.materialIndex],b=Math.max(x.start,p.start),_=Math.min(l.count,Math.min(x.start+x.count,p.start+p.count));for(let S=b,A=_;S<A;S+=3){const M=S,P=S+1,N=S+2;i=Kx(this,v,e,r,c,u,d,M,P,N),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let x=g,v=y;x<v;x+=3){const b=x,_=x+1,S=x+2;i=Kx(this,a,e,r,c,u,d,b,_,S),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function kde(t,e,n,r,i,o,a,s){let l;if(e.side===Ci?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===fl,s),l===null)return null;Xx.copy(s),Xx.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Xx);return c<n.near||c>n.far?null:{distance:c,point:Xx.clone(),object:t}}function Kx(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,gf),t.getVertexPosition(l,vf),t.getVertexPosition(c,yf);const u=kde(t,e,n,r,gf,vf,yf,qx);if(u){i&&(Vx.fromBufferAttribute(i,s),Wx.fromBufferAttribute(i,l),Gx.fromBufferAttribute(i,c),u.uv=$i.getInterpolation(qx,gf,vf,yf,Vx,Wx,Gx,new Me)),o&&(Vx.fromBufferAttribute(o,s),Wx.fromBufferAttribute(o,l),Gx.fromBufferAttribute(o,c),u.uv1=$i.getInterpolation(qx,gf,vf,yf,Vx,Wx,Gx,new Me),u.uv2=u.uv1),a&&(Vj.fromBufferAttribute(a,s),Wj.fromBufferAttribute(a,l),Gj.fromBufferAttribute(a,c),u.normal=$i.getInterpolation(qx,gf,vf,yf,Vj,Wj,Gj,new J),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a:s,b:l,c,normal:new J,materialIndex:0};$i.getNormal(gf,vf,yf,d.normal),u.face=d}return u}class Id extends $t{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],u=[],d=[];let f=0,p=0;g("z","y","x",-1,-1,r,n,e,a,o,0),g("z","y","x",1,-1,r,n,-e,a,o,1),g("x","z","y",1,1,e,r,n,i,a,2),g("x","z","y",1,-1,e,r,-n,i,a,3),g("x","y","z",1,-1,e,n,r,i,o,4),g("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new nt(c,3)),this.setAttribute("normal",new nt(u,3)),this.setAttribute("uv",new nt(d,2));function g(y,x,v,b,_,S,A,M,P,N,R){const I=S/P,D=A/N,U=S/2,X=A/2,j=M/2,W=P+1,H=N+1;let Y=0,k=0;const F=new J;for(let $=0;$<H;$++){const q=$*D-X;for(let Z=0;Z<W;Z++){const ee=Z*I-U;F[y]=ee*b,F[x]=q*_,F[v]=j,c.push(F.x,F.y,F.z),F[y]=0,F[x]=0,F[v]=M>0?1:-1,u.push(F.x,F.y,F.z),d.push(Z/P),d.push(1-$/N),Y+=1}}for(let $=0;$<N;$++)for(let q=0;q<P;q++){const Z=f+q+W*$,ee=f+q+W*($+1),ne=f+(q+1)+W*($+1),ye=f+(q+1)+W*$;l.push(Z,ee,ye),l.push(ee,ne,ye),k+=6}s.addGroup(p,k,R),p+=k,f+=Y}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Id(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Kh(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function yi(t){const e={};for(let n=0;n<t.length;n++){const r=Kh(t[n]);for(const i in r)e[i]=r[i]}return e}function Lde(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function l9(t){return t.getRenderTarget()===null?t.outputColorSpace:sn.workingColorSpace}const c9={clone:Kh,merge:yi};var Dde=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,jde=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class bs extends fi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Dde,this.fragmentShader=jde,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Kh(e.uniforms),this.uniformsGroups=Lde(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class jy extends en{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new At,this.projectionMatrix=new At,this.projectionMatrixInverse=new At,this.coordinateSystem=Na}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ir extends jy{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Xh*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(nd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Xh*2*Math.atan(Math.tan(nd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(nd*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const xf=-90,bf=1;class u9 extends en{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ir(xf,bf,e,n);i.layers=this.layers,this.add(i);const o=new Ir(xf,bf,e,n);o.layers=this.layers,this.add(o);const a=new Ir(xf,bf,e,n);a.layers=this.layers,this.add(a);const s=new Ir(xf,bf,e,n);s.layers=this.layers,this.add(s);const l=new Ir(xf,bf,e,n);l.layers=this.layers,this.add(l);const c=new Ir(xf,bf,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===Na)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===qh)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,p),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class Uy extends nr{constructor(e,n,r,i,o,a,s,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:hl,super(e,n,r,i,o,a,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class d9 extends Fa{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Mg("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===wc?gr:vo),this.texture=new Uy(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:tr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Id(5,5,5),o=new bs({name:"CubemapFromEquirect",uniforms:Kh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ci,blending:nl});o.uniforms.tEquirect.value=n;const a=new xr(i,o),s=n.minFilter;return n.minFilter===kc&&(n.minFilter=tr),new u9(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const qT=new J,Ude=new J,Fde=new zt;class Xl{constructor(e=new J(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=qT.subVectors(r,n).cross(Ude.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(qT),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Fde.getNormalMatrix(e),i=this.coplanarPoint(qT).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const fu=new li,Yx=new J;class Fy{constructor(e=new Xl,n=new Xl,r=new Xl,i=new Xl,o=new Xl,a=new Xl){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Na){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],p=i[8],g=i[9],y=i[10],x=i[11],v=i[12],b=i[13],_=i[14],S=i[15];if(r[0].setComponents(l-o,f-c,x-p,S-v).normalize(),r[1].setComponents(l+o,f+c,x+p,S+v).normalize(),r[2].setComponents(l+a,f+u,x+g,S+b).normalize(),r[3].setComponents(l-a,f-u,x-g,S-b).normalize(),r[4].setComponents(l-s,f-d,x-y,S-_).normalize(),n===Na)r[5].setComponents(l+s,f+d,x+y,S+_).normalize();else if(n===qh)r[5].setComponents(s,d,y,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),fu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),fu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(fu)}intersectsSprite(e){return fu.center.set(0,0,0),fu.radius=.7071067811865476,fu.applyMatrix4(e.matrixWorld),this.intersectsSphere(fu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Yx.x=i.normal.x>0?e.max.x:e.min.x,Yx.y=i.normal.y>0?e.max.y:e.min.y,Yx.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Yx)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function f9(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function Bde(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,f=c.usage,p=d.byteLength,g=t.createBuffer();t.bindBuffer(u,g),t.bufferData(u,d,f),c.onUploadCallback();let y;if(d instanceof Float32Array)y=t.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)y=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=t.SHORT;else if(d instanceof Uint32Array)y=t.UNSIGNED_INT;else if(d instanceof Int32Array)y=t.INT;else if(d instanceof Int8Array)y=t.BYTE;else if(d instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:g,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version,size:p}}function o(c,u,d){const f=u.array,p=u._updateRange,g=u.updateRanges;if(t.bindBuffer(d,c),p.count===-1&&g.length===0&&t.bufferSubData(d,0,f),g.length!==0){for(let y=0,x=g.length;y<x;y++){const v=g[y];n?t.bufferSubData(d,v.start*f.BYTES_PER_ELEMENT,f,v.start,v.count):t.bufferSubData(d,v.start*f.BYTES_PER_ELEMENT,f.subarray(v.start,v.start+v.count))}u.clearUpdateRanges()}p.count!==-1&&(n?t.bufferSubData(d,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count):t.bufferSubData(d,p.offset*f.BYTES_PER_ELEMENT,f.subarray(p.offset,p.offset+p.count)),p.count=-1),u.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);if(d===void 0)r.set(c,i(c,u));else if(d.version<c.version){if(d.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(d.buffer,c,u),d.version=c.version}}return{get:a,remove:s,update:l}}class By extends $t{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,u=l+1,d=e/s,f=n/l,p=[],g=[],y=[],x=[];for(let v=0;v<u;v++){const b=v*f-a;for(let _=0;_<c;_++){const S=_*d-o;g.push(S,-b,0),y.push(0,0,1),x.push(_/s),x.push(1-v/l)}}for(let v=0;v<l;v++)for(let b=0;b<s;b++){const _=b+c*v,S=b+c*(v+1),A=b+1+c*(v+1),M=b+1+c*v;p.push(_,S,M),p.push(S,A,M)}this.setIndex(p),this.setAttribute("position",new nt(g,3)),this.setAttribute("normal",new nt(y,3)),this.setAttribute("uv",new nt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new By(e.width,e.height,e.widthSegments,e.heightSegments)}}var zde=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,$de=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Hde=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Vde=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Wde=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Gde=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qde=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Xde=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Kde=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Yde=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Jde=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Zde=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Qde=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,efe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,tfe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,nfe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,rfe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ife=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ofe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,afe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,sfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,lfe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,cfe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,ufe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,dfe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ffe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,hfe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,pfe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,mfe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,gfe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,vfe="gl_FragColor = linearToOutputTexel( gl_FragColor );",yfe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,xfe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,bfe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_fe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wfe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Sfe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Efe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Afe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Tfe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Mfe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Pfe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Cfe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Ofe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Rfe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Nfe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Ife=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,kfe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Lfe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Dfe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,jfe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Ufe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ffe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Bfe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zfe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$fe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Hfe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Vfe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Wfe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Gfe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,qfe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Xfe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Kfe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Yfe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Jfe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zfe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Qfe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ehe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,the=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,nhe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,rhe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,ihe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ohe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ahe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,she=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lhe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,che=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,uhe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,dhe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,fhe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,hhe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,phe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,mhe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,ghe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vhe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yhe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,xhe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bhe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_he=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,whe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,She=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ehe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ahe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,The=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Mhe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Phe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Che=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ohe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Rhe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Nhe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Ihe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,khe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Lhe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Dhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,jhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Uhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Fhe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Bhe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zhe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$he=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Hhe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Vhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Whe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ghe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qhe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Xhe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Khe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Yhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Jhe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Zhe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Qhe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,epe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,tpe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,npe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rpe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ipe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ope=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ape=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,spe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,lpe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cpe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,upe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,dpe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fpe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hpe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ppe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,mpe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gpe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vpe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ype=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xpe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,jt={alphahash_fragment:zde,alphahash_pars_fragment:$de,alphamap_fragment:Hde,alphamap_pars_fragment:Vde,alphatest_fragment:Wde,alphatest_pars_fragment:Gde,aomap_fragment:qde,aomap_pars_fragment:Xde,batching_pars_vertex:Kde,batching_vertex:Yde,begin_vertex:Jde,beginnormal_vertex:Zde,bsdfs:Qde,iridescence_fragment:efe,bumpmap_pars_fragment:tfe,clipping_planes_fragment:nfe,clipping_planes_pars_fragment:rfe,clipping_planes_pars_vertex:ife,clipping_planes_vertex:ofe,color_fragment:afe,color_pars_fragment:sfe,color_pars_vertex:lfe,color_vertex:cfe,common:ufe,cube_uv_reflection_fragment:dfe,defaultnormal_vertex:ffe,displacementmap_pars_vertex:hfe,displacementmap_vertex:pfe,emissivemap_fragment:mfe,emissivemap_pars_fragment:gfe,colorspace_fragment:vfe,colorspace_pars_fragment:yfe,envmap_fragment:xfe,envmap_common_pars_fragment:bfe,envmap_pars_fragment:_fe,envmap_pars_vertex:wfe,envmap_physical_pars_fragment:kfe,envmap_vertex:Sfe,fog_vertex:Efe,fog_pars_vertex:Afe,fog_fragment:Tfe,fog_pars_fragment:Mfe,gradientmap_pars_fragment:Pfe,lightmap_fragment:Cfe,lightmap_pars_fragment:Ofe,lights_lambert_fragment:Rfe,lights_lambert_pars_fragment:Nfe,lights_pars_begin:Ife,lights_toon_fragment:Lfe,lights_toon_pars_fragment:Dfe,lights_phong_fragment:jfe,lights_phong_pars_fragment:Ufe,lights_physical_fragment:Ffe,lights_physical_pars_fragment:Bfe,lights_fragment_begin:zfe,lights_fragment_maps:$fe,lights_fragment_end:Hfe,logdepthbuf_fragment:Vfe,logdepthbuf_pars_fragment:Wfe,logdepthbuf_pars_vertex:Gfe,logdepthbuf_vertex:qfe,map_fragment:Xfe,map_pars_fragment:Kfe,map_particle_fragment:Yfe,map_particle_pars_fragment:Jfe,metalnessmap_fragment:Zfe,metalnessmap_pars_fragment:Qfe,morphcolor_vertex:ehe,morphnormal_vertex:the,morphtarget_pars_vertex:nhe,morphtarget_vertex:rhe,normal_fragment_begin:ihe,normal_fragment_maps:ohe,normal_pars_fragment:ahe,normal_pars_vertex:she,normal_vertex:lhe,normalmap_pars_fragment:che,clearcoat_normal_fragment_begin:uhe,clearcoat_normal_fragment_maps:dhe,clearcoat_pars_fragment:fhe,iridescence_pars_fragment:hhe,opaque_fragment:phe,packing:mhe,premultiplied_alpha_fragment:ghe,project_vertex:vhe,dithering_fragment:yhe,dithering_pars_fragment:xhe,roughnessmap_fragment:bhe,roughnessmap_pars_fragment:_he,shadowmap_pars_fragment:whe,shadowmap_pars_vertex:She,shadowmap_vertex:Ehe,shadowmask_pars_fragment:Ahe,skinbase_vertex:The,skinning_pars_vertex:Mhe,skinning_vertex:Phe,skinnormal_vertex:Che,specularmap_fragment:Ohe,specularmap_pars_fragment:Rhe,tonemapping_fragment:Nhe,tonemapping_pars_fragment:Ihe,transmission_fragment:khe,transmission_pars_fragment:Lhe,uv_pars_fragment:Dhe,uv_pars_vertex:jhe,uv_vertex:Uhe,worldpos_vertex:Fhe,background_vert:Bhe,background_frag:zhe,backgroundCube_vert:$he,backgroundCube_frag:Hhe,cube_vert:Vhe,cube_frag:Whe,depth_vert:Ghe,depth_frag:qhe,distanceRGBA_vert:Xhe,distanceRGBA_frag:Khe,equirect_vert:Yhe,equirect_frag:Jhe,linedashed_vert:Zhe,linedashed_frag:Qhe,meshbasic_vert:epe,meshbasic_frag:tpe,meshlambert_vert:npe,meshlambert_frag:rpe,meshmatcap_vert:ipe,meshmatcap_frag:ope,meshnormal_vert:ape,meshnormal_frag:spe,meshphong_vert:lpe,meshphong_frag:cpe,meshphysical_vert:upe,meshphysical_frag:dpe,meshtoon_vert:fpe,meshtoon_frag:hpe,points_vert:ppe,points_frag:mpe,shadow_vert:gpe,shadow_frag:vpe,sprite_vert:ype,sprite_frag:xpe},Fe={common:{diffuse:{value:new qe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new zt},alphaMap:{value:null},alphaMapTransform:{value:new zt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new zt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new zt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new zt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new zt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new zt},normalScale:{value:new Me(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new zt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new zt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new zt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new zt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new zt},alphaTest:{value:0},uvTransform:{value:new zt}},sprite:{diffuse:{value:new qe(16777215)},opacity:{value:1},center:{value:new Me(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new zt},alphaMap:{value:null},alphaMapTransform:{value:new zt},alphaTest:{value:0}}},Ca={basic:{uniforms:yi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:jt.meshbasic_vert,fragmentShader:jt.meshbasic_frag},lambert:{uniforms:yi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new qe(0)}}]),vertexShader:jt.meshlambert_vert,fragmentShader:jt.meshlambert_frag},phong:{uniforms:yi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new qe(0)},specular:{value:new qe(1118481)},shininess:{value:30}}]),vertexShader:jt.meshphong_vert,fragmentShader:jt.meshphong_frag},standard:{uniforms:yi([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new qe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jt.meshphysical_vert,fragmentShader:jt.meshphysical_frag},toon:{uniforms:yi([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new qe(0)}}]),vertexShader:jt.meshtoon_vert,fragmentShader:jt.meshtoon_frag},matcap:{uniforms:yi([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:jt.meshmatcap_vert,fragmentShader:jt.meshmatcap_frag},points:{uniforms:yi([Fe.points,Fe.fog]),vertexShader:jt.points_vert,fragmentShader:jt.points_frag},dashed:{uniforms:yi([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jt.linedashed_vert,fragmentShader:jt.linedashed_frag},depth:{uniforms:yi([Fe.common,Fe.displacementmap]),vertexShader:jt.depth_vert,fragmentShader:jt.depth_frag},normal:{uniforms:yi([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:jt.meshnormal_vert,fragmentShader:jt.meshnormal_frag},sprite:{uniforms:yi([Fe.sprite,Fe.fog]),vertexShader:jt.sprite_vert,fragmentShader:jt.sprite_frag},background:{uniforms:{uvTransform:{value:new zt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:jt.background_vert,fragmentShader:jt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:jt.backgroundCube_vert,fragmentShader:jt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jt.cube_vert,fragmentShader:jt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jt.equirect_vert,fragmentShader:jt.equirect_frag},distanceRGBA:{uniforms:yi([Fe.common,Fe.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jt.distanceRGBA_vert,fragmentShader:jt.distanceRGBA_frag},shadow:{uniforms:yi([Fe.lights,Fe.fog,{color:{value:new qe(0)},opacity:{value:1}}]),vertexShader:jt.shadow_vert,fragmentShader:jt.shadow_frag}};Ca.physical={uniforms:yi([Ca.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new zt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new zt},clearcoatNormalScale:{value:new Me(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new zt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new zt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new zt},sheen:{value:0},sheenColor:{value:new qe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new zt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new zt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new zt},transmissionSamplerSize:{value:new Me},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new zt},attenuationDistance:{value:0},attenuationColor:{value:new qe(0)},specularColor:{value:new qe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new zt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new zt},anisotropyVector:{value:new Me},anisotropyMap:{value:null},anisotropyMapTransform:{value:new zt}}]),vertexShader:jt.meshphysical_vert,fragmentShader:jt.meshphysical_frag};const Jx={r:0,b:0,g:0};function bpe(t,e,n,r,i,o,a){const s=new qe(0);let l=o===!0?0:1,c,u,d=null,f=0,p=null;function g(x,v){let b=!1,_=v.isScene===!0?v.background:null;_&&_.isTexture&&(_=(v.backgroundBlurriness>0?n:e).get(_)),_===null?y(s,l):_&&_.isColor&&(y(_,1),b=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,a):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||b)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===kp)?(u===void 0&&(u=new xr(new Id(1,1,1),new bs({name:"BackgroundCubeMaterial",uniforms:Kh(Ca.backgroundCube.uniforms),vertexShader:Ca.backgroundCube.vertexShader,fragmentShader:Ca.backgroundCube.fragmentShader,side:Ci,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(A,M,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=sn.getTransfer(_.colorSpace)!==yn,(d!==_||f!==_.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,d=_,f=_.version,p=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new xr(new By(2,2),new bs({name:"BackgroundMaterial",uniforms:Kh(Ca.background.uniforms),vertexShader:Ca.background.vertexShader,fragmentShader:Ca.background.fragmentShader,side:fl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=sn.getTransfer(_.colorSpace)!==yn,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(d!==_||f!==_.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,d=_,f=_.version,p=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function y(x,v){x.getRGB(Jx,l9(t)),r.buffers.color.setClear(Jx.r,Jx.g,Jx.b,v,a)}return{getClearColor:function(){return s},setClearColor:function(x,v=1){s.set(x),l=v,y(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,y(s,l)},render:g}}function _pe(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},l=x(null);let c=l,u=!1;function d(j,W,H,Y,k){let F=!1;if(a){const $=y(Y,H,W);c!==$&&(c=$,p(c.object)),F=v(j,Y,H,k),F&&b(j,Y,H,k)}else{const $=W.wireframe===!0;(c.geometry!==Y.id||c.program!==H.id||c.wireframe!==$)&&(c.geometry=Y.id,c.program=H.id,c.wireframe=$,F=!0)}k!==null&&n.update(k,t.ELEMENT_ARRAY_BUFFER),(F||u)&&(u=!1,N(j,W,H,Y),k!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(k).buffer))}function f(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function p(j){return r.isWebGL2?t.bindVertexArray(j):o.bindVertexArrayOES(j)}function g(j){return r.isWebGL2?t.deleteVertexArray(j):o.deleteVertexArrayOES(j)}function y(j,W,H){const Y=H.wireframe===!0;let k=s[j.id];k===void 0&&(k={},s[j.id]=k);let F=k[W.id];F===void 0&&(F={},k[W.id]=F);let $=F[Y];return $===void 0&&($=x(f()),F[Y]=$),$}function x(j){const W=[],H=[],Y=[];for(let k=0;k<i;k++)W[k]=0,H[k]=0,Y[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:H,attributeDivisors:Y,object:j,attributes:{},index:null}}function v(j,W,H,Y){const k=c.attributes,F=W.attributes;let $=0;const q=H.getAttributes();for(const Z in q)if(q[Z].location>=0){const ne=k[Z];let ye=F[Z];if(ye===void 0&&(Z==="instanceMatrix"&&j.instanceMatrix&&(ye=j.instanceMatrix),Z==="instanceColor"&&j.instanceColor&&(ye=j.instanceColor)),ne===void 0||ne.attribute!==ye||ye&&ne.data!==ye.data)return!0;$++}return c.attributesNum!==$||c.index!==Y}function b(j,W,H,Y){const k={},F=W.attributes;let $=0;const q=H.getAttributes();for(const Z in q)if(q[Z].location>=0){let ne=F[Z];ne===void 0&&(Z==="instanceMatrix"&&j.instanceMatrix&&(ne=j.instanceMatrix),Z==="instanceColor"&&j.instanceColor&&(ne=j.instanceColor));const ye={};ye.attribute=ne,ne&&ne.data&&(ye.data=ne.data),k[Z]=ye,$++}c.attributes=k,c.attributesNum=$,c.index=Y}function _(){const j=c.newAttributes;for(let W=0,H=j.length;W<H;W++)j[W]=0}function S(j){A(j,0)}function A(j,W){const H=c.newAttributes,Y=c.enabledAttributes,k=c.attributeDivisors;H[j]=1,Y[j]===0&&(t.enableVertexAttribArray(j),Y[j]=1),k[j]!==W&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,W),k[j]=W)}function M(){const j=c.newAttributes,W=c.enabledAttributes;for(let H=0,Y=W.length;H<Y;H++)W[H]!==j[H]&&(t.disableVertexAttribArray(H),W[H]=0)}function P(j,W,H,Y,k,F,$){$===!0?t.vertexAttribIPointer(j,W,H,k,F):t.vertexAttribPointer(j,W,H,Y,k,F)}function N(j,W,H,Y){if(r.isWebGL2===!1&&(j.isInstancedMesh||Y.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const k=Y.attributes,F=H.getAttributes(),$=W.defaultAttributeValues;for(const q in F){const Z=F[q];if(Z.location>=0){let ee=k[q];if(ee===void 0&&(q==="instanceMatrix"&&j.instanceMatrix&&(ee=j.instanceMatrix),q==="instanceColor"&&j.instanceColor&&(ee=j.instanceColor)),ee!==void 0){const ne=ee.normalized,ye=ee.itemSize,xe=n.get(ee);if(xe===void 0)continue;const le=xe.buffer,Re=xe.type,de=xe.bytesPerElement,he=r.isWebGL2===!0&&(Re===t.INT||Re===t.UNSIGNED_INT||ee.gpuType===FN);if(ee.isInterleavedBufferAttribute){const _e=ee.data,z=_e.stride,ve=ee.offset;if(_e.isInstancedInterleavedBuffer){for(let se=0;se<Z.locationSize;se++)A(Z.location+se,_e.meshPerAttribute);j.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let se=0;se<Z.locationSize;se++)S(Z.location+se);t.bindBuffer(t.ARRAY_BUFFER,le);for(let se=0;se<Z.locationSize;se++)P(Z.location+se,ye/Z.locationSize,Re,ne,z*de,(ve+ye/Z.locationSize*se)*de,he)}else{if(ee.isInstancedBufferAttribute){for(let _e=0;_e<Z.locationSize;_e++)A(Z.location+_e,ee.meshPerAttribute);j.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let _e=0;_e<Z.locationSize;_e++)S(Z.location+_e);t.bindBuffer(t.ARRAY_BUFFER,le);for(let _e=0;_e<Z.locationSize;_e++)P(Z.location+_e,ye/Z.locationSize,Re,ne,ye*de,ye/Z.locationSize*_e*de,he)}}else if($!==void 0){const ne=$[q];if(ne!==void 0)switch(ne.length){case 2:t.vertexAttrib2fv(Z.location,ne);break;case 3:t.vertexAttrib3fv(Z.location,ne);break;case 4:t.vertexAttrib4fv(Z.location,ne);break;default:t.vertexAttrib1fv(Z.location,ne)}}}}M()}function R(){U();for(const j in s){const W=s[j];for(const H in W){const Y=W[H];for(const k in Y)g(Y[k].object),delete Y[k];delete W[H]}delete s[j]}}function I(j){if(s[j.id]===void 0)return;const W=s[j.id];for(const H in W){const Y=W[H];for(const k in Y)g(Y[k].object),delete Y[k];delete W[H]}delete s[j.id]}function D(j){for(const W in s){const H=s[W];if(H[j.id]===void 0)continue;const Y=H[j.id];for(const k in Y)g(Y[k].object),delete Y[k];delete H[j.id]}}function U(){X(),u=!0,c!==l&&(c=l,p(c.object))}function X(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:U,resetDefaultState:X,dispose:R,releaseStatesOfGeometry:I,releaseStatesOfProgram:D,initAttributes:_,enableAttribute:S,disableUnusedAttributes:M}}function wpe(t,e,n,r){const i=r.isWebGL2;let o;function a(u){o=u}function s(u,d){t.drawArrays(o,u,d),n.update(d,o,1)}function l(u,d,f){if(f===0)return;let p,g;if(i)p=t,g="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](o,u,d,f),n.update(d,o,f)}function c(u,d,f){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<f;g++)this.render(u[g],d[g]);else{p.multiDrawArraysWEBGL(o,u,0,d,0,f);let g=0;for(let y=0;y<f;y++)g+=d[y];n.update(g,o,1)}}this.setMode=a,this.render=s,this.renderInstances=l,this.renderMultiDraw=c}function Spe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=a||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),_=f>0,S=a||e.has("OES_texture_float"),A=_&&S,M=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:p,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:x,maxVaryings:v,maxFragmentUniforms:b,vertexTextures:_,floatFragmentTextures:S,floatVertexTextures:A,maxSamples:M}}function Epe(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Xl,s=new zt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const p=d.length!==0||f||r!==0||i;return i=f,r=d.length,p},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,p){const g=d.clippingPlanes,y=d.clipIntersection,x=d.clipShadows,v=t.get(d);if(!i||g===null||g.length===0||o&&!x)o?u(null):c();else{const b=o?0:r,_=b*4;let S=v.clippingState||null;l.value=S,S=u(g,f,_,p);for(let A=0;A!==_;++A)S[A]=n[A];v.clippingState=S,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,p,g){const y=d!==null?d.length:0;let x=null;if(y!==0){if(x=l.value,g!==!0||x===null){const v=p+y*4,b=f.matrixWorldInverse;s.getNormalMatrix(b),(x===null||x.length<v)&&(x=new Float32Array(v));for(let _=0,S=p;_!==y;++_,S+=4)a.copy(d[_]).applyMatrix4(b,s),a.normal.toArray(x,S),x[S+3]=a.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function Ape(t){let e=new WeakMap;function n(a,s){return s===hv?a.mapping=hl:s===pv&&(a.mapping=Ic),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===hv||s===pv)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new d9(l.height/2);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class zy extends jy{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const rh=4,qj=[.125,.215,.35,.446,.526,.582],Nu=20,XT=new zy,Xj=new qe;let KT=null,YT=0,JT=0;const Mu=(1+Math.sqrt(5))/2,_f=1/Mu,Kj=[new J(1,1,1),new J(-1,1,1),new J(1,1,-1),new J(-1,1,-1),new J(0,Mu,_f),new J(0,Mu,-_f),new J(_f,0,Mu),new J(-_f,0,Mu),new J(Mu,_f,0),new J(-Mu,_f,0)];class iO{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){KT=this._renderer.getRenderTarget(),YT=this._renderer.getActiveCubeFace(),JT=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Zj(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Jj(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(KT,YT,JT),e.scissorTest=!1,Zx(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===hl||e.mapping===Ic?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),KT=this._renderer.getRenderTarget(),YT=this._renderer.getActiveCubeFace(),JT=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:tr,minFilter:tr,generateMipmaps:!1,type:Gh,format:Ei,colorSpace:xs,depthBuffer:!1},i=Yj(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Yj(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Tpe(o)),this._blurMaterial=Mpe(o,e,n)}return i}_compileMaterial(e){const n=new xr(this._lodPlanes[0],e);this._renderer.compile(n,XT)}_sceneToCubeUV(e,n,r,i){const s=new Ir(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(Xj),u.toneMapping=ds,u.autoClear=!1;const p=new Hc({name:"PMREM.Background",side:Ci,depthWrite:!1,depthTest:!1}),g=new xr(new Id,p);let y=!1;const x=e.background;x?x.isColor&&(p.color.copy(x),e.background=null,y=!0):(p.color.copy(Xj),y=!0);for(let v=0;v<6;v++){const b=v%3;b===0?(s.up.set(0,l[v],0),s.lookAt(c[v],0,0)):b===1?(s.up.set(0,0,l[v]),s.lookAt(0,c[v],0)):(s.up.set(0,l[v],0),s.lookAt(0,0,c[v]));const _=this._cubeSize;Zx(i,b*_,v>2?_:0,_,_),u.setRenderTarget(i),y&&u.render(g,s),u.render(e,s)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===hl||e.mapping===Ic;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Zj()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Jj());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new xr(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;Zx(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,XT)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=Kj[(i-1)%Kj.length];this._blur(e,i-1,i,o,a)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new xr(this._lodPlanes[i],c),f=c.uniforms,p=this._sizeLods[r]-1,g=isFinite(o)?Math.PI/(2*p):2*Math.PI/(2*Nu-1),y=o/g,x=isFinite(o)?1+Math.floor(u*y):Nu;x>Nu&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Nu}`);const v=[];let b=0;for(let P=0;P<Nu;++P){const N=P/y,R=Math.exp(-N*N/2);v.push(R),P===0?b+=R:P<x&&(b+=2*R)}for(let P=0;P<v.length;P++)v[P]=v[P]/b;f.envMap.value=e.texture,f.samples.value=x,f.weights.value=v,f.latitudinal.value=a==="latitudinal",s&&(f.poleAxis.value=s);const{_lodMax:_}=this;f.dTheta.value=g,f.mipInt.value=_-r;const S=this._sizeLods[i],A=3*S*(i>_-rh?i-_+rh:0),M=4*(this._cubeSize-S);Zx(n,A,M,3*S,2*S),l.setRenderTarget(n),l.render(d,XT)}}function Tpe(t){const e=[],n=[],r=[];let i=t;const o=t-rh+1+qj.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-rh?l=qj[a-t+rh-1]:a===0&&(l=0),r.push(l);const c=1/(s-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,g=6,y=3,x=2,v=1,b=new Float32Array(y*g*p),_=new Float32Array(x*g*p),S=new Float32Array(v*g*p);for(let M=0;M<p;M++){const P=M%3*2/3-1,N=M>2?0:-1,R=[P,N,0,P+2/3,N,0,P+2/3,N+1,0,P,N,0,P+2/3,N+1,0,P,N+1,0];b.set(R,y*g*M),_.set(f,x*g*M);const I=[M,M,M,M,M,M];S.set(I,v*g*M)}const A=new $t;A.setAttribute("position",new un(b,y)),A.setAttribute("uv",new un(_,x)),A.setAttribute("faceIndex",new un(S,v)),e.push(A),i>rh&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function Yj(t,e,n){const r=new Fa(t,e,n);return r.texture.mapping=kp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Zx(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Mpe(t,e,n){const r=new Float32Array(Nu),i=new J(0,1,0);return new bs({name:"SphericalGaussianBlur",defines:{n:Nu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:eI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:nl,depthTest:!1,depthWrite:!1})}function Jj(){return new bs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:eI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:nl,depthTest:!1,depthWrite:!1})}function Zj(){return new bs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:eI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:nl,depthTest:!1,depthWrite:!1})}function eI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Ppe(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===hv||l===pv,u=l===hl||l===Ic;if(c||u)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let d=e.get(s);return n===null&&(n=new iO(t)),d=c?n.fromEquirectangular(s,d):n.fromCubemap(s,d),e.set(s,d),d.texture}else{if(e.has(s))return e.get(s).texture;{const d=s.image;if(c&&d&&d.height>0||u&&d&&i(d)){n===null&&(n=new iO(t));const f=c?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,f),s.addEventListener("dispose",o),f.texture}else return null}}}return s}function i(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Cpe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Ope(t,e,n,r){const i={},o=new WeakMap;function a(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);for(const g in f.morphAttributes){const y=f.morphAttributes[g];for(let x=0,v=y.length;x<v;x++)e.remove(y[x])}f.removeEventListener("dispose",a),delete i[f.id];const p=o.get(f);p&&(e.remove(p),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function s(d,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const g in f)e.update(f[g],t.ARRAY_BUFFER);const p=d.morphAttributes;for(const g in p){const y=p[g];for(let x=0,v=y.length;x<v;x++)e.update(y[x],t.ARRAY_BUFFER)}}function c(d){const f=[],p=d.index,g=d.attributes.position;let y=0;if(p!==null){const b=p.array;y=p.version;for(let _=0,S=b.length;_<S;_+=3){const A=b[_+0],M=b[_+1],P=b[_+2];f.push(A,M,M,P,P,A)}}else if(g!==void 0){const b=g.array;y=g.version;for(let _=0,S=b.length/3-1;_<S;_+=3){const A=_+0,M=_+1,P=_+2;f.push(A,M,M,P,P,A)}}else return;const x=new(i9(f)?QN:ZN)(f,1);x.version=y;const v=o.get(d);v&&e.remove(v),o.set(d,x)}function u(d){const f=o.get(d);if(f){const p=d.index;p!==null&&f.version<p.version&&c(d)}else c(d);return o.get(d)}return{get:s,update:l,getWireframeAttribute:u}}function Rpe(t,e,n,r){const i=r.isWebGL2;let o;function a(p){o=p}let s,l;function c(p){s=p.type,l=p.bytesPerElement}function u(p,g){t.drawElements(o,g,s,p*l),n.update(g,o,1)}function d(p,g,y){if(y===0)return;let x,v;if(i)x=t,v="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[v](o,g,s,p*l,y),n.update(g,o,y)}function f(p,g,y){if(y===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let v=0;v<y;v++)this.render(p[v]/l,g[v]);else{x.multiDrawElementsWEBGL(o,g,0,s,p,0,y);let v=0;for(let b=0;b<y;b++)v+=g[b];n.update(v,o,1)}}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=d,this.renderMultiDraw=f}function Npe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Ipe(t,e){return t[0]-e[0]}function kpe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Lpe(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new ln,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,u,d){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=g!==void 0?g.length:0;let x=o.get(u);if(x===void 0||x.count!==y){let W=function(){X.dispose(),o.delete(u),u.removeEventListener("dispose",W)};var p=W;x!==void 0&&x.texture.dispose();const _=u.morphAttributes.position!==void 0,S=u.morphAttributes.normal!==void 0,A=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],P=u.morphAttributes.normal||[],N=u.morphAttributes.color||[];let R=0;_===!0&&(R=1),S===!0&&(R=2),A===!0&&(R=3);let I=u.attributes.position.count*R,D=1;I>e.maxTextureSize&&(D=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const U=new Float32Array(I*D*4*y),X=new dS(U,I,D,y);X.type=Ra,X.needsUpdate=!0;const j=R*4;for(let H=0;H<y;H++){const Y=M[H],k=P[H],F=N[H],$=I*D*4*H;for(let q=0;q<Y.count;q++){const Z=q*j;_===!0&&(a.fromBufferAttribute(Y,q),U[$+Z+0]=a.x,U[$+Z+1]=a.y,U[$+Z+2]=a.z,U[$+Z+3]=0),S===!0&&(a.fromBufferAttribute(k,q),U[$+Z+4]=a.x,U[$+Z+5]=a.y,U[$+Z+6]=a.z,U[$+Z+7]=0),A===!0&&(a.fromBufferAttribute(F,q),U[$+Z+8]=a.x,U[$+Z+9]=a.y,U[$+Z+10]=a.z,U[$+Z+11]=F.itemSize===4?a.w:1)}}x={count:y,texture:X,size:new Me(I,D)},o.set(u,x),u.addEventListener("dispose",W)}let v=0;for(let _=0;_<f.length;_++)v+=f[_];const b=u.morphTargetsRelative?1:1-v;d.getUniforms().setValue(t,"morphTargetBaseInfluence",b),d.getUniforms().setValue(t,"morphTargetInfluences",f),d.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const g=f===void 0?0:f.length;let y=r[u.id];if(y===void 0||y.length!==g){y=[];for(let S=0;S<g;S++)y[S]=[S,0];r[u.id]=y}for(let S=0;S<g;S++){const A=y[S];A[0]=S,A[1]=f[S]}y.sort(kpe);for(let S=0;S<8;S++)S<g&&y[S][1]?(s[S][0]=y[S][0],s[S][1]=y[S][1]):(s[S][0]=Number.MAX_SAFE_INTEGER,s[S][1]=0);s.sort(Ipe);const x=u.morphAttributes.position,v=u.morphAttributes.normal;let b=0;for(let S=0;S<8;S++){const A=s[S],M=A[0],P=A[1];M!==Number.MAX_SAFE_INTEGER&&P?(x&&u.getAttribute("morphTarget"+S)!==x[M]&&u.setAttribute("morphTarget"+S,x[M]),v&&u.getAttribute("morphNormal"+S)!==v[M]&&u.setAttribute("morphNormal"+S,v[M]),i[S]=P,b+=P):(x&&u.hasAttribute("morphTarget"+S)===!0&&u.deleteAttribute("morphTarget"+S),v&&u.hasAttribute("morphNormal"+S)===!0&&u.deleteAttribute("morphNormal"+S),i[S]=0)}const _=u.morphTargetsRelative?1:1-b;d.getUniforms().setValue(t,"morphTargetBaseInfluence",_),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Dpe(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}class tI extends nr{constructor(e,n,r,i,o,a,s,l,c,u){if(u=u!==void 0?u:_c,u!==_c&&u!==pd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===_c&&(r=Ys),r===void 0&&u===pd&&(r=bc),super(null,i,o,a,s,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Qn,this.minFilter=l!==void 0?l:Qn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const h9=new nr,p9=new tI(1,1);p9.compareFunction=XN;const m9=new dS,g9=new JN,v9=new Uy,Qj=[],eU=[],tU=new Float32Array(16),nU=new Float32Array(9),rU=new Float32Array(4);function Dp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=Qj[i];if(o===void 0&&(o=new Float32Array(i),Qj[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function _r(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function wr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function fS(t,e){let n=eU[e];n===void 0&&(n=new Int32Array(e),eU[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function jpe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Upe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(_r(n,e))return;t.uniform2fv(this.addr,e),wr(n,e)}}function Fpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(_r(n,e))return;t.uniform3fv(this.addr,e),wr(n,e)}}function Bpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(_r(n,e))return;t.uniform4fv(this.addr,e),wr(n,e)}}function zpe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_r(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),wr(n,e)}else{if(_r(n,r))return;rU.set(r),t.uniformMatrix2fv(this.addr,!1,rU),wr(n,r)}}function $pe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_r(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),wr(n,e)}else{if(_r(n,r))return;nU.set(r),t.uniformMatrix3fv(this.addr,!1,nU),wr(n,r)}}function Hpe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_r(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),wr(n,e)}else{if(_r(n,r))return;tU.set(r),t.uniformMatrix4fv(this.addr,!1,tU),wr(n,r)}}function Vpe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Wpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(_r(n,e))return;t.uniform2iv(this.addr,e),wr(n,e)}}function Gpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(_r(n,e))return;t.uniform3iv(this.addr,e),wr(n,e)}}function qpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(_r(n,e))return;t.uniform4iv(this.addr,e),wr(n,e)}}function Xpe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Kpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(_r(n,e))return;t.uniform2uiv(this.addr,e),wr(n,e)}}function Ype(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(_r(n,e))return;t.uniform3uiv(this.addr,e),wr(n,e)}}function Jpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(_r(n,e))return;t.uniform4uiv(this.addr,e),wr(n,e)}}function Zpe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?p9:h9;n.setTexture2D(e||o,i)}function Qpe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||g9,i)}function eme(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||v9,i)}function tme(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||m9,i)}function nme(t){switch(t){case 5126:return jpe;case 35664:return Upe;case 35665:return Fpe;case 35666:return Bpe;case 35674:return zpe;case 35675:return $pe;case 35676:return Hpe;case 5124:case 35670:return Vpe;case 35667:case 35671:return Wpe;case 35668:case 35672:return Gpe;case 35669:case 35673:return qpe;case 5125:return Xpe;case 36294:return Kpe;case 36295:return Ype;case 36296:return Jpe;case 35678:case 36198:case 36298:case 36306:case 35682:return Zpe;case 35679:case 36299:case 36307:return Qpe;case 35680:case 36300:case 36308:case 36293:return eme;case 36289:case 36303:case 36311:case 36292:return tme}}function rme(t,e){t.uniform1fv(this.addr,e)}function ime(t,e){const n=Dp(e,this.size,2);t.uniform2fv(this.addr,n)}function ome(t,e){const n=Dp(e,this.size,3);t.uniform3fv(this.addr,n)}function ame(t,e){const n=Dp(e,this.size,4);t.uniform4fv(this.addr,n)}function sme(t,e){const n=Dp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function lme(t,e){const n=Dp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function cme(t,e){const n=Dp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function ume(t,e){t.uniform1iv(this.addr,e)}function dme(t,e){t.uniform2iv(this.addr,e)}function fme(t,e){t.uniform3iv(this.addr,e)}function hme(t,e){t.uniform4iv(this.addr,e)}function pme(t,e){t.uniform1uiv(this.addr,e)}function mme(t,e){t.uniform2uiv(this.addr,e)}function gme(t,e){t.uniform3uiv(this.addr,e)}function vme(t,e){t.uniform4uiv(this.addr,e)}function yme(t,e,n){const r=this.cache,i=e.length,o=fS(n,i);_r(r,o)||(t.uniform1iv(this.addr,o),wr(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||h9,o[a])}function xme(t,e,n){const r=this.cache,i=e.length,o=fS(n,i);_r(r,o)||(t.uniform1iv(this.addr,o),wr(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||g9,o[a])}function bme(t,e,n){const r=this.cache,i=e.length,o=fS(n,i);_r(r,o)||(t.uniform1iv(this.addr,o),wr(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||v9,o[a])}function _me(t,e,n){const r=this.cache,i=e.length,o=fS(n,i);_r(r,o)||(t.uniform1iv(this.addr,o),wr(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||m9,o[a])}function wme(t){switch(t){case 5126:return rme;case 35664:return ime;case 35665:return ome;case 35666:return ame;case 35674:return sme;case 35675:return lme;case 35676:return cme;case 5124:case 35670:return ume;case 35667:case 35671:return dme;case 35668:case 35672:return fme;case 35669:case 35673:return hme;case 5125:return pme;case 36294:return mme;case 36295:return gme;case 36296:return vme;case 35678:case 36198:case 36298:case 36306:case 35682:return yme;case 35679:case 36299:case 36307:return xme;case 35680:case 36300:case 36308:case 36293:return bme;case 36289:case 36303:case 36311:case 36292:return _me}}class Sme{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=nme(n.type)}}class Eme{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=wme(n.type)}}class Ame{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const ZT=/(\w+)(\])?(\[|\.)?/g;function iU(t,e){t.seq.push(e),t.map[e.id]=e}function Tme(t,e,n){const r=t.name,i=r.length;for(ZT.lastIndex=0;;){const o=ZT.exec(r),a=ZT.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){iU(n,c===void 0?new Sme(s,t,e):new Eme(s,t,e));break}else{let d=n.map[s];d===void 0&&(d=new Ame(s),iU(n,d)),n=d}}}class __{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);Tme(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function oU(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Mme=37297;let Pme=0;function Cme(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}function Ome(t){const e=sn.getPrimaries(sn.workingColorSpace),n=sn.getPrimaries(t);let r;switch(e===n?r="":e===wv&&n===_v?r="LinearDisplayP3ToLinearSRGB":e===_v&&n===wv&&(r="LinearSRGBToLinearDisplayP3"),t){case xs:case Ly:return[r,"LinearTransferOETF"];case gr:case uS:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function aU(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Cme(t.getShaderSource(e),a)}else return i}function Rme(t,e){const n=Ome(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Nme(t,e){let n;switch(e){case RG:n="Linear";break;case NG:n="Reinhard";break;case IG:n="OptimizedCineon";break;case jN:n="ACESFilmic";break;case LG:n="AgX";break;case kG:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ime(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ih).join(`
`)}function kme(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(ih).join(`
`)}function Lme(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Dme(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function ih(t){return t!==""}function sU(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function lU(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const jme=/^[ \t]*#include +<([\w\d./]+)>/gm;function oO(t){return t.replace(jme,Fme)}const Ume=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Fme(t,e){let n=jt[e];if(n===void 0){const r=Ume.get(e);if(r!==void 0)n=jt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return oO(n)}const Bme=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cU(t){return t.replace(Bme,zme)}function zme(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function uU(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $me(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===aS?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Eg?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===wa&&(e="SHADOWMAP_TYPE_VSM"),e}function Hme(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case hl:case Ic:e="ENVMAP_TYPE_CUBE";break;case kp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Vme(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ic:e="ENVMAP_MODE_REFRACTION";break}return e}function Wme(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case ky:e="ENVMAP_BLENDING_MULTIPLY";break;case CG:e="ENVMAP_BLENDING_MIX";break;case OG:e="ENVMAP_BLENDING_ADD";break}return e}function Gme(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function qme(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=$me(n),c=Hme(n),u=Vme(n),d=Wme(n),f=Gme(n),p=n.isWebGL2?"":Ime(n),g=kme(n),y=Lme(o),x=i.createProgram();let v,b,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(ih).join(`
`),v.length>0&&(v+=`
`),b=[p,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(ih).join(`
`),b.length>0&&(b+=`
`)):(v=[uU(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ih).join(`
`),b=[p,uU(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ds?"#define TONE_MAPPING":"",n.toneMapping!==ds?jt.tonemapping_pars_fragment:"",n.toneMapping!==ds?Nme("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",jt.colorspace_pars_fragment,Rme("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(ih).join(`
`)),a=oO(a),a=sU(a,n),a=lU(a,n),s=oO(s),s=sU(s,n),s=lU(s,n),a=cU(a),s=cU(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,v=[g,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,b=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===nO?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===nO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const S=_+v+a,A=_+b+s,M=oU(i,i.VERTEX_SHADER,S),P=oU(i,i.FRAGMENT_SHADER,A);i.attachShader(x,M),i.attachShader(x,P),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function N(U){if(t.debug.checkShaderErrors){const X=i.getProgramInfoLog(x).trim(),j=i.getShaderInfoLog(M).trim(),W=i.getShaderInfoLog(P).trim();let H=!0,Y=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(H=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,M,P);else{const k=aU(i,M,"vertex"),F=aU(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Program Info Log: `+X+`
`+k+`
`+F)}else X!==""?console.warn("THREE.WebGLProgram: Program Info Log:",X):(j===""||W==="")&&(Y=!1);Y&&(U.diagnostics={runnable:H,programLog:X,vertexShader:{log:j,prefix:v},fragmentShader:{log:W,prefix:b}})}i.deleteShader(M),i.deleteShader(P),R=new __(i,x),I=Dme(i,x)}let R;this.getUniforms=function(){return R===void 0&&N(this),R};let I;this.getAttributes=function(){return I===void 0&&N(this),I};let D=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=i.getProgramParameter(x,Mme)),D},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Pme++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=M,this.fragmentShader=P,this}let Xme=0;class Kme{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Yme(e),n.set(e,r)),r}}class Yme{constructor(e){this.id=Xme++,this.code=e,this.usedTimes=0}}function Jme(t,e,n,r,i,o,a){const s=new rd,l=new Kme,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let p=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(R){return R===0?"uv":`uv${R}`}function x(R,I,D,U,X){const j=U.fog,W=X.geometry,H=R.isMeshStandardMaterial?U.environment:null,Y=(R.isMeshStandardMaterial?n:e).get(R.envMap||H),k=Y&&Y.mapping===kp?Y.image.height:null,F=g[R.type];R.precision!==null&&(p=i.getMaxPrecision(R.precision),p!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",p,"instead."));const $=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,q=$!==void 0?$.length:0;let Z=0;W.morphAttributes.position!==void 0&&(Z=1),W.morphAttributes.normal!==void 0&&(Z=2),W.morphAttributes.color!==void 0&&(Z=3);let ee,ne,ye,xe;if(F){const Er=Ca[F];ee=Er.vertexShader,ne=Er.fragmentShader}else ee=R.vertexShader,ne=R.fragmentShader,l.update(R),ye=l.getVertexShaderID(R),xe=l.getFragmentShaderID(R);const le=t.getRenderTarget(),Re=X.isInstancedMesh===!0,de=X.isBatchedMesh===!0,he=!!R.map,_e=!!R.matcap,z=!!Y,ve=!!R.aoMap,se=!!R.lightMap,Se=!!R.bumpMap,ue=!!R.normalMap,Be=!!R.displacementMap,Le=!!R.emissiveMap,G=!!R.metalnessMap,B=!!R.roughnessMap,oe=R.anisotropy>0,Ce=R.clearcoat>0,Pe=R.iridescence>0,Ee=R.sheen>0,tt=R.transmission>0,je=oe&&!!R.anisotropyMap,He=Ce&&!!R.clearcoatMap,ct=Ce&&!!R.clearcoatNormalMap,gt=Ce&&!!R.clearcoatRoughnessMap,Oe=Pe&&!!R.iridescenceMap,Gt=Pe&&!!R.iridescenceThicknessMap,kt=Ee&&!!R.sheenColorMap,_t=Ee&&!!R.sheenRoughnessMap,lt=!!R.specularMap,Xe=!!R.specularColorMap,pt=!!R.specularIntensityMap,qt=tt&&!!R.transmissionMap,Ke=tt&&!!R.thicknessMap,Ye=!!R.gradientMap,Te=!!R.alphaMap,te=R.alphaTest>0,ke=!!R.alphaHash,Ue=!!R.extensions,mt=!!W.attributes.uv1,dt=!!W.attributes.uv2,fn=!!W.attributes.uv3;let an=ds;return R.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(an=t.toneMapping),{isWebGL2:u,shaderID:F,shaderType:R.type,shaderName:R.name,vertexShader:ee,fragmentShader:ne,defines:R.defines,customVertexShaderID:ye,customFragmentShaderID:xe,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:p,batching:de,instancing:Re,instancingColor:Re&&X.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:le===null?t.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:xs,map:he,matcap:_e,envMap:z,envMapMode:z&&Y.mapping,envMapCubeUVHeight:k,aoMap:ve,lightMap:se,bumpMap:Se,normalMap:ue,displacementMap:f&&Be,emissiveMap:Le,normalMapObjectSpace:ue&&R.normalMapType===YG,normalMapTangentSpace:ue&&R.normalMapType===$c,metalnessMap:G,roughnessMap:B,anisotropy:oe,anisotropyMap:je,clearcoat:Ce,clearcoatMap:He,clearcoatNormalMap:ct,clearcoatRoughnessMap:gt,iridescence:Pe,iridescenceMap:Oe,iridescenceThicknessMap:Gt,sheen:Ee,sheenColorMap:kt,sheenRoughnessMap:_t,specularMap:lt,specularColorMap:Xe,specularIntensityMap:pt,transmission:tt,transmissionMap:qt,thicknessMap:Ke,gradientMap:Ye,opaque:R.transparent===!1&&R.blending===td,alphaMap:Te,alphaTest:te,alphaHash:ke,combine:R.combine,mapUv:he&&y(R.map.channel),aoMapUv:ve&&y(R.aoMap.channel),lightMapUv:se&&y(R.lightMap.channel),bumpMapUv:Se&&y(R.bumpMap.channel),normalMapUv:ue&&y(R.normalMap.channel),displacementMapUv:Be&&y(R.displacementMap.channel),emissiveMapUv:Le&&y(R.emissiveMap.channel),metalnessMapUv:G&&y(R.metalnessMap.channel),roughnessMapUv:B&&y(R.roughnessMap.channel),anisotropyMapUv:je&&y(R.anisotropyMap.channel),clearcoatMapUv:He&&y(R.clearcoatMap.channel),clearcoatNormalMapUv:ct&&y(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:gt&&y(R.clearcoatRoughnessMap.channel),iridescenceMapUv:Oe&&y(R.iridescenceMap.channel),iridescenceThicknessMapUv:Gt&&y(R.iridescenceThicknessMap.channel),sheenColorMapUv:kt&&y(R.sheenColorMap.channel),sheenRoughnessMapUv:_t&&y(R.sheenRoughnessMap.channel),specularMapUv:lt&&y(R.specularMap.channel),specularColorMapUv:Xe&&y(R.specularColorMap.channel),specularIntensityMapUv:pt&&y(R.specularIntensityMap.channel),transmissionMapUv:qt&&y(R.transmissionMap.channel),thicknessMapUv:Ke&&y(R.thicknessMap.channel),alphaMapUv:Te&&y(R.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(ue||oe),vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,vertexUv1s:mt,vertexUv2s:dt,vertexUv3s:fn,pointsUvs:X.isPoints===!0&&!!W.attributes.uv&&(he||Te),fog:!!j,useFog:R.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:R.flatShading===!0,sizeAttenuation:R.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:X.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:q,morphTextureStride:Z,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&D.length>0,shadowMapType:t.shadowMap.type,toneMapping:an,useLegacyLights:t._useLegacyLights,decodeVideoTexture:he&&R.map.isVideoTexture===!0&&sn.getTransfer(R.map.colorSpace)===yn,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===as,flipSided:R.side===Ci,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:Ue&&R.extensions.derivatives===!0,extensionFragDepth:Ue&&R.extensions.fragDepth===!0,extensionDrawBuffers:Ue&&R.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ue&&R.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Ue&&R.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()}}function v(R){const I=[];if(R.shaderID?I.push(R.shaderID):(I.push(R.customVertexShaderID),I.push(R.customFragmentShaderID)),R.defines!==void 0)for(const D in R.defines)I.push(D),I.push(R.defines[D]);return R.isRawShaderMaterial===!1&&(b(I,R),_(I,R),I.push(t.outputColorSpace)),I.push(R.customProgramCacheKey),I.join()}function b(R,I){R.push(I.precision),R.push(I.outputColorSpace),R.push(I.envMapMode),R.push(I.envMapCubeUVHeight),R.push(I.mapUv),R.push(I.alphaMapUv),R.push(I.lightMapUv),R.push(I.aoMapUv),R.push(I.bumpMapUv),R.push(I.normalMapUv),R.push(I.displacementMapUv),R.push(I.emissiveMapUv),R.push(I.metalnessMapUv),R.push(I.roughnessMapUv),R.push(I.anisotropyMapUv),R.push(I.clearcoatMapUv),R.push(I.clearcoatNormalMapUv),R.push(I.clearcoatRoughnessMapUv),R.push(I.iridescenceMapUv),R.push(I.iridescenceThicknessMapUv),R.push(I.sheenColorMapUv),R.push(I.sheenRoughnessMapUv),R.push(I.specularMapUv),R.push(I.specularColorMapUv),R.push(I.specularIntensityMapUv),R.push(I.transmissionMapUv),R.push(I.thicknessMapUv),R.push(I.combine),R.push(I.fogExp2),R.push(I.sizeAttenuation),R.push(I.morphTargetsCount),R.push(I.morphAttributeCount),R.push(I.numDirLights),R.push(I.numPointLights),R.push(I.numSpotLights),R.push(I.numSpotLightMaps),R.push(I.numHemiLights),R.push(I.numRectAreaLights),R.push(I.numDirLightShadows),R.push(I.numPointLightShadows),R.push(I.numSpotLightShadows),R.push(I.numSpotLightShadowsWithMaps),R.push(I.numLightProbes),R.push(I.shadowMapType),R.push(I.toneMapping),R.push(I.numClippingPlanes),R.push(I.numClipIntersection),R.push(I.depthPacking)}function _(R,I){s.disableAll(),I.isWebGL2&&s.enable(0),I.supportsVertexTextures&&s.enable(1),I.instancing&&s.enable(2),I.instancingColor&&s.enable(3),I.matcap&&s.enable(4),I.envMap&&s.enable(5),I.normalMapObjectSpace&&s.enable(6),I.normalMapTangentSpace&&s.enable(7),I.clearcoat&&s.enable(8),I.iridescence&&s.enable(9),I.alphaTest&&s.enable(10),I.vertexColors&&s.enable(11),I.vertexAlphas&&s.enable(12),I.vertexUv1s&&s.enable(13),I.vertexUv2s&&s.enable(14),I.vertexUv3s&&s.enable(15),I.vertexTangents&&s.enable(16),I.anisotropy&&s.enable(17),I.alphaHash&&s.enable(18),I.batching&&s.enable(19),R.push(s.mask),s.disableAll(),I.fog&&s.enable(0),I.useFog&&s.enable(1),I.flatShading&&s.enable(2),I.logarithmicDepthBuffer&&s.enable(3),I.skinning&&s.enable(4),I.morphTargets&&s.enable(5),I.morphNormals&&s.enable(6),I.morphColors&&s.enable(7),I.premultipliedAlpha&&s.enable(8),I.shadowMapEnabled&&s.enable(9),I.useLegacyLights&&s.enable(10),I.doubleSided&&s.enable(11),I.flipSided&&s.enable(12),I.useDepthPacking&&s.enable(13),I.dithering&&s.enable(14),I.transmission&&s.enable(15),I.sheen&&s.enable(16),I.opaque&&s.enable(17),I.pointsUvs&&s.enable(18),I.decodeVideoTexture&&s.enable(19),R.push(s.mask)}function S(R){const I=g[R.type];let D;if(I){const U=Ca[I];D=c9.clone(U.uniforms)}else D=R.uniforms;return D}function A(R,I){let D;for(let U=0,X=c.length;U<X;U++){const j=c[U];if(j.cacheKey===I){D=j,++D.usedTimes;break}}return D===void 0&&(D=new qme(t,I,R,o),c.push(D)),D}function M(R){if(--R.usedTimes===0){const I=c.indexOf(R);c[I]=c[c.length-1],c.pop(),R.destroy()}}function P(R){l.remove(R)}function N(){l.dispose()}return{getParameters:x,getProgramCacheKey:v,getUniforms:S,acquireProgram:A,releaseProgram:M,releaseShaderCache:P,programs:c,dispose:N}}function Zme(){let t=new WeakMap;function e(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function n(o){t.delete(o)}function r(o,a,s){t.get(o)[a]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function Qme(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function dU(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function fU(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(d,f,p,g,y,x){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:f,material:p,groupOrder:g,renderOrder:d.renderOrder,z:y,group:x},t[e]=v):(v.id=d.id,v.object=d,v.geometry=f,v.material=p,v.groupOrder=g,v.renderOrder=d.renderOrder,v.z=y,v.group=x),e++,v}function s(d,f,p,g,y,x){const v=a(d,f,p,g,y,x);p.transmission>0?r.push(v):p.transparent===!0?i.push(v):n.push(v)}function l(d,f,p,g,y,x){const v=a(d,f,p,g,y,x);p.transmission>0?r.unshift(v):p.transparent===!0?i.unshift(v):n.unshift(v)}function c(d,f){n.length>1&&n.sort(d||Qme),r.length>1&&r.sort(f||dU),i.length>1&&i.sort(f||dU)}function u(){for(let d=e,f=t.length;d<f;d++){const p=t[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:u,sort:c}}function ege(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new fU,t.set(r,[a])):i>=o.length?(a=new fU,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function tge(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new qe};break;case"SpotLight":n={position:new J,direction:new J,color:new qe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new qe,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new qe,groundColor:new qe};break;case"RectAreaLight":n={color:new qe,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function nge(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Me,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let rge=0;function ige(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function oge(t,e){const n=new tge,r=nge(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new J);const o=new J,a=new At,s=new At;function l(u,d){let f=0,p=0,g=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let y=0,x=0,v=0,b=0,_=0,S=0,A=0,M=0,P=0,N=0,R=0;u.sort(ige);const I=d===!0?Math.PI:1;for(let U=0,X=u.length;U<X;U++){const j=u[U],W=j.color,H=j.intensity,Y=j.distance,k=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)f+=W.r*H*I,p+=W.g*H*I,g+=W.b*H*I;else if(j.isLightProbe){for(let F=0;F<9;F++)i.probe[F].addScaledVector(j.sh.coefficients[F],H);R++}else if(j.isDirectionalLight){const F=n.get(j);if(F.color.copy(j.color).multiplyScalar(j.intensity*I),j.castShadow){const $=j.shadow,q=r.get(j);q.shadowBias=$.bias,q.shadowNormalBias=$.normalBias,q.shadowRadius=$.radius,q.shadowMapSize=$.mapSize,i.directionalShadow[y]=q,i.directionalShadowMap[y]=k,i.directionalShadowMatrix[y]=j.shadow.matrix,S++}i.directional[y]=F,y++}else if(j.isSpotLight){const F=n.get(j);F.position.setFromMatrixPosition(j.matrixWorld),F.color.copy(W).multiplyScalar(H*I),F.distance=Y,F.coneCos=Math.cos(j.angle),F.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),F.decay=j.decay,i.spot[v]=F;const $=j.shadow;if(j.map&&(i.spotLightMap[P]=j.map,P++,$.updateMatrices(j),j.castShadow&&N++),i.spotLightMatrix[v]=$.matrix,j.castShadow){const q=r.get(j);q.shadowBias=$.bias,q.shadowNormalBias=$.normalBias,q.shadowRadius=$.radius,q.shadowMapSize=$.mapSize,i.spotShadow[v]=q,i.spotShadowMap[v]=k,M++}v++}else if(j.isRectAreaLight){const F=n.get(j);F.color.copy(W).multiplyScalar(H),F.halfWidth.set(j.width*.5,0,0),F.halfHeight.set(0,j.height*.5,0),i.rectArea[b]=F,b++}else if(j.isPointLight){const F=n.get(j);if(F.color.copy(j.color).multiplyScalar(j.intensity*I),F.distance=j.distance,F.decay=j.decay,j.castShadow){const $=j.shadow,q=r.get(j);q.shadowBias=$.bias,q.shadowNormalBias=$.normalBias,q.shadowRadius=$.radius,q.shadowMapSize=$.mapSize,q.shadowCameraNear=$.camera.near,q.shadowCameraFar=$.camera.far,i.pointShadow[x]=q,i.pointShadowMap[x]=k,i.pointShadowMatrix[x]=j.shadow.matrix,A++}i.point[x]=F,x++}else if(j.isHemisphereLight){const F=n.get(j);F.skyColor.copy(j.color).multiplyScalar(H*I),F.groundColor.copy(j.groundColor).multiplyScalar(H*I),i.hemi[_]=F,_++}}b>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_FLOAT_1,i.rectAreaLTC2=Fe.LTC_FLOAT_2):(i.rectAreaLTC1=Fe.LTC_HALF_1,i.rectAreaLTC2=Fe.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_FLOAT_1,i.rectAreaLTC2=Fe.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_HALF_1,i.rectAreaLTC2=Fe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=p,i.ambient[2]=g;const D=i.hash;(D.directionalLength!==y||D.pointLength!==x||D.spotLength!==v||D.rectAreaLength!==b||D.hemiLength!==_||D.numDirectionalShadows!==S||D.numPointShadows!==A||D.numSpotShadows!==M||D.numSpotMaps!==P||D.numLightProbes!==R)&&(i.directional.length=y,i.spot.length=v,i.rectArea.length=b,i.point.length=x,i.hemi.length=_,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=M+P-N,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=R,D.directionalLength=y,D.pointLength=x,D.spotLength=v,D.rectAreaLength=b,D.hemiLength=_,D.numDirectionalShadows=S,D.numPointShadows=A,D.numSpotShadows=M,D.numSpotMaps=P,D.numLightProbes=R,i.version=rge++)}function c(u,d){let f=0,p=0,g=0,y=0,x=0;const v=d.matrixWorldInverse;for(let b=0,_=u.length;b<_;b++){const S=u[b];if(S.isDirectionalLight){const A=i.directional[f];A.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(o),A.direction.transformDirection(v),f++}else if(S.isSpotLight){const A=i.spot[g];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(v),A.direction.setFromMatrixPosition(S.matrixWorld),o.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(o),A.direction.transformDirection(v),g++}else if(S.isRectAreaLight){const A=i.rectArea[y];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(v),s.identity(),a.copy(S.matrixWorld),a.premultiply(v),s.extractRotation(a),A.halfWidth.set(S.width*.5,0,0),A.halfHeight.set(0,S.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),y++}else if(S.isPointLight){const A=i.point[p];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(v),p++}else if(S.isHemisphereLight){const A=i.hemi[x];A.direction.setFromMatrixPosition(S.matrixWorld),A.direction.transformDirection(v),x++}}}return{setup:l,setupView:c,state:i}}function hU(t,e){const n=new oge(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(d){r.push(d)}function s(d){i.push(d)}function l(d){n.setup(r,d)}function c(d){n.setupView(r,d)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function age(t,e){let n=new WeakMap;function r(o,a=0){const s=n.get(o);let l;return s===void 0?(l=new hU(t,e),n.set(o,[l])):a>=s.length?(l=new hU(t,e),s.push(l)):l=s[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class nI extends fi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=XG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class rI extends fi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const sge=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,lge=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cge(t,e,n){let r=new Fy;const i=new Me,o=new Me,a=new ln,s=new nI({depthPacking:KG}),l=new rI,c={},u=n.maxTextureSize,d={[fl]:Ci,[Ci]:fl,[as]:as},f=new bs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Me},radius:{value:4}},vertexShader:sge,fragmentShader:lge}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const g=new $t;g.setAttribute("position",new un(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new xr(g,f),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=aS;let v=this.type;this.render=function(M,P,N){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||M.length===0)return;const R=t.getRenderTarget(),I=t.getActiveCubeFace(),D=t.getActiveMipmapLevel(),U=t.state;U.setBlending(nl),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const X=v!==wa&&this.type===wa,j=v===wa&&this.type!==wa;for(let W=0,H=M.length;W<H;W++){const Y=M[W],k=Y.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;i.copy(k.mapSize);const F=k.getFrameExtents();if(i.multiply(F),o.copy(k.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/F.x),i.x=o.x*F.x,k.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/F.y),i.y=o.y*F.y,k.mapSize.y=o.y)),k.map===null||X===!0||j===!0){const q=this.type!==wa?{minFilter:Qn,magFilter:Qn}:{};k.map!==null&&k.map.dispose(),k.map=new Fa(i.x,i.y,q),k.map.texture.name=Y.name+".shadowMap",k.camera.updateProjectionMatrix()}t.setRenderTarget(k.map),t.clear();const $=k.getViewportCount();for(let q=0;q<$;q++){const Z=k.getViewport(q);a.set(o.x*Z.x,o.y*Z.y,o.x*Z.z,o.y*Z.w),U.viewport(a),k.updateMatrices(Y,q),r=k.getFrustum(),S(P,N,k.camera,Y,this.type)}k.isPointLightShadow!==!0&&this.type===wa&&b(k,N),k.needsUpdate=!1}v=this.type,x.needsUpdate=!1,t.setRenderTarget(R,I,D)};function b(M,P){const N=e.update(y);f.defines.VSM_SAMPLES!==M.blurSamples&&(f.defines.VSM_SAMPLES=M.blurSamples,p.defines.VSM_SAMPLES=M.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Fa(i.x,i.y)),f.uniforms.shadow_pass.value=M.map.texture,f.uniforms.resolution.value=M.mapSize,f.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(P,null,N,f,y,null),p.uniforms.shadow_pass.value=M.mapPass.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(P,null,N,p,y,null)}function _(M,P,N,R){let I=null;const D=N.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(D!==void 0)I=D;else if(I=N.isPointLight===!0?l:s,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const U=I.uuid,X=P.uuid;let j=c[U];j===void 0&&(j={},c[U]=j);let W=j[X];W===void 0&&(W=I.clone(),j[X]=W,P.addEventListener("dispose",A)),I=W}if(I.visible=P.visible,I.wireframe=P.wireframe,R===wa?I.side=P.shadowSide!==null?P.shadowSide:P.side:I.side=P.shadowSide!==null?P.shadowSide:d[P.side],I.alphaMap=P.alphaMap,I.alphaTest=P.alphaTest,I.map=P.map,I.clipShadows=P.clipShadows,I.clippingPlanes=P.clippingPlanes,I.clipIntersection=P.clipIntersection,I.displacementMap=P.displacementMap,I.displacementScale=P.displacementScale,I.displacementBias=P.displacementBias,I.wireframeLinewidth=P.wireframeLinewidth,I.linewidth=P.linewidth,N.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const U=t.properties.get(I);U.light=N}return I}function S(M,P,N,R,I){if(M.visible===!1)return;if(M.layers.test(P.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&I===wa)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,M.matrixWorld);const X=e.update(M),j=M.material;if(Array.isArray(j)){const W=X.groups;for(let H=0,Y=W.length;H<Y;H++){const k=W[H],F=j[k.materialIndex];if(F&&F.visible){const $=_(M,F,R,I);M.onBeforeShadow(t,M,P,N,X,$,k),t.renderBufferDirect(N,null,X,$,M,k),M.onAfterShadow(t,M,P,N,X,$,k)}}}else if(j.visible){const W=_(M,j,R,I);M.onBeforeShadow(t,M,P,N,X,W,null),t.renderBufferDirect(N,null,X,W,M,null),M.onAfterShadow(t,M,P,N,X,W,null)}}const U=M.children;for(let X=0,j=U.length;X<j;X++)S(U[X],P,N,R,I)}function A(M){M.target.removeEventListener("dispose",A);for(const N in c){const R=c[N],I=M.target.uuid;I in R&&(R[I].dispose(),delete R[I])}}}function uge(t,e,n){const r=n.isWebGL2;function i(){let te=!1;const ke=new ln;let Ue=null;const mt=new ln(0,0,0,0);return{setMask:function(dt){Ue!==dt&&!te&&(t.colorMask(dt,dt,dt,dt),Ue=dt)},setLocked:function(dt){te=dt},setClear:function(dt,fn,an,Kn,Er){Er===!0&&(dt*=Kn,fn*=Kn,an*=Kn),ke.set(dt,fn,an,Kn),mt.equals(ke)===!1&&(t.clearColor(dt,fn,an,Kn),mt.copy(ke))},reset:function(){te=!1,Ue=null,mt.set(-1,0,0,0)}}}function o(){let te=!1,ke=null,Ue=null,mt=null;return{setTest:function(dt){dt?de(t.DEPTH_TEST):he(t.DEPTH_TEST)},setMask:function(dt){ke!==dt&&!te&&(t.depthMask(dt),ke=dt)},setFunc:function(dt){if(Ue!==dt){switch(dt){case wG:t.depthFunc(t.NEVER);break;case SG:t.depthFunc(t.ALWAYS);break;case EG:t.depthFunc(t.LESS);break;case fv:t.depthFunc(t.LEQUAL);break;case AG:t.depthFunc(t.EQUAL);break;case TG:t.depthFunc(t.GEQUAL);break;case MG:t.depthFunc(t.GREATER);break;case PG:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ue=dt}},setLocked:function(dt){te=dt},setClear:function(dt){mt!==dt&&(t.clearDepth(dt),mt=dt)},reset:function(){te=!1,ke=null,Ue=null,mt=null}}}function a(){let te=!1,ke=null,Ue=null,mt=null,dt=null,fn=null,an=null,Kn=null,Er=null;return{setTest:function(hn){te||(hn?de(t.STENCIL_TEST):he(t.STENCIL_TEST))},setMask:function(hn){ke!==hn&&!te&&(t.stencilMask(hn),ke=hn)},setFunc:function(hn,jr,Oo){(Ue!==hn||mt!==jr||dt!==Oo)&&(t.stencilFunc(hn,jr,Oo),Ue=hn,mt=jr,dt=Oo)},setOp:function(hn,jr,Oo){(fn!==hn||an!==jr||Kn!==Oo)&&(t.stencilOp(hn,jr,Oo),fn=hn,an=jr,Kn=Oo)},setLocked:function(hn){te=hn},setClear:function(hn){Er!==hn&&(t.clearStencil(hn),Er=hn)},reset:function(){te=!1,ke=null,Ue=null,mt=null,dt=null,fn=null,an=null,Kn=null,Er=null}}}const s=new i,l=new o,c=new a,u=new WeakMap,d=new WeakMap;let f={},p={},g=new WeakMap,y=[],x=null,v=!1,b=null,_=null,S=null,A=null,M=null,P=null,N=null,R=new qe(0,0,0),I=0,D=!1,U=null,X=null,j=null,W=null,H=null;const Y=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,F=0;const $=t.getParameter(t.VERSION);$.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec($)[1]),k=F>=1):$.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),k=F>=2);let q=null,Z={};const ee=t.getParameter(t.SCISSOR_BOX),ne=t.getParameter(t.VIEWPORT),ye=new ln().fromArray(ee),xe=new ln().fromArray(ne);function le(te,ke,Ue,mt){const dt=new Uint8Array(4),fn=t.createTexture();t.bindTexture(te,fn),t.texParameteri(te,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(te,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let an=0;an<Ue;an++)r&&(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)?t.texImage3D(ke,0,t.RGBA,1,1,mt,0,t.RGBA,t.UNSIGNED_BYTE,dt):t.texImage2D(ke+an,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,dt);return fn}const Re={};Re[t.TEXTURE_2D]=le(t.TEXTURE_2D,t.TEXTURE_2D,1),Re[t.TEXTURE_CUBE_MAP]=le(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Re[t.TEXTURE_2D_ARRAY]=le(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Re[t.TEXTURE_3D]=le(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),de(t.DEPTH_TEST),l.setFunc(fv),Le(!1),G(SC),de(t.CULL_FACE),ue(nl);function de(te){f[te]!==!0&&(t.enable(te),f[te]=!0)}function he(te){f[te]!==!1&&(t.disable(te),f[te]=!1)}function _e(te,ke){return p[te]!==ke?(t.bindFramebuffer(te,ke),p[te]=ke,r&&(te===t.DRAW_FRAMEBUFFER&&(p[t.FRAMEBUFFER]=ke),te===t.FRAMEBUFFER&&(p[t.DRAW_FRAMEBUFFER]=ke)),!0):!1}function z(te,ke){let Ue=y,mt=!1;if(te)if(Ue=g.get(ke),Ue===void 0&&(Ue=[],g.set(ke,Ue)),te.isWebGLMultipleRenderTargets){const dt=te.texture;if(Ue.length!==dt.length||Ue[0]!==t.COLOR_ATTACHMENT0){for(let fn=0,an=dt.length;fn<an;fn++)Ue[fn]=t.COLOR_ATTACHMENT0+fn;Ue.length=dt.length,mt=!0}}else Ue[0]!==t.COLOR_ATTACHMENT0&&(Ue[0]=t.COLOR_ATTACHMENT0,mt=!0);else Ue[0]!==t.BACK&&(Ue[0]=t.BACK,mt=!0);mt&&(n.isWebGL2?t.drawBuffers(Ue):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ue))}function ve(te){return x!==te?(t.useProgram(te),x=te,!0):!1}const se={[Zl]:t.FUNC_ADD,[sG]:t.FUNC_SUBTRACT,[lG]:t.FUNC_REVERSE_SUBTRACT};if(r)se[MC]=t.MIN,se[PC]=t.MAX;else{const te=e.get("EXT_blend_minmax");te!==null&&(se[MC]=te.MIN_EXT,se[PC]=te.MAX_EXT)}const Se={[cG]:t.ZERO,[uG]:t.ONE,[dG]:t.SRC_COLOR,[ow]:t.SRC_ALPHA,[vG]:t.SRC_ALPHA_SATURATE,[mG]:t.DST_COLOR,[hG]:t.DST_ALPHA,[fG]:t.ONE_MINUS_SRC_COLOR,[aw]:t.ONE_MINUS_SRC_ALPHA,[gG]:t.ONE_MINUS_DST_COLOR,[pG]:t.ONE_MINUS_DST_ALPHA,[yG]:t.CONSTANT_COLOR,[xG]:t.ONE_MINUS_CONSTANT_COLOR,[bG]:t.CONSTANT_ALPHA,[_G]:t.ONE_MINUS_CONSTANT_ALPHA};function ue(te,ke,Ue,mt,dt,fn,an,Kn,Er,hn){if(te===nl){v===!0&&(he(t.BLEND),v=!1);return}if(v===!1&&(de(t.BLEND),v=!0),te!==aG){if(te!==b||hn!==D){if((_!==Zl||M!==Zl)&&(t.blendEquation(t.FUNC_ADD),_=Zl,M=Zl),hn)switch(te){case td:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case EC:t.blendFunc(t.ONE,t.ONE);break;case AC:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case TC:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case td:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case EC:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case AC:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case TC:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}S=null,A=null,P=null,N=null,R.set(0,0,0),I=0,b=te,D=hn}return}dt=dt||ke,fn=fn||Ue,an=an||mt,(ke!==_||dt!==M)&&(t.blendEquationSeparate(se[ke],se[dt]),_=ke,M=dt),(Ue!==S||mt!==A||fn!==P||an!==N)&&(t.blendFuncSeparate(Se[Ue],Se[mt],Se[fn],Se[an]),S=Ue,A=mt,P=fn,N=an),(Kn.equals(R)===!1||Er!==I)&&(t.blendColor(Kn.r,Kn.g,Kn.b,Er),R.copy(Kn),I=Er),b=te,D=!1}function Be(te,ke){te.side===as?he(t.CULL_FACE):de(t.CULL_FACE);let Ue=te.side===Ci;ke&&(Ue=!Ue),Le(Ue),te.blending===td&&te.transparent===!1?ue(nl):ue(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),s.setMask(te.colorWrite);const mt=te.stencilWrite;c.setTest(mt),mt&&(c.setMask(te.stencilWriteMask),c.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),c.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),oe(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?de(t.SAMPLE_ALPHA_TO_COVERAGE):he(t.SAMPLE_ALPHA_TO_COVERAGE)}function Le(te){U!==te&&(te?t.frontFace(t.CW):t.frontFace(t.CCW),U=te)}function G(te){te!==rG?(de(t.CULL_FACE),te!==X&&(te===SC?t.cullFace(t.BACK):te===iG?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):he(t.CULL_FACE),X=te}function B(te){te!==j&&(k&&t.lineWidth(te),j=te)}function oe(te,ke,Ue){te?(de(t.POLYGON_OFFSET_FILL),(W!==ke||H!==Ue)&&(t.polygonOffset(ke,Ue),W=ke,H=Ue)):he(t.POLYGON_OFFSET_FILL)}function Ce(te){te?de(t.SCISSOR_TEST):he(t.SCISSOR_TEST)}function Pe(te){te===void 0&&(te=t.TEXTURE0+Y-1),q!==te&&(t.activeTexture(te),q=te)}function Ee(te,ke,Ue){Ue===void 0&&(q===null?Ue=t.TEXTURE0+Y-1:Ue=q);let mt=Z[Ue];mt===void 0&&(mt={type:void 0,texture:void 0},Z[Ue]=mt),(mt.type!==te||mt.texture!==ke)&&(q!==Ue&&(t.activeTexture(Ue),q=Ue),t.bindTexture(te,ke||Re[te]),mt.type=te,mt.texture=ke)}function tt(){const te=Z[q];te!==void 0&&te.type!==void 0&&(t.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function je(){try{t.compressedTexImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function He(){try{t.compressedTexImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ct(){try{t.texSubImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function gt(){try{t.texSubImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Oe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Gt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function kt(){try{t.texStorage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function _t(){try{t.texStorage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function lt(){try{t.texImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Xe(){try{t.texImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function pt(te){ye.equals(te)===!1&&(t.scissor(te.x,te.y,te.z,te.w),ye.copy(te))}function qt(te){xe.equals(te)===!1&&(t.viewport(te.x,te.y,te.z,te.w),xe.copy(te))}function Ke(te,ke){let Ue=d.get(ke);Ue===void 0&&(Ue=new WeakMap,d.set(ke,Ue));let mt=Ue.get(te);mt===void 0&&(mt=t.getUniformBlockIndex(ke,te.name),Ue.set(te,mt))}function Ye(te,ke){const mt=d.get(ke).get(te);u.get(ke)!==mt&&(t.uniformBlockBinding(ke,mt,te.__bindingPointIndex),u.set(ke,mt))}function Te(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},q=null,Z={},p={},g=new WeakMap,y=[],x=null,v=!1,b=null,_=null,S=null,A=null,M=null,P=null,N=null,R=new qe(0,0,0),I=0,D=!1,U=null,X=null,j=null,W=null,H=null,ye.set(0,0,t.canvas.width,t.canvas.height),xe.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:de,disable:he,bindFramebuffer:_e,drawBuffers:z,useProgram:ve,setBlending:ue,setMaterial:Be,setFlipSided:Le,setCullFace:G,setLineWidth:B,setPolygonOffset:oe,setScissorTest:Ce,activeTexture:Pe,bindTexture:Ee,unbindTexture:tt,compressedTexImage2D:je,compressedTexImage3D:He,texImage2D:lt,texImage3D:Xe,updateUBOMapping:Ke,uniformBlockBinding:Ye,texStorage2D:kt,texStorage3D:_t,texSubImage2D:ct,texSubImage3D:gt,compressedTexSubImage2D:Oe,compressedTexSubImage3D:Gt,scissor:pt,viewport:qt,reset:Te}}function dge(t,e,n,r,i,o,a){const s=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let d;const f=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(G,B){return p?new OffscreenCanvas(G,B):Ev("canvas")}function y(G,B,oe,Ce){let Pe=1;if((G.width>Ce||G.height>Ce)&&(Pe=Ce/Math.max(G.width,G.height)),Pe<1||B===!0)if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap){const Ee=B?cw:Math.floor,tt=Ee(Pe*G.width),je=Ee(Pe*G.height);d===void 0&&(d=g(tt,je));const He=oe?g(tt,je):d;return He.width=tt,He.height=je,He.getContext("2d").drawImage(G,0,0,tt,je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+G.width+"x"+G.height+") to ("+tt+"x"+je+")."),He}else return"data"in G&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+G.width+"x"+G.height+")."),G;return G}function x(G){return rO(G.width)&&rO(G.height)}function v(G){return s?!1:G.wrapS!==si||G.wrapT!==si||G.minFilter!==Qn&&G.minFilter!==tr}function b(G,B){return G.generateMipmaps&&B&&G.minFilter!==Qn&&G.minFilter!==tr}function _(G){t.generateMipmap(G)}function S(G,B,oe,Ce,Pe=!1){if(s===!1)return B;if(G!==null){if(t[G]!==void 0)return t[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let Ee=B;if(B===t.RED&&(oe===t.FLOAT&&(Ee=t.R32F),oe===t.HALF_FLOAT&&(Ee=t.R16F),oe===t.UNSIGNED_BYTE&&(Ee=t.R8)),B===t.RED_INTEGER&&(oe===t.UNSIGNED_BYTE&&(Ee=t.R8UI),oe===t.UNSIGNED_SHORT&&(Ee=t.R16UI),oe===t.UNSIGNED_INT&&(Ee=t.R32UI),oe===t.BYTE&&(Ee=t.R8I),oe===t.SHORT&&(Ee=t.R16I),oe===t.INT&&(Ee=t.R32I)),B===t.RG&&(oe===t.FLOAT&&(Ee=t.RG32F),oe===t.HALF_FLOAT&&(Ee=t.RG16F),oe===t.UNSIGNED_BYTE&&(Ee=t.RG8)),B===t.RGBA){const tt=Pe?bv:sn.getTransfer(Ce);oe===t.FLOAT&&(Ee=t.RGBA32F),oe===t.HALF_FLOAT&&(Ee=t.RGBA16F),oe===t.UNSIGNED_BYTE&&(Ee=tt===yn?t.SRGB8_ALPHA8:t.RGBA8),oe===t.UNSIGNED_SHORT_4_4_4_4&&(Ee=t.RGBA4),oe===t.UNSIGNED_SHORT_5_5_5_1&&(Ee=t.RGB5_A1)}return(Ee===t.R16F||Ee===t.R32F||Ee===t.RG16F||Ee===t.RG32F||Ee===t.RGBA16F||Ee===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ee}function A(G,B,oe){return b(G,oe)===!0||G.isFramebufferTexture&&G.minFilter!==Qn&&G.minFilter!==tr?Math.log2(Math.max(B.width,B.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?B.mipmaps.length:1}function M(G){return G===Qn||G===sw||G===Ag?t.NEAREST:t.LINEAR}function P(G){const B=G.target;B.removeEventListener("dispose",P),R(B),B.isVideoTexture&&u.delete(B)}function N(G){const B=G.target;B.removeEventListener("dispose",N),D(B)}function R(G){const B=r.get(G);if(B.__webglInit===void 0)return;const oe=G.source,Ce=f.get(oe);if(Ce){const Pe=Ce[B.__cacheKey];Pe.usedTimes--,Pe.usedTimes===0&&I(G),Object.keys(Ce).length===0&&f.delete(oe)}r.remove(G)}function I(G){const B=r.get(G);t.deleteTexture(B.__webglTexture);const oe=G.source,Ce=f.get(oe);delete Ce[B.__cacheKey],a.memory.textures--}function D(G){const B=G.texture,oe=r.get(G),Ce=r.get(B);if(Ce.__webglTexture!==void 0&&(t.deleteTexture(Ce.__webglTexture),a.memory.textures--),G.depthTexture&&G.depthTexture.dispose(),G.isWebGLCubeRenderTarget)for(let Pe=0;Pe<6;Pe++){if(Array.isArray(oe.__webglFramebuffer[Pe]))for(let Ee=0;Ee<oe.__webglFramebuffer[Pe].length;Ee++)t.deleteFramebuffer(oe.__webglFramebuffer[Pe][Ee]);else t.deleteFramebuffer(oe.__webglFramebuffer[Pe]);oe.__webglDepthbuffer&&t.deleteRenderbuffer(oe.__webglDepthbuffer[Pe])}else{if(Array.isArray(oe.__webglFramebuffer))for(let Pe=0;Pe<oe.__webglFramebuffer.length;Pe++)t.deleteFramebuffer(oe.__webglFramebuffer[Pe]);else t.deleteFramebuffer(oe.__webglFramebuffer);if(oe.__webglDepthbuffer&&t.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&t.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Pe=0;Pe<oe.__webglColorRenderbuffer.length;Pe++)oe.__webglColorRenderbuffer[Pe]&&t.deleteRenderbuffer(oe.__webglColorRenderbuffer[Pe]);oe.__webglDepthRenderbuffer&&t.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(G.isWebGLMultipleRenderTargets)for(let Pe=0,Ee=B.length;Pe<Ee;Pe++){const tt=r.get(B[Pe]);tt.__webglTexture&&(t.deleteTexture(tt.__webglTexture),a.memory.textures--),r.remove(B[Pe])}r.remove(B),r.remove(G)}let U=0;function X(){U=0}function j(){const G=U;return G>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+i.maxTextures),U+=1,G}function W(G){const B=[];return B.push(G.wrapS),B.push(G.wrapT),B.push(G.wrapR||0),B.push(G.magFilter),B.push(G.minFilter),B.push(G.anisotropy),B.push(G.internalFormat),B.push(G.format),B.push(G.type),B.push(G.generateMipmaps),B.push(G.premultiplyAlpha),B.push(G.flipY),B.push(G.unpackAlignment),B.push(G.colorSpace),B.join()}function H(G,B){const oe=r.get(G);if(G.isVideoTexture&&Be(G),G.isRenderTargetTexture===!1&&G.version>0&&oe.__version!==G.version){const Ce=G.image;if(Ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ye(oe,G,B);return}}n.bindTexture(t.TEXTURE_2D,oe.__webglTexture,t.TEXTURE0+B)}function Y(G,B){const oe=r.get(G);if(G.version>0&&oe.__version!==G.version){ye(oe,G,B);return}n.bindTexture(t.TEXTURE_2D_ARRAY,oe.__webglTexture,t.TEXTURE0+B)}function k(G,B){const oe=r.get(G);if(G.version>0&&oe.__version!==G.version){ye(oe,G,B);return}n.bindTexture(t.TEXTURE_3D,oe.__webglTexture,t.TEXTURE0+B)}function F(G,B){const oe=r.get(G);if(G.version>0&&oe.__version!==G.version){xe(oe,G,B);return}n.bindTexture(t.TEXTURE_CUBE_MAP,oe.__webglTexture,t.TEXTURE0+B)}const $={[mv]:t.REPEAT,[si]:t.CLAMP_TO_EDGE,[gv]:t.MIRRORED_REPEAT},q={[Qn]:t.NEAREST,[sw]:t.NEAREST_MIPMAP_NEAREST,[Ag]:t.NEAREST_MIPMAP_LINEAR,[tr]:t.LINEAR,[UN]:t.LINEAR_MIPMAP_NEAREST,[kc]:t.LINEAR_MIPMAP_LINEAR},Z={[JG]:t.NEVER,[r9]:t.ALWAYS,[ZG]:t.LESS,[XN]:t.LEQUAL,[QG]:t.EQUAL,[n9]:t.GEQUAL,[e9]:t.GREATER,[t9]:t.NOTEQUAL};function ee(G,B,oe){if(oe?(t.texParameteri(G,t.TEXTURE_WRAP_S,$[B.wrapS]),t.texParameteri(G,t.TEXTURE_WRAP_T,$[B.wrapT]),(G===t.TEXTURE_3D||G===t.TEXTURE_2D_ARRAY)&&t.texParameteri(G,t.TEXTURE_WRAP_R,$[B.wrapR]),t.texParameteri(G,t.TEXTURE_MAG_FILTER,q[B.magFilter]),t.texParameteri(G,t.TEXTURE_MIN_FILTER,q[B.minFilter])):(t.texParameteri(G,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(G,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(G===t.TEXTURE_3D||G===t.TEXTURE_2D_ARRAY)&&t.texParameteri(G,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(B.wrapS!==si||B.wrapT!==si)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(G,t.TEXTURE_MAG_FILTER,M(B.magFilter)),t.texParameteri(G,t.TEXTURE_MIN_FILTER,M(B.minFilter)),B.minFilter!==Qn&&B.minFilter!==tr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),B.compareFunction&&(t.texParameteri(G,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(G,t.TEXTURE_COMPARE_FUNC,Z[B.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ce=e.get("EXT_texture_filter_anisotropic");if(B.magFilter===Qn||B.minFilter!==Ag&&B.minFilter!==kc||B.type===Ra&&e.has("OES_texture_float_linear")===!1||s===!1&&B.type===Gh&&e.has("OES_texture_half_float_linear")===!1)return;(B.anisotropy>1||r.get(B).__currentAnisotropy)&&(t.texParameterf(G,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,i.getMaxAnisotropy())),r.get(B).__currentAnisotropy=B.anisotropy)}}function ne(G,B){let oe=!1;G.__webglInit===void 0&&(G.__webglInit=!0,B.addEventListener("dispose",P));const Ce=B.source;let Pe=f.get(Ce);Pe===void 0&&(Pe={},f.set(Ce,Pe));const Ee=W(B);if(Ee!==G.__cacheKey){Pe[Ee]===void 0&&(Pe[Ee]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,oe=!0),Pe[Ee].usedTimes++;const tt=Pe[G.__cacheKey];tt!==void 0&&(Pe[G.__cacheKey].usedTimes--,tt.usedTimes===0&&I(B)),G.__cacheKey=Ee,G.__webglTexture=Pe[Ee].texture}return oe}function ye(G,B,oe){let Ce=t.TEXTURE_2D;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(Ce=t.TEXTURE_2D_ARRAY),B.isData3DTexture&&(Ce=t.TEXTURE_3D);const Pe=ne(G,B),Ee=B.source;n.bindTexture(Ce,G.__webglTexture,t.TEXTURE0+oe);const tt=r.get(Ee);if(Ee.version!==tt.__version||Pe===!0){n.activeTexture(t.TEXTURE0+oe);const je=sn.getPrimaries(sn.workingColorSpace),He=B.colorSpace===vo?null:sn.getPrimaries(B.colorSpace),ct=B.colorSpace===vo||je===He?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,B.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,B.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ct);const gt=v(B)&&x(B.image)===!1;let Oe=y(B.image,gt,!1,i.maxTextureSize);Oe=Le(B,Oe);const Gt=x(Oe)||s,kt=o.convert(B.format,B.colorSpace);let _t=o.convert(B.type),lt=S(B.internalFormat,kt,_t,B.colorSpace,B.isVideoTexture);ee(Ce,B,Gt);let Xe;const pt=B.mipmaps,qt=s&&B.isVideoTexture!==!0&&lt!==WN,Ke=tt.__version===void 0||Pe===!0,Ye=A(B,Oe,Gt);if(B.isDepthTexture)lt=t.DEPTH_COMPONENT,s?B.type===Ra?lt=t.DEPTH_COMPONENT32F:B.type===Ys?lt=t.DEPTH_COMPONENT24:B.type===bc?lt=t.DEPTH24_STENCIL8:lt=t.DEPTH_COMPONENT16:B.type===Ra&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),B.format===_c&&lt===t.DEPTH_COMPONENT&&B.type!==lS&&B.type!==Ys&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),B.type=Ys,_t=o.convert(B.type)),B.format===pd&&lt===t.DEPTH_COMPONENT&&(lt=t.DEPTH_STENCIL,B.type!==bc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),B.type=bc,_t=o.convert(B.type))),Ke&&(qt?n.texStorage2D(t.TEXTURE_2D,1,lt,Oe.width,Oe.height):n.texImage2D(t.TEXTURE_2D,0,lt,Oe.width,Oe.height,0,kt,_t,null));else if(B.isDataTexture)if(pt.length>0&&Gt){qt&&Ke&&n.texStorage2D(t.TEXTURE_2D,Ye,lt,pt[0].width,pt[0].height);for(let Te=0,te=pt.length;Te<te;Te++)Xe=pt[Te],qt?n.texSubImage2D(t.TEXTURE_2D,Te,0,0,Xe.width,Xe.height,kt,_t,Xe.data):n.texImage2D(t.TEXTURE_2D,Te,lt,Xe.width,Xe.height,0,kt,_t,Xe.data);B.generateMipmaps=!1}else qt?(Ke&&n.texStorage2D(t.TEXTURE_2D,Ye,lt,Oe.width,Oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Oe.width,Oe.height,kt,_t,Oe.data)):n.texImage2D(t.TEXTURE_2D,0,lt,Oe.width,Oe.height,0,kt,_t,Oe.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){qt&&Ke&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ye,lt,pt[0].width,pt[0].height,Oe.depth);for(let Te=0,te=pt.length;Te<te;Te++)Xe=pt[Te],B.format!==Ei?kt!==null?qt?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Te,0,0,0,Xe.width,Xe.height,Oe.depth,kt,Xe.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Te,lt,Xe.width,Xe.height,Oe.depth,0,Xe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qt?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Te,0,0,0,Xe.width,Xe.height,Oe.depth,kt,_t,Xe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Te,lt,Xe.width,Xe.height,Oe.depth,0,kt,_t,Xe.data)}else{qt&&Ke&&n.texStorage2D(t.TEXTURE_2D,Ye,lt,pt[0].width,pt[0].height);for(let Te=0,te=pt.length;Te<te;Te++)Xe=pt[Te],B.format!==Ei?kt!==null?qt?n.compressedTexSubImage2D(t.TEXTURE_2D,Te,0,0,Xe.width,Xe.height,kt,Xe.data):n.compressedTexImage2D(t.TEXTURE_2D,Te,lt,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qt?n.texSubImage2D(t.TEXTURE_2D,Te,0,0,Xe.width,Xe.height,kt,_t,Xe.data):n.texImage2D(t.TEXTURE_2D,Te,lt,Xe.width,Xe.height,0,kt,_t,Xe.data)}else if(B.isDataArrayTexture)qt?(Ke&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ye,lt,Oe.width,Oe.height,Oe.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Oe.width,Oe.height,Oe.depth,kt,_t,Oe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,lt,Oe.width,Oe.height,Oe.depth,0,kt,_t,Oe.data);else if(B.isData3DTexture)qt?(Ke&&n.texStorage3D(t.TEXTURE_3D,Ye,lt,Oe.width,Oe.height,Oe.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Oe.width,Oe.height,Oe.depth,kt,_t,Oe.data)):n.texImage3D(t.TEXTURE_3D,0,lt,Oe.width,Oe.height,Oe.depth,0,kt,_t,Oe.data);else if(B.isFramebufferTexture){if(Ke)if(qt)n.texStorage2D(t.TEXTURE_2D,Ye,lt,Oe.width,Oe.height);else{let Te=Oe.width,te=Oe.height;for(let ke=0;ke<Ye;ke++)n.texImage2D(t.TEXTURE_2D,ke,lt,Te,te,0,kt,_t,null),Te>>=1,te>>=1}}else if(pt.length>0&&Gt){qt&&Ke&&n.texStorage2D(t.TEXTURE_2D,Ye,lt,pt[0].width,pt[0].height);for(let Te=0,te=pt.length;Te<te;Te++)Xe=pt[Te],qt?n.texSubImage2D(t.TEXTURE_2D,Te,0,0,kt,_t,Xe):n.texImage2D(t.TEXTURE_2D,Te,lt,kt,_t,Xe);B.generateMipmaps=!1}else qt?(Ke&&n.texStorage2D(t.TEXTURE_2D,Ye,lt,Oe.width,Oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,kt,_t,Oe)):n.texImage2D(t.TEXTURE_2D,0,lt,kt,_t,Oe);b(B,Gt)&&_(Ce),tt.__version=Ee.version,B.onUpdate&&B.onUpdate(B)}G.__version=B.version}function xe(G,B,oe){if(B.image.length!==6)return;const Ce=ne(G,B),Pe=B.source;n.bindTexture(t.TEXTURE_CUBE_MAP,G.__webglTexture,t.TEXTURE0+oe);const Ee=r.get(Pe);if(Pe.version!==Ee.__version||Ce===!0){n.activeTexture(t.TEXTURE0+oe);const tt=sn.getPrimaries(sn.workingColorSpace),je=B.colorSpace===vo?null:sn.getPrimaries(B.colorSpace),He=B.colorSpace===vo||tt===je?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,B.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,B.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,He);const ct=B.isCompressedTexture||B.image[0].isCompressedTexture,gt=B.image[0]&&B.image[0].isDataTexture,Oe=[];for(let Te=0;Te<6;Te++)!ct&&!gt?Oe[Te]=y(B.image[Te],!1,!0,i.maxCubemapSize):Oe[Te]=gt?B.image[Te].image:B.image[Te],Oe[Te]=Le(B,Oe[Te]);const Gt=Oe[0],kt=x(Gt)||s,_t=o.convert(B.format,B.colorSpace),lt=o.convert(B.type),Xe=S(B.internalFormat,_t,lt,B.colorSpace),pt=s&&B.isVideoTexture!==!0,qt=Ee.__version===void 0||Ce===!0;let Ke=A(B,Gt,kt);ee(t.TEXTURE_CUBE_MAP,B,kt);let Ye;if(ct){pt&&qt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ke,Xe,Gt.width,Gt.height);for(let Te=0;Te<6;Te++){Ye=Oe[Te].mipmaps;for(let te=0;te<Ye.length;te++){const ke=Ye[te];B.format!==Ei?_t!==null?pt?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,te,0,0,ke.width,ke.height,_t,ke.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,te,Xe,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):pt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,te,0,0,ke.width,ke.height,_t,lt,ke.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,te,Xe,ke.width,ke.height,0,_t,lt,ke.data)}}}else{Ye=B.mipmaps,pt&&qt&&(Ye.length>0&&Ke++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Ke,Xe,Oe[0].width,Oe[0].height));for(let Te=0;Te<6;Te++)if(gt){pt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,Oe[Te].width,Oe[Te].height,_t,lt,Oe[Te].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,Xe,Oe[Te].width,Oe[Te].height,0,_t,lt,Oe[Te].data);for(let te=0;te<Ye.length;te++){const Ue=Ye[te].image[Te].image;pt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,te+1,0,0,Ue.width,Ue.height,_t,lt,Ue.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,te+1,Xe,Ue.width,Ue.height,0,_t,lt,Ue.data)}}else{pt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,_t,lt,Oe[Te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,Xe,_t,lt,Oe[Te]);for(let te=0;te<Ye.length;te++){const ke=Ye[te];pt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,te+1,0,0,_t,lt,ke.image[Te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,te+1,Xe,_t,lt,ke.image[Te])}}}b(B,kt)&&_(t.TEXTURE_CUBE_MAP),Ee.__version=Pe.version,B.onUpdate&&B.onUpdate(B)}G.__version=B.version}function le(G,B,oe,Ce,Pe,Ee){const tt=o.convert(oe.format,oe.colorSpace),je=o.convert(oe.type),He=S(oe.internalFormat,tt,je,oe.colorSpace);if(!r.get(B).__hasExternalTextures){const gt=Math.max(1,B.width>>Ee),Oe=Math.max(1,B.height>>Ee);Pe===t.TEXTURE_3D||Pe===t.TEXTURE_2D_ARRAY?n.texImage3D(Pe,Ee,He,gt,Oe,B.depth,0,tt,je,null):n.texImage2D(Pe,Ee,He,gt,Oe,0,tt,je,null)}n.bindFramebuffer(t.FRAMEBUFFER,G),ue(B)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ce,Pe,r.get(oe).__webglTexture,0,Se(B)):(Pe===t.TEXTURE_2D||Pe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Pe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ce,Pe,r.get(oe).__webglTexture,Ee),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Re(G,B,oe){if(t.bindRenderbuffer(t.RENDERBUFFER,G),B.depthBuffer&&!B.stencilBuffer){let Ce=s===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(oe||ue(B)){const Pe=B.depthTexture;Pe&&Pe.isDepthTexture&&(Pe.type===Ra?Ce=t.DEPTH_COMPONENT32F:Pe.type===Ys&&(Ce=t.DEPTH_COMPONENT24));const Ee=Se(B);ue(B)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ee,Ce,B.width,B.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ee,Ce,B.width,B.height)}else t.renderbufferStorage(t.RENDERBUFFER,Ce,B.width,B.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,G)}else if(B.depthBuffer&&B.stencilBuffer){const Ce=Se(B);oe&&ue(B)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ce,t.DEPTH24_STENCIL8,B.width,B.height):ue(B)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ce,t.DEPTH24_STENCIL8,B.width,B.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,B.width,B.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,G)}else{const Ce=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let Pe=0;Pe<Ce.length;Pe++){const Ee=Ce[Pe],tt=o.convert(Ee.format,Ee.colorSpace),je=o.convert(Ee.type),He=S(Ee.internalFormat,tt,je,Ee.colorSpace),ct=Se(B);oe&&ue(B)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ct,He,B.width,B.height):ue(B)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ct,He,B.width,B.height):t.renderbufferStorage(t.RENDERBUFFER,He,B.width,B.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function de(G,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,G),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(B.depthTexture).__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),H(B.depthTexture,0);const Ce=r.get(B.depthTexture).__webglTexture,Pe=Se(B);if(B.depthTexture.format===_c)ue(B)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ce,0,Pe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ce,0);else if(B.depthTexture.format===pd)ue(B)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ce,0,Pe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ce,0);else throw new Error("Unknown depthTexture format")}function he(G){const B=r.get(G),oe=G.isWebGLCubeRenderTarget===!0;if(G.depthTexture&&!B.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");de(B.__webglFramebuffer,G)}else if(oe){B.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)n.bindFramebuffer(t.FRAMEBUFFER,B.__webglFramebuffer[Ce]),B.__webglDepthbuffer[Ce]=t.createRenderbuffer(),Re(B.__webglDepthbuffer[Ce],G,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,B.__webglFramebuffer),B.__webglDepthbuffer=t.createRenderbuffer(),Re(B.__webglDepthbuffer,G,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function _e(G,B,oe){const Ce=r.get(G);B!==void 0&&le(Ce.__webglFramebuffer,G,G.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),oe!==void 0&&he(G)}function z(G){const B=G.texture,oe=r.get(G),Ce=r.get(B);G.addEventListener("dispose",N),G.isWebGLMultipleRenderTargets!==!0&&(Ce.__webglTexture===void 0&&(Ce.__webglTexture=t.createTexture()),Ce.__version=B.version,a.memory.textures++);const Pe=G.isWebGLCubeRenderTarget===!0,Ee=G.isWebGLMultipleRenderTargets===!0,tt=x(G)||s;if(Pe){oe.__webglFramebuffer=[];for(let je=0;je<6;je++)if(s&&B.mipmaps&&B.mipmaps.length>0){oe.__webglFramebuffer[je]=[];for(let He=0;He<B.mipmaps.length;He++)oe.__webglFramebuffer[je][He]=t.createFramebuffer()}else oe.__webglFramebuffer[je]=t.createFramebuffer()}else{if(s&&B.mipmaps&&B.mipmaps.length>0){oe.__webglFramebuffer=[];for(let je=0;je<B.mipmaps.length;je++)oe.__webglFramebuffer[je]=t.createFramebuffer()}else oe.__webglFramebuffer=t.createFramebuffer();if(Ee)if(i.drawBuffers){const je=G.texture;for(let He=0,ct=je.length;He<ct;He++){const gt=r.get(je[He]);gt.__webglTexture===void 0&&(gt.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&G.samples>0&&ue(G)===!1){const je=Ee?B:[B];oe.__webglMultisampledFramebuffer=t.createFramebuffer(),oe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let He=0;He<je.length;He++){const ct=je[He];oe.__webglColorRenderbuffer[He]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,oe.__webglColorRenderbuffer[He]);const gt=o.convert(ct.format,ct.colorSpace),Oe=o.convert(ct.type),Gt=S(ct.internalFormat,gt,Oe,ct.colorSpace,G.isXRRenderTarget===!0),kt=Se(G);t.renderbufferStorageMultisample(t.RENDERBUFFER,kt,Gt,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+He,t.RENDERBUFFER,oe.__webglColorRenderbuffer[He])}t.bindRenderbuffer(t.RENDERBUFFER,null),G.depthBuffer&&(oe.__webglDepthRenderbuffer=t.createRenderbuffer(),Re(oe.__webglDepthRenderbuffer,G,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Pe){n.bindTexture(t.TEXTURE_CUBE_MAP,Ce.__webglTexture),ee(t.TEXTURE_CUBE_MAP,B,tt);for(let je=0;je<6;je++)if(s&&B.mipmaps&&B.mipmaps.length>0)for(let He=0;He<B.mipmaps.length;He++)le(oe.__webglFramebuffer[je][He],G,B,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+je,He);else le(oe.__webglFramebuffer[je],G,B,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0);b(B,tt)&&_(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ee){const je=G.texture;for(let He=0,ct=je.length;He<ct;He++){const gt=je[He],Oe=r.get(gt);n.bindTexture(t.TEXTURE_2D,Oe.__webglTexture),ee(t.TEXTURE_2D,gt,tt),le(oe.__webglFramebuffer,G,gt,t.COLOR_ATTACHMENT0+He,t.TEXTURE_2D,0),b(gt,tt)&&_(t.TEXTURE_2D)}n.unbindTexture()}else{let je=t.TEXTURE_2D;if((G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(s?je=G.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(je,Ce.__webglTexture),ee(je,B,tt),s&&B.mipmaps&&B.mipmaps.length>0)for(let He=0;He<B.mipmaps.length;He++)le(oe.__webglFramebuffer[He],G,B,t.COLOR_ATTACHMENT0,je,He);else le(oe.__webglFramebuffer,G,B,t.COLOR_ATTACHMENT0,je,0);b(B,tt)&&_(je),n.unbindTexture()}G.depthBuffer&&he(G)}function ve(G){const B=x(G)||s,oe=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let Ce=0,Pe=oe.length;Ce<Pe;Ce++){const Ee=oe[Ce];if(b(Ee,B)){const tt=G.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,je=r.get(Ee).__webglTexture;n.bindTexture(tt,je),_(tt),n.unbindTexture()}}}function se(G){if(s&&G.samples>0&&ue(G)===!1){const B=G.isWebGLMultipleRenderTargets?G.texture:[G.texture],oe=G.width,Ce=G.height;let Pe=t.COLOR_BUFFER_BIT;const Ee=[],tt=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,je=r.get(G),He=G.isWebGLMultipleRenderTargets===!0;if(He)for(let ct=0;ct<B.length;ct++)n.bindFramebuffer(t.FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,je.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,je.__webglFramebuffer);for(let ct=0;ct<B.length;ct++){Ee.push(t.COLOR_ATTACHMENT0+ct),G.depthBuffer&&Ee.push(tt);const gt=je.__ignoreDepthValues!==void 0?je.__ignoreDepthValues:!1;if(gt===!1&&(G.depthBuffer&&(Pe|=t.DEPTH_BUFFER_BIT),G.stencilBuffer&&(Pe|=t.STENCIL_BUFFER_BIT)),He&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,je.__webglColorRenderbuffer[ct]),gt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[tt]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[tt])),He){const Oe=r.get(B[ct]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Oe,0)}t.blitFramebuffer(0,0,oe,Ce,0,0,oe,Ce,Pe,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ee)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),He)for(let ct=0;ct<B.length;ct++){n.bindFramebuffer(t.FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.RENDERBUFFER,je.__webglColorRenderbuffer[ct]);const gt=r.get(B[ct]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.TEXTURE_2D,gt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,je.__webglMultisampledFramebuffer)}}function Se(G){return Math.min(i.maxSamples,G.samples)}function ue(G){const B=r.get(G);return s&&G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}function Be(G){const B=a.render.frame;u.get(G)!==B&&(u.set(G,B),G.update())}function Le(G,B){const oe=G.colorSpace,Ce=G.format,Pe=G.type;return G.isCompressedTexture===!0||G.isVideoTexture===!0||G.format===lw||oe!==xs&&oe!==vo&&(sn.getTransfer(oe)===yn?s===!1?e.has("EXT_sRGB")===!0&&Ce===Ei?(G.format=lw,G.minFilter=tr,G.generateMipmaps=!1):B=YN.sRGBToLinear(B):(Ce!==Ei||Pe!==fs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),B}this.allocateTextureUnit=j,this.resetTextureUnits=X,this.setTexture2D=H,this.setTexture2DArray=Y,this.setTexture3D=k,this.setTextureCube=F,this.rebindTextures=_e,this.setupRenderTarget=z,this.updateRenderTargetMipmap=ve,this.updateMultisampleRenderTarget=se,this.setupDepthRenderbuffer=he,this.setupFrameBufferTexture=le,this.useMultisampledRTT=ue}function y9(t,e,n){const r=n.isWebGL2;function i(o,a=vo){let s;const l=sn.getTransfer(a);if(o===fs)return t.UNSIGNED_BYTE;if(o===BN)return t.UNSIGNED_SHORT_4_4_4_4;if(o===zN)return t.UNSIGNED_SHORT_5_5_5_1;if(o===jG)return t.BYTE;if(o===UG)return t.SHORT;if(o===lS)return t.UNSIGNED_SHORT;if(o===FN)return t.INT;if(o===Ys)return t.UNSIGNED_INT;if(o===Ra)return t.FLOAT;if(o===Gh)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===FG)return t.ALPHA;if(o===Ei)return t.RGBA;if(o===BG)return t.LUMINANCE;if(o===zG)return t.LUMINANCE_ALPHA;if(o===_c)return t.DEPTH_COMPONENT;if(o===pd)return t.DEPTH_STENCIL;if(o===lw)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===$G)return t.RED;if(o===$N)return t.RED_INTEGER;if(o===HG)return t.RG;if(o===HN)return t.RG_INTEGER;if(o===VN)return t.RGBA_INTEGER;if(o===m_||o===g_||o===v_||o===y_)if(l===yn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===m_)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===g_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===v_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===y_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===m_)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===g_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===v_)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===y_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===OC||o===RC||o===NC||o===IC)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===OC)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===RC)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===NC)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===IC)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===WN)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===kC||o===LC)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===kC)return l===yn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===LC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===DC||o===jC||o===UC||o===FC||o===BC||o===zC||o===$C||o===HC||o===VC||o===WC||o===GC||o===qC||o===XC||o===KC)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===DC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===jC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===UC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===FC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===BC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===zC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===$C)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===HC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===VC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===WC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===GC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===qC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===XC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===KC)return l===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===x_||o===YC||o===JC)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===x_)return l===yn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===YC)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===JC)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===VG||o===ZC||o===QC||o===eO)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(o===x_)return s.COMPRESSED_RED_RGTC1_EXT;if(o===ZC)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===QC)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===eO)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===bc?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class x9 extends Ir{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class oh extends en{constructor(){super(),this.isGroup=!0,this.type="Group"}}const fge={type:"move"};class QT{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new oh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new oh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new oh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const y of e.hand.values()){const x=n.getJointPose(y,r),v=this._getHandJoint(c,y);x!==null&&(v.matrix.fromArray(x.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=x.radius),v.visible=x!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),p=.02,g=.005;c.inputState.pinching&&f>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(fge)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new oh;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class hge extends xl{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,u=null,d=null,f=null,p=null,g=null;const y=n.getContextAttributes();let x=null,v=null;const b=[],_=[],S=new Me;let A=null;const M=new Ir;M.layers.enable(1),M.viewport=new ln;const P=new Ir;P.layers.enable(2),P.viewport=new ln;const N=[M,P],R=new x9;R.layers.enable(1),R.layers.enable(2);let I=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let ne=b[ee];return ne===void 0&&(ne=new QT,b[ee]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(ee){let ne=b[ee];return ne===void 0&&(ne=new QT,b[ee]=ne),ne.getGripSpace()},this.getHand=function(ee){let ne=b[ee];return ne===void 0&&(ne=new QT,b[ee]=ne),ne.getHandSpace()};function U(ee){const ne=_.indexOf(ee.inputSource);if(ne===-1)return;const ye=b[ne];ye!==void 0&&(ye.update(ee.inputSource,ee.frame,c||a),ye.dispatchEvent({type:ee.type,data:ee.inputSource}))}function X(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",X),i.removeEventListener("inputsourceschange",j);for(let ee=0;ee<b.length;ee++){const ne=_[ee];ne!==null&&(_[ee]=null,b[ee].disconnect(ne))}I=null,D=null,e.setRenderTarget(x),p=null,f=null,d=null,i=null,v=null,Z.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(S.width,S.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){o=ee,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){s=ee,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(ee){c=ee},this.getBaseLayer=function(){return f!==null?f:p},this.getBinding=function(){return d},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(ee){if(i=ee,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",X),i.addEventListener("inputsourceschange",j),y.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(S),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ne={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};p=new XRWebGLLayer(i,n,ne),i.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),v=new Fa(p.framebufferWidth,p.framebufferHeight,{format:Ei,type:fs,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ne=null,ye=null,xe=null;y.depth&&(xe=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ne=y.stencil?pd:_c,ye=y.stencil?bc:Ys);const le={colorFormat:n.RGBA8,depthFormat:xe,scaleFactor:o};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(le),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),v=new Fa(f.textureWidth,f.textureHeight,{format:Ei,type:fs,depthTexture:new tI(f.textureWidth,f.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const Re=e.properties.get(v);Re.__ignoreDepthValues=f.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),Z.setContext(i),Z.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function j(ee){for(let ne=0;ne<ee.removed.length;ne++){const ye=ee.removed[ne],xe=_.indexOf(ye);xe>=0&&(_[xe]=null,b[xe].disconnect(ye))}for(let ne=0;ne<ee.added.length;ne++){const ye=ee.added[ne];let xe=_.indexOf(ye);if(xe===-1){for(let Re=0;Re<b.length;Re++)if(Re>=_.length){_.push(ye),xe=Re;break}else if(_[Re]===null){_[Re]=ye,xe=Re;break}if(xe===-1)break}const le=b[xe];le&&le.connect(ye)}}const W=new J,H=new J;function Y(ee,ne,ye){W.setFromMatrixPosition(ne.matrixWorld),H.setFromMatrixPosition(ye.matrixWorld);const xe=W.distanceTo(H),le=ne.projectionMatrix.elements,Re=ye.projectionMatrix.elements,de=le[14]/(le[10]-1),he=le[14]/(le[10]+1),_e=(le[9]+1)/le[5],z=(le[9]-1)/le[5],ve=(le[8]-1)/le[0],se=(Re[8]+1)/Re[0],Se=de*ve,ue=de*se,Be=xe/(-ve+se),Le=Be*-ve;ne.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(Le),ee.translateZ(Be),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert();const G=de+Be,B=he+Be,oe=Se-Le,Ce=ue+(xe-Le),Pe=_e*he/B*G,Ee=z*he/B*G;ee.projectionMatrix.makePerspective(oe,Ce,Pe,Ee,G,B),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}function k(ee,ne){ne===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(ne.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(i===null)return;R.near=P.near=M.near=ee.near,R.far=P.far=M.far=ee.far,(I!==R.near||D!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),I=R.near,D=R.far);const ne=ee.parent,ye=R.cameras;k(R,ne);for(let xe=0;xe<ye.length;xe++)k(ye[xe],ne);ye.length===2?Y(R,M,P):R.projectionMatrix.copy(M.projectionMatrix),F(ee,R,ne)};function F(ee,ne,ye){ye===null?ee.matrix.copy(ne.matrixWorld):(ee.matrix.copy(ye.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(ne.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0),ee.projectionMatrix.copy(ne.projectionMatrix),ee.projectionMatrixInverse.copy(ne.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=Xh*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(f===null&&p===null))return l},this.setFoveation=function(ee){l=ee,f!==null&&(f.fixedFoveation=ee),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=ee)};let $=null;function q(ee,ne){if(u=ne.getViewerPose(c||a),g=ne,u!==null){const ye=u.views;p!==null&&(e.setRenderTargetFramebuffer(v,p.framebuffer),e.setRenderTarget(v));let xe=!1;ye.length!==R.cameras.length&&(R.cameras.length=0,xe=!0);for(let le=0;le<ye.length;le++){const Re=ye[le];let de=null;if(p!==null)de=p.getViewport(Re);else{const _e=d.getViewSubImage(f,Re);de=_e.viewport,le===0&&(e.setRenderTargetTextures(v,_e.colorTexture,f.ignoreDepthValues?void 0:_e.depthStencilTexture),e.setRenderTarget(v))}let he=N[le];he===void 0&&(he=new Ir,he.layers.enable(le),he.viewport=new ln,N[le]=he),he.matrix.fromArray(Re.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(Re.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(de.x,de.y,de.width,de.height),le===0&&(R.matrix.copy(he.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),xe===!0&&R.cameras.push(he)}}for(let ye=0;ye<b.length;ye++){const xe=_[ye],le=b[ye];xe!==null&&le!==void 0&&le.update(xe,ne,c||a)}$&&$(ee,ne),ne.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ne}),g=null}const Z=new f9;Z.setAnimationLoop(q),this.setAnimationLoop=function(ee){$=ee},this.dispose=function(){}}}function pge(t,e){function n(x,v){x.matrixAutoUpdate===!0&&x.updateMatrix(),v.value.copy(x.matrix)}function r(x,v){v.color.getRGB(x.fogColor.value,l9(t)),v.isFog?(x.fogNear.value=v.near,x.fogFar.value=v.far):v.isFogExp2&&(x.fogDensity.value=v.density)}function i(x,v,b,_,S){v.isMeshBasicMaterial||v.isMeshLambertMaterial?o(x,v):v.isMeshToonMaterial?(o(x,v),d(x,v)):v.isMeshPhongMaterial?(o(x,v),u(x,v)):v.isMeshStandardMaterial?(o(x,v),f(x,v),v.isMeshPhysicalMaterial&&p(x,v,S)):v.isMeshMatcapMaterial?(o(x,v),g(x,v)):v.isMeshDepthMaterial?o(x,v):v.isMeshDistanceMaterial?(o(x,v),y(x,v)):v.isMeshNormalMaterial?o(x,v):v.isLineBasicMaterial?(a(x,v),v.isLineDashedMaterial&&s(x,v)):v.isPointsMaterial?l(x,v,b,_):v.isSpriteMaterial?c(x,v):v.isShadowMaterial?(x.color.value.copy(v.color),x.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function o(x,v){x.opacity.value=v.opacity,v.color&&x.diffuse.value.copy(v.color),v.emissive&&x.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.bumpMap&&(x.bumpMap.value=v.bumpMap,n(v.bumpMap,x.bumpMapTransform),x.bumpScale.value=v.bumpScale,v.side===Ci&&(x.bumpScale.value*=-1)),v.normalMap&&(x.normalMap.value=v.normalMap,n(v.normalMap,x.normalMapTransform),x.normalScale.value.copy(v.normalScale),v.side===Ci&&x.normalScale.value.negate()),v.displacementMap&&(x.displacementMap.value=v.displacementMap,n(v.displacementMap,x.displacementMapTransform),x.displacementScale.value=v.displacementScale,x.displacementBias.value=v.displacementBias),v.emissiveMap&&(x.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,x.emissiveMapTransform)),v.specularMap&&(x.specularMap.value=v.specularMap,n(v.specularMap,x.specularMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest);const b=e.get(v).envMap;if(b&&(x.envMap.value=b,x.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=v.reflectivity,x.ior.value=v.ior,x.refractionRatio.value=v.refractionRatio),v.lightMap){x.lightMap.value=v.lightMap;const _=t._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=v.lightMapIntensity*_,n(v.lightMap,x.lightMapTransform)}v.aoMap&&(x.aoMap.value=v.aoMap,x.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,x.aoMapTransform))}function a(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform))}function s(x,v){x.dashSize.value=v.dashSize,x.totalSize.value=v.dashSize+v.gapSize,x.scale.value=v.scale}function l(x,v,b,_){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.size.value=v.size*b,x.scale.value=_*.5,v.map&&(x.map.value=v.map,n(v.map,x.uvTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function c(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.rotation.value=v.rotation,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function u(x,v){x.specular.value.copy(v.specular),x.shininess.value=Math.max(v.shininess,1e-4)}function d(x,v){v.gradientMap&&(x.gradientMap.value=v.gradientMap)}function f(x,v){x.metalness.value=v.metalness,v.metalnessMap&&(x.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,x.metalnessMapTransform)),x.roughness.value=v.roughness,v.roughnessMap&&(x.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,x.roughnessMapTransform)),e.get(v).envMap&&(x.envMapIntensity.value=v.envMapIntensity)}function p(x,v,b){x.ior.value=v.ior,v.sheen>0&&(x.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),x.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(x.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,x.sheenColorMapTransform)),v.sheenRoughnessMap&&(x.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,x.sheenRoughnessMapTransform))),v.clearcoat>0&&(x.clearcoat.value=v.clearcoat,x.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(x.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,x.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(x.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Ci&&x.clearcoatNormalScale.value.negate())),v.iridescence>0&&(x.iridescence.value=v.iridescence,x.iridescenceIOR.value=v.iridescenceIOR,x.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(x.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,x.iridescenceMapTransform)),v.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),v.transmission>0&&(x.transmission.value=v.transmission,x.transmissionSamplerMap.value=b.texture,x.transmissionSamplerSize.value.set(b.width,b.height),v.transmissionMap&&(x.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,x.transmissionMapTransform)),x.thickness.value=v.thickness,v.thicknessMap&&(x.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=v.attenuationDistance,x.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(x.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(x.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=v.specularIntensity,x.specularColor.value.copy(v.specularColor),v.specularColorMap&&(x.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,x.specularColorMapTransform)),v.specularIntensityMap&&(x.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,x.specularIntensityMapTransform))}function g(x,v){v.matcap&&(x.matcap.value=v.matcap)}function y(x,v){const b=e.get(v).light;x.referencePosition.value.setFromMatrixPosition(b.matrixWorld),x.nearDistance.value=b.shadow.camera.near,x.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function mge(t,e,n,r){let i={},o={},a=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(b,_){const S=_.program;r.uniformBlockBinding(b,S)}function c(b,_){let S=i[b.id];S===void 0&&(g(b),S=u(b),i[b.id]=S,b.addEventListener("dispose",x));const A=_.program;r.updateUBOMapping(b,A);const M=e.render.frame;o[b.id]!==M&&(f(b),o[b.id]=M)}function u(b){const _=d();b.__bindingPointIndex=_;const S=t.createBuffer(),A=b.__size,M=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,A,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,S),S}function d(){for(let b=0;b<s;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(b){const _=i[b.id],S=b.uniforms,A=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let M=0,P=S.length;M<P;M++){const N=Array.isArray(S[M])?S[M]:[S[M]];for(let R=0,I=N.length;R<I;R++){const D=N[R];if(p(D,M,R,A)===!0){const U=D.__offset,X=Array.isArray(D.value)?D.value:[D.value];let j=0;for(let W=0;W<X.length;W++){const H=X[W],Y=y(H);typeof H=="number"||typeof H=="boolean"?(D.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,U+j,D.__data)):H.isMatrix3?(D.__data[0]=H.elements[0],D.__data[1]=H.elements[1],D.__data[2]=H.elements[2],D.__data[3]=0,D.__data[4]=H.elements[3],D.__data[5]=H.elements[4],D.__data[6]=H.elements[5],D.__data[7]=0,D.__data[8]=H.elements[6],D.__data[9]=H.elements[7],D.__data[10]=H.elements[8],D.__data[11]=0):(H.toArray(D.__data,j),j+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,U,D.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(b,_,S,A){const M=b.value,P=_+"_"+S;if(A[P]===void 0)return typeof M=="number"||typeof M=="boolean"?A[P]=M:A[P]=M.clone(),!0;{const N=A[P];if(typeof M=="number"||typeof M=="boolean"){if(N!==M)return A[P]=M,!0}else if(N.equals(M)===!1)return N.copy(M),!0}return!1}function g(b){const _=b.uniforms;let S=0;const A=16;for(let P=0,N=_.length;P<N;P++){const R=Array.isArray(_[P])?_[P]:[_[P]];for(let I=0,D=R.length;I<D;I++){const U=R[I],X=Array.isArray(U.value)?U.value:[U.value];for(let j=0,W=X.length;j<W;j++){const H=X[j],Y=y(H),k=S%A;k!==0&&A-k<Y.boundary&&(S+=A-k),U.__data=new Float32Array(Y.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=S,S+=Y.storage}}}const M=S%A;return M>0&&(S+=A-M),b.__size=S,b.__cache={},this}function y(b){const _={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function x(b){const _=b.target;_.removeEventListener("dispose",x);const S=a.indexOf(_.__bindingPointIndex);a.splice(S,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete o[_.id]}function v(){for(const b in i)t.deleteBuffer(i[b]);a=[],i={},o={}}return{bind:l,update:c,dispose:v}}class iI{constructor(e={}){const{canvas:n=o9(),context:r=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let f;r!==null?f=r.getContextAttributes().alpha:f=a;const p=new Uint32Array(4),g=new Int32Array(4);let y=null,x=null;const v=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=gr,this._useLegacyLights=!1,this.toneMapping=ds,this.toneMappingExposure=1;const _=this;let S=!1,A=0,M=0,P=null,N=-1,R=null;const I=new ln,D=new ln;let U=null;const X=new qe(0);let j=0,W=n.width,H=n.height,Y=1,k=null,F=null;const $=new ln(0,0,W,H),q=new ln(0,0,W,H);let Z=!1;const ee=new Fy;let ne=!1,ye=!1,xe=null;const le=new At,Re=new Me,de=new J,he={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function _e(){return P===null?Y:1}let z=r;function ve(K,ae){for(let pe=0;pe<K.length;pe++){const me=K[pe],fe=n.getContext(me,ae);if(fe!==null)return fe}return null}try{const K={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${oS}`),n.addEventListener("webglcontextlost",Te,!1),n.addEventListener("webglcontextrestored",te,!1),n.addEventListener("webglcontextcreationerror",ke,!1),z===null){const ae=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&ae.shift(),z=ve(ae,K),z===null)throw ve(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),z.getShaderPrecisionFormat===void 0&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let se,Se,ue,Be,Le,G,B,oe,Ce,Pe,Ee,tt,je,He,ct,gt,Oe,Gt,kt,_t,lt,Xe,pt,qt;function Ke(){se=new Cpe(z),Se=new Spe(z,se,e),se.init(Se),Xe=new y9(z,se,Se),ue=new uge(z,se,Se),Be=new Npe(z),Le=new Zme,G=new dge(z,se,ue,Le,Se,Xe,Be),B=new Ape(_),oe=new Ppe(_),Ce=new Bde(z,Se),pt=new _pe(z,se,Ce,Se),Pe=new Ope(z,Ce,Be,pt),Ee=new Dpe(z,Pe,Ce,Be),kt=new Lpe(z,Se,G),gt=new Epe(Le),tt=new Jme(_,B,oe,se,Se,pt,gt),je=new pge(_,Le),He=new ege,ct=new age(se,Se),Gt=new bpe(_,B,oe,ue,Ee,f,l),Oe=new cge(_,Ee,Se),qt=new mge(z,Be,Se,ue),_t=new wpe(z,se,Be,Se),lt=new Rpe(z,se,Be,Se),Be.programs=tt.programs,_.capabilities=Se,_.extensions=se,_.properties=Le,_.renderLists=He,_.shadowMap=Oe,_.state=ue,_.info=Be}Ke();const Ye=new hge(_,z);this.xr=Ye,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const K=se.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){const K=se.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(K){K!==void 0&&(Y=K,this.setSize(W,H,!1))},this.getSize=function(K){return K.set(W,H)},this.setSize=function(K,ae,pe=!0){if(Ye.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=K,H=ae,n.width=Math.floor(K*Y),n.height=Math.floor(ae*Y),pe===!0&&(n.style.width=K+"px",n.style.height=ae+"px"),this.setViewport(0,0,K,ae)},this.getDrawingBufferSize=function(K){return K.set(W*Y,H*Y).floor()},this.setDrawingBufferSize=function(K,ae,pe){W=K,H=ae,Y=pe,n.width=Math.floor(K*pe),n.height=Math.floor(ae*pe),this.setViewport(0,0,K,ae)},this.getCurrentViewport=function(K){return K.copy(I)},this.getViewport=function(K){return K.copy($)},this.setViewport=function(K,ae,pe,me){K.isVector4?$.set(K.x,K.y,K.z,K.w):$.set(K,ae,pe,me),ue.viewport(I.copy($).multiplyScalar(Y).floor())},this.getScissor=function(K){return K.copy(q)},this.setScissor=function(K,ae,pe,me){K.isVector4?q.set(K.x,K.y,K.z,K.w):q.set(K,ae,pe,me),ue.scissor(D.copy(q).multiplyScalar(Y).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(K){ue.setScissorTest(Z=K)},this.setOpaqueSort=function(K){k=K},this.setTransparentSort=function(K){F=K},this.getClearColor=function(K){return K.copy(Gt.getClearColor())},this.setClearColor=function(){Gt.setClearColor.apply(Gt,arguments)},this.getClearAlpha=function(){return Gt.getClearAlpha()},this.setClearAlpha=function(){Gt.setClearAlpha.apply(Gt,arguments)},this.clear=function(K=!0,ae=!0,pe=!0){let me=0;if(K){let fe=!1;if(P!==null){const We=P.texture.format;fe=We===VN||We===HN||We===$N}if(fe){const We=P.texture.type,ot=We===fs||We===Ys||We===lS||We===bc||We===BN||We===zN,vt=Gt.getClearColor(),xt=Gt.getClearAlpha(),Mt=vt.r,Tt=vt.g,Pt=vt.b;ot?(p[0]=Mt,p[1]=Tt,p[2]=Pt,p[3]=xt,z.clearBufferuiv(z.COLOR,0,p)):(g[0]=Mt,g[1]=Tt,g[2]=Pt,g[3]=xt,z.clearBufferiv(z.COLOR,0,g))}else me|=z.COLOR_BUFFER_BIT}ae&&(me|=z.DEPTH_BUFFER_BIT),pe&&(me|=z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),z.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Te,!1),n.removeEventListener("webglcontextrestored",te,!1),n.removeEventListener("webglcontextcreationerror",ke,!1),He.dispose(),ct.dispose(),Le.dispose(),B.dispose(),oe.dispose(),Ee.dispose(),pt.dispose(),qt.dispose(),tt.dispose(),Ye.dispose(),Ye.removeEventListener("sessionstart",Er),Ye.removeEventListener("sessionend",hn),xe&&(xe.dispose(),xe=null),jr.stop()};function Te(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function te(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const K=Be.autoReset,ae=Oe.enabled,pe=Oe.autoUpdate,me=Oe.needsUpdate,fe=Oe.type;Ke(),Be.autoReset=K,Oe.enabled=ae,Oe.autoUpdate=pe,Oe.needsUpdate=me,Oe.type=fe}function ke(K){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",K.statusMessage)}function Ue(K){const ae=K.target;ae.removeEventListener("dispose",Ue),mt(ae)}function mt(K){dt(K),Le.remove(K)}function dt(K){const ae=Le.get(K).programs;ae!==void 0&&(ae.forEach(function(pe){tt.releaseProgram(pe)}),K.isShaderMaterial&&tt.releaseShaderCache(K))}this.renderBufferDirect=function(K,ae,pe,me,fe,We){ae===null&&(ae=he);const ot=fe.isMesh&&fe.matrixWorld.determinant()<0,vt=NE(K,ae,pe,me,fe);ue.setMaterial(me,ot);let xt=pe.index,Mt=1;if(me.wireframe===!0){if(xt=Pe.getWireframeAttribute(pe),xt===void 0)return;Mt=2}const Tt=pe.drawRange,Pt=pe.attributes.position;let In=Tt.start*Mt,Ur=(Tt.start+Tt.count)*Mt;We!==null&&(In=Math.max(In,We.start*Mt),Ur=Math.min(Ur,(We.start+We.count)*Mt)),xt!==null?(In=Math.max(In,0),Ur=Math.min(Ur,xt.count)):Pt!=null&&(In=Math.max(In,0),Ur=Math.min(Ur,Pt.count));const Sn=Ur-In;if(Sn<0||Sn===1/0)return;pt.setup(fe,me,vt,pe,xt);let Ar,bt=_t;if(xt!==null&&(Ar=Ce.get(xt),bt=lt,bt.setIndex(Ar)),fe.isMesh)me.wireframe===!0?(ue.setLineWidth(me.wireframeLinewidth*_e()),bt.setMode(z.LINES)):bt.setMode(z.TRIANGLES);else if(fe.isLine){let Qe=me.linewidth;Qe===void 0&&(Qe=1),ue.setLineWidth(Qe*_e()),fe.isLineSegments?bt.setMode(z.LINES):fe.isLineLoop?bt.setMode(z.LINE_LOOP):bt.setMode(z.LINE_STRIP)}else fe.isPoints?bt.setMode(z.POINTS):fe.isSprite&&bt.setMode(z.TRIANGLES);if(fe.isBatchedMesh)bt.renderMultiDraw(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount);else if(fe.isInstancedMesh)bt.renderInstances(In,Sn,fe.count);else if(pe.isInstancedBufferGeometry){const Qe=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,Ro=Math.min(pe.instanceCount,Qe);bt.renderInstances(In,Sn,Ro)}else bt.render(In,Sn)};function fn(K,ae,pe){K.transparent===!0&&K.side===as&&K.forceSinglePass===!1?(K.side=Ci,K.needsUpdate=!0,zd(K,ae,pe),K.side=fl,K.needsUpdate=!0,zd(K,ae,pe),K.side=as):zd(K,ae,pe)}this.compile=function(K,ae,pe=null){pe===null&&(pe=K),x=ct.get(pe),x.init(),b.push(x),pe.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ae.layers)&&(x.pushLight(fe),fe.castShadow&&x.pushShadow(fe))}),K!==pe&&K.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ae.layers)&&(x.pushLight(fe),fe.castShadow&&x.pushShadow(fe))}),x.setupLights(_._useLegacyLights);const me=new Set;return K.traverse(function(fe){const We=fe.material;if(We)if(Array.isArray(We))for(let ot=0;ot<We.length;ot++){const vt=We[ot];fn(vt,pe,fe),me.add(vt)}else fn(We,pe,fe),me.add(We)}),b.pop(),x=null,me},this.compileAsync=function(K,ae,pe=null){const me=this.compile(K,ae,pe);return new Promise(fe=>{function We(){if(me.forEach(function(ot){Le.get(ot).currentProgram.isReady()&&me.delete(ot)}),me.size===0){fe(K);return}setTimeout(We,10)}se.get("KHR_parallel_shader_compile")!==null?We():setTimeout(We,10)})};let an=null;function Kn(K){an&&an(K)}function Er(){jr.stop()}function hn(){jr.start()}const jr=new f9;jr.setAnimationLoop(Kn),typeof self<"u"&&jr.setContext(self),this.setAnimationLoop=function(K){an=K,Ye.setAnimationLoop(K),K===null?jr.stop():jr.start()},Ye.addEventListener("sessionstart",Er),Ye.addEventListener("sessionend",hn),this.render=function(K,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ye.enabled===!0&&Ye.isPresenting===!0&&(Ye.cameraAutoUpdate===!0&&Ye.updateCamera(ae),ae=Ye.getCamera()),K.isScene===!0&&K.onBeforeRender(_,K,ae,P),x=ct.get(K,b.length),x.init(),b.push(x),le.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),ee.setFromProjectionMatrix(le),ye=this.localClippingEnabled,ne=gt.init(this.clippingPlanes,ye),y=He.get(K,v.length),y.init(),v.push(y),Oo(K,ae,0,_.sortObjects),y.finish(),_.sortObjects===!0&&y.sort(k,F),this.info.render.frame++,ne===!0&&gt.beginShadows();const pe=x.state.shadowsArray;if(Oe.render(pe,K,ae),ne===!0&&gt.endShadows(),this.info.autoReset===!0&&this.info.reset(),Gt.render(y,K),x.setupLights(_._useLegacyLights),ae.isArrayCamera){const me=ae.cameras;for(let fe=0,We=me.length;fe<We;fe++){const ot=me[fe];rm(y,K,ot,ot.viewport)}}else rm(y,K,ae);P!==null&&(G.updateMultisampleRenderTarget(P),G.updateRenderTargetMipmap(P)),K.isScene===!0&&K.onAfterRender(_,K,ae),pt.resetDefaultState(),N=-1,R=null,b.pop(),b.length>0?x=b[b.length-1]:x=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Oo(K,ae,pe,me){if(K.visible===!1)return;if(K.layers.test(ae.layers)){if(K.isGroup)pe=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(ae);else if(K.isLight)x.pushLight(K),K.castShadow&&x.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||ee.intersectsSprite(K)){me&&de.setFromMatrixPosition(K.matrixWorld).applyMatrix4(le);const ot=Ee.update(K),vt=K.material;vt.visible&&y.push(K,ot,vt,pe,de.z,null)}}else if((K.isMesh||K.isLine||K.isPoints)&&(!K.frustumCulled||ee.intersectsObject(K))){const ot=Ee.update(K),vt=K.material;if(me&&(K.boundingSphere!==void 0?(K.boundingSphere===null&&K.computeBoundingSphere(),de.copy(K.boundingSphere.center)):(ot.boundingSphere===null&&ot.computeBoundingSphere(),de.copy(ot.boundingSphere.center)),de.applyMatrix4(K.matrixWorld).applyMatrix4(le)),Array.isArray(vt)){const xt=ot.groups;for(let Mt=0,Tt=xt.length;Mt<Tt;Mt++){const Pt=xt[Mt],In=vt[Pt.materialIndex];In&&In.visible&&y.push(K,ot,In,pe,de.z,Pt)}}else vt.visible&&y.push(K,ot,vt,pe,de.z,null)}}const We=K.children;for(let ot=0,vt=We.length;ot<vt;ot++)Oo(We[ot],ae,pe,me)}function rm(K,ae,pe,me){const fe=K.opaque,We=K.transmissive,ot=K.transparent;x.setupLightsView(pe),ne===!0&&gt.setGlobalState(_.clippingPlanes,pe),We.length>0&&im(fe,We,ae,pe),me&&ue.viewport(I.copy(me)),fe.length>0&&Bd(fe,ae,pe),We.length>0&&Bd(We,ae,pe),ot.length>0&&Bd(ot,ae,pe),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function im(K,ae,pe,me){if((pe.isScene===!0?pe.overrideMaterial:null)!==null)return;const We=Se.isWebGL2;xe===null&&(xe=new Fa(1,1,{generateMipmaps:!0,type:se.has("EXT_color_buffer_half_float")?Gh:fs,minFilter:kc,samples:We?4:0})),_.getDrawingBufferSize(Re),We?xe.setSize(Re.x,Re.y):xe.setSize(cw(Re.x),cw(Re.y));const ot=_.getRenderTarget();_.setRenderTarget(xe),_.getClearColor(X),j=_.getClearAlpha(),j<1&&_.setClearColor(16777215,.5),_.clear();const vt=_.toneMapping;_.toneMapping=ds,Bd(K,pe,me),G.updateMultisampleRenderTarget(xe),G.updateRenderTargetMipmap(xe);let xt=!1;for(let Mt=0,Tt=ae.length;Mt<Tt;Mt++){const Pt=ae[Mt],In=Pt.object,Ur=Pt.geometry,Sn=Pt.material,Ar=Pt.group;if(Sn.side===as&&In.layers.test(me.layers)){const bt=Sn.side;Sn.side=Ci,Sn.needsUpdate=!0,El(In,pe,me,Ur,Sn,Ar),Sn.side=bt,Sn.needsUpdate=!0,xt=!0}}xt===!0&&(G.updateMultisampleRenderTarget(xe),G.updateRenderTargetMipmap(xe)),_.setRenderTarget(ot),_.setClearColor(X,j),_.toneMapping=vt}function Bd(K,ae,pe){const me=ae.isScene===!0?ae.overrideMaterial:null;for(let fe=0,We=K.length;fe<We;fe++){const ot=K[fe],vt=ot.object,xt=ot.geometry,Mt=me===null?ot.material:me,Tt=ot.group;vt.layers.test(pe.layers)&&El(vt,ae,pe,xt,Mt,Tt)}}function El(K,ae,pe,me,fe,We){K.onBeforeRender(_,ae,pe,me,fe,We),K.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),fe.onBeforeRender(_,ae,pe,me,K,We),fe.transparent===!0&&fe.side===as&&fe.forceSinglePass===!1?(fe.side=Ci,fe.needsUpdate=!0,_.renderBufferDirect(pe,ae,me,fe,K,We),fe.side=fl,fe.needsUpdate=!0,_.renderBufferDirect(pe,ae,me,fe,K,We),fe.side=as):_.renderBufferDirect(pe,ae,me,fe,K,We),K.onAfterRender(_,ae,pe,me,fe,We)}function zd(K,ae,pe){ae.isScene!==!0&&(ae=he);const me=Le.get(K),fe=x.state.lights,We=x.state.shadowsArray,ot=fe.state.version,vt=tt.getParameters(K,fe.state,We,ae,pe),xt=tt.getProgramCacheKey(vt);let Mt=me.programs;me.environment=K.isMeshStandardMaterial?ae.environment:null,me.fog=ae.fog,me.envMap=(K.isMeshStandardMaterial?oe:B).get(K.envMap||me.environment),Mt===void 0&&(K.addEventListener("dispose",Ue),Mt=new Map,me.programs=Mt);let Tt=Mt.get(xt);if(Tt!==void 0){if(me.currentProgram===Tt&&me.lightsStateVersion===ot)return c0(K,vt),Tt}else vt.uniforms=tt.getUniforms(K),K.onBuild(pe,vt,_),K.onBeforeCompile(vt,_),Tt=tt.acquireProgram(vt,xt),Mt.set(xt,Tt),me.uniforms=vt.uniforms;const Pt=me.uniforms;return(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(Pt.clippingPlanes=gt.uniform),c0(K,vt),me.needsLights=kE(K),me.lightsStateVersion=ot,me.needsLights&&(Pt.ambientLightColor.value=fe.state.ambient,Pt.lightProbe.value=fe.state.probe,Pt.directionalLights.value=fe.state.directional,Pt.directionalLightShadows.value=fe.state.directionalShadow,Pt.spotLights.value=fe.state.spot,Pt.spotLightShadows.value=fe.state.spotShadow,Pt.rectAreaLights.value=fe.state.rectArea,Pt.ltc_1.value=fe.state.rectAreaLTC1,Pt.ltc_2.value=fe.state.rectAreaLTC2,Pt.pointLights.value=fe.state.point,Pt.pointLightShadows.value=fe.state.pointShadow,Pt.hemisphereLights.value=fe.state.hemi,Pt.directionalShadowMap.value=fe.state.directionalShadowMap,Pt.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,Pt.spotShadowMap.value=fe.state.spotShadowMap,Pt.spotLightMatrix.value=fe.state.spotLightMatrix,Pt.spotLightMap.value=fe.state.spotLightMap,Pt.pointShadowMap.value=fe.state.pointShadowMap,Pt.pointShadowMatrix.value=fe.state.pointShadowMatrix),me.currentProgram=Tt,me.uniformsList=null,Tt}function l0(K){if(K.uniformsList===null){const ae=K.currentProgram.getUniforms();K.uniformsList=__.seqWithValue(ae.seq,K.uniforms)}return K.uniformsList}function c0(K,ae){const pe=Le.get(K);pe.outputColorSpace=ae.outputColorSpace,pe.batching=ae.batching,pe.instancing=ae.instancing,pe.instancingColor=ae.instancingColor,pe.skinning=ae.skinning,pe.morphTargets=ae.morphTargets,pe.morphNormals=ae.morphNormals,pe.morphColors=ae.morphColors,pe.morphTargetsCount=ae.morphTargetsCount,pe.numClippingPlanes=ae.numClippingPlanes,pe.numIntersection=ae.numClipIntersection,pe.vertexAlphas=ae.vertexAlphas,pe.vertexTangents=ae.vertexTangents,pe.toneMapping=ae.toneMapping}function NE(K,ae,pe,me,fe){ae.isScene!==!0&&(ae=he),G.resetTextureUnits();const We=ae.fog,ot=me.isMeshStandardMaterial?ae.environment:null,vt=P===null?_.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:xs,xt=(me.isMeshStandardMaterial?oe:B).get(me.envMap||ot),Mt=me.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,Tt=!!pe.attributes.tangent&&(!!me.normalMap||me.anisotropy>0),Pt=!!pe.morphAttributes.position,In=!!pe.morphAttributes.normal,Ur=!!pe.morphAttributes.color;let Sn=ds;me.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(Sn=_.toneMapping);const Ar=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,bt=Ar!==void 0?Ar.length:0,Qe=Le.get(me),Ro=x.state.lights;if(ne===!0&&(ye===!0||K!==R)){const Fr=K===R&&me.id===N;gt.setState(me,K,Fr)}let Ht=!1;me.version===Qe.__version?(Qe.needsLights&&Qe.lightsStateVersion!==Ro.state.version||Qe.outputColorSpace!==vt||fe.isBatchedMesh&&Qe.batching===!1||!fe.isBatchedMesh&&Qe.batching===!0||fe.isInstancedMesh&&Qe.instancing===!1||!fe.isInstancedMesh&&Qe.instancing===!0||fe.isSkinnedMesh&&Qe.skinning===!1||!fe.isSkinnedMesh&&Qe.skinning===!0||fe.isInstancedMesh&&Qe.instancingColor===!0&&fe.instanceColor===null||fe.isInstancedMesh&&Qe.instancingColor===!1&&fe.instanceColor!==null||Qe.envMap!==xt||me.fog===!0&&Qe.fog!==We||Qe.numClippingPlanes!==void 0&&(Qe.numClippingPlanes!==gt.numPlanes||Qe.numIntersection!==gt.numIntersection)||Qe.vertexAlphas!==Mt||Qe.vertexTangents!==Tt||Qe.morphTargets!==Pt||Qe.morphNormals!==In||Qe.morphColors!==Ur||Qe.toneMapping!==Sn||Se.isWebGL2===!0&&Qe.morphTargetsCount!==bt)&&(Ht=!0):(Ht=!0,Qe.__version=me.version);let zn=Qe.currentProgram;Ht===!0&&(zn=zd(me,ae,fe));let Va=!1,No=!1,Tr=!1;const Yn=zn.getUniforms(),Wa=Qe.uniforms;if(ue.useProgram(zn.program)&&(Va=!0,No=!0,Tr=!0),me.id!==N&&(N=me.id,No=!0),Va||R!==K){Yn.setValue(z,"projectionMatrix",K.projectionMatrix),Yn.setValue(z,"viewMatrix",K.matrixWorldInverse);const Fr=Yn.map.cameraPosition;Fr!==void 0&&Fr.setValue(z,de.setFromMatrixPosition(K.matrixWorld)),Se.logarithmicDepthBuffer&&Yn.setValue(z,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&Yn.setValue(z,"isOrthographic",K.isOrthographicCamera===!0),R!==K&&(R=K,No=!0,Tr=!0)}if(fe.isSkinnedMesh){Yn.setOptional(z,fe,"bindMatrix"),Yn.setOptional(z,fe,"bindMatrixInverse");const Fr=fe.skeleton;Fr&&(Se.floatVertexTextures?(Fr.boneTexture===null&&Fr.computeBoneTexture(),Yn.setValue(z,"boneTexture",Fr.boneTexture,G)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}fe.isBatchedMesh&&(Yn.setOptional(z,fe,"batchingTexture"),Yn.setValue(z,"batchingTexture",fe._matricesTexture,G));const $d=pe.morphAttributes;if(($d.position!==void 0||$d.normal!==void 0||$d.color!==void 0&&Se.isWebGL2===!0)&&kt.update(fe,pe,zn),(No||Qe.receiveShadow!==fe.receiveShadow)&&(Qe.receiveShadow=fe.receiveShadow,Yn.setValue(z,"receiveShadow",fe.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(Wa.envMap.value=xt,Wa.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1),No&&(Yn.setValue(z,"toneMappingExposure",_.toneMappingExposure),Qe.needsLights&&IE(Wa,Tr),We&&me.fog===!0&&je.refreshFogUniforms(Wa,We),je.refreshMaterialUniforms(Wa,me,Y,H,xe),__.upload(z,l0(Qe),Wa,G)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(__.upload(z,l0(Qe),Wa,G),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&Yn.setValue(z,"center",fe.center),Yn.setValue(z,"modelViewMatrix",fe.modelViewMatrix),Yn.setValue(z,"normalMatrix",fe.normalMatrix),Yn.setValue(z,"modelMatrix",fe.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const Fr=me.uniformsGroups;for(let Hd=0,to=Fr.length;Hd<to;Hd++)if(Se.isWebGL2){const u0=Fr[Hd];qt.update(u0,zn),qt.bind(u0,zn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return zn}function IE(K,ae){K.ambientLightColor.needsUpdate=ae,K.lightProbe.needsUpdate=ae,K.directionalLights.needsUpdate=ae,K.directionalLightShadows.needsUpdate=ae,K.pointLights.needsUpdate=ae,K.pointLightShadows.needsUpdate=ae,K.spotLights.needsUpdate=ae,K.spotLightShadows.needsUpdate=ae,K.rectAreaLights.needsUpdate=ae,K.hemisphereLights.needsUpdate=ae}function kE(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(K,ae,pe){Le.get(K.texture).__webglTexture=ae,Le.get(K.depthTexture).__webglTexture=pe;const me=Le.get(K);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=pe===void 0,me.__autoAllocateDepthBuffer||se.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(K,ae){const pe=Le.get(K);pe.__webglFramebuffer=ae,pe.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(K,ae=0,pe=0){P=K,A=ae,M=pe;let me=!0,fe=null,We=!1,ot=!1;if(K){const xt=Le.get(K);xt.__useDefaultFramebuffer!==void 0?(ue.bindFramebuffer(z.FRAMEBUFFER,null),me=!1):xt.__webglFramebuffer===void 0?G.setupRenderTarget(K):xt.__hasExternalTextures&&G.rebindTextures(K,Le.get(K.texture).__webglTexture,Le.get(K.depthTexture).__webglTexture);const Mt=K.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(ot=!0);const Tt=Le.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(Array.isArray(Tt[ae])?fe=Tt[ae][pe]:fe=Tt[ae],We=!0):Se.isWebGL2&&K.samples>0&&G.useMultisampledRTT(K)===!1?fe=Le.get(K).__webglMultisampledFramebuffer:Array.isArray(Tt)?fe=Tt[pe]:fe=Tt,I.copy(K.viewport),D.copy(K.scissor),U=K.scissorTest}else I.copy($).multiplyScalar(Y).floor(),D.copy(q).multiplyScalar(Y).floor(),U=Z;if(ue.bindFramebuffer(z.FRAMEBUFFER,fe)&&Se.drawBuffers&&me&&ue.drawBuffers(K,fe),ue.viewport(I),ue.scissor(D),ue.setScissorTest(U),We){const xt=Le.get(K.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+ae,xt.__webglTexture,pe)}else if(ot){const xt=Le.get(K.texture),Mt=ae||0;z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,xt.__webglTexture,pe||0,Mt)}N=-1},this.readRenderTargetPixels=function(K,ae,pe,me,fe,We,ot){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let vt=Le.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&ot!==void 0&&(vt=vt[ot]),vt){ue.bindFramebuffer(z.FRAMEBUFFER,vt);try{const xt=K.texture,Mt=xt.format,Tt=xt.type;if(Mt!==Ei&&Xe.convert(Mt)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Pt=Tt===Gh&&(se.has("EXT_color_buffer_half_float")||Se.isWebGL2&&se.has("EXT_color_buffer_float"));if(Tt!==fs&&Xe.convert(Tt)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Tt===Ra&&(Se.isWebGL2||se.has("OES_texture_float")||se.has("WEBGL_color_buffer_float")))&&!Pt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=K.width-me&&pe>=0&&pe<=K.height-fe&&z.readPixels(ae,pe,me,fe,Xe.convert(Mt),Xe.convert(Tt),We)}finally{const xt=P!==null?Le.get(P).__webglFramebuffer:null;ue.bindFramebuffer(z.FRAMEBUFFER,xt)}}},this.copyFramebufferToTexture=function(K,ae,pe=0){const me=Math.pow(2,-pe),fe=Math.floor(ae.image.width*me),We=Math.floor(ae.image.height*me);G.setTexture2D(ae,0),z.copyTexSubImage2D(z.TEXTURE_2D,pe,0,0,K.x,K.y,fe,We),ue.unbindTexture()},this.copyTextureToTexture=function(K,ae,pe,me=0){const fe=ae.image.width,We=ae.image.height,ot=Xe.convert(pe.format),vt=Xe.convert(pe.type);G.setTexture2D(pe,0),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,pe.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,pe.unpackAlignment),ae.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,me,K.x,K.y,fe,We,ot,vt,ae.image.data):ae.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,me,K.x,K.y,ae.mipmaps[0].width,ae.mipmaps[0].height,ot,ae.mipmaps[0].data):z.texSubImage2D(z.TEXTURE_2D,me,K.x,K.y,ot,vt,ae.image),me===0&&pe.generateMipmaps&&z.generateMipmap(z.TEXTURE_2D),ue.unbindTexture()},this.copyTextureToTexture3D=function(K,ae,pe,me,fe=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const We=K.max.x-K.min.x+1,ot=K.max.y-K.min.y+1,vt=K.max.z-K.min.z+1,xt=Xe.convert(me.format),Mt=Xe.convert(me.type);let Tt;if(me.isData3DTexture)G.setTexture3D(me,0),Tt=z.TEXTURE_3D;else if(me.isDataArrayTexture||me.isCompressedArrayTexture)G.setTexture2DArray(me,0),Tt=z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,me.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,me.unpackAlignment);const Pt=z.getParameter(z.UNPACK_ROW_LENGTH),In=z.getParameter(z.UNPACK_IMAGE_HEIGHT),Ur=z.getParameter(z.UNPACK_SKIP_PIXELS),Sn=z.getParameter(z.UNPACK_SKIP_ROWS),Ar=z.getParameter(z.UNPACK_SKIP_IMAGES),bt=pe.isCompressedTexture?pe.mipmaps[fe]:pe.image;z.pixelStorei(z.UNPACK_ROW_LENGTH,bt.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,bt.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,K.min.x),z.pixelStorei(z.UNPACK_SKIP_ROWS,K.min.y),z.pixelStorei(z.UNPACK_SKIP_IMAGES,K.min.z),pe.isDataTexture||pe.isData3DTexture?z.texSubImage3D(Tt,fe,ae.x,ae.y,ae.z,We,ot,vt,xt,Mt,bt.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),z.compressedTexSubImage3D(Tt,fe,ae.x,ae.y,ae.z,We,ot,vt,xt,bt.data)):z.texSubImage3D(Tt,fe,ae.x,ae.y,ae.z,We,ot,vt,xt,Mt,bt),z.pixelStorei(z.UNPACK_ROW_LENGTH,Pt),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,In),z.pixelStorei(z.UNPACK_SKIP_PIXELS,Ur),z.pixelStorei(z.UNPACK_SKIP_ROWS,Sn),z.pixelStorei(z.UNPACK_SKIP_IMAGES,Ar),fe===0&&me.generateMipmaps&&z.generateMipmap(Tt),ue.unbindTexture()},this.initTexture=function(K){K.isCubeTexture?G.setTextureCube(K,0):K.isData3DTexture?G.setTexture3D(K,0):K.isDataArrayTexture||K.isCompressedArrayTexture?G.setTexture2DArray(K,0):G.setTexture2D(K,0),ue.unbindTexture()},this.resetState=function(){A=0,M=0,P=null,ue.reset(),pt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Na}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===uS?"display-p3":"srgb",n.unpackColorSpace=sn.workingColorSpace===Ly?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===gr?wc:qN}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===wc?gr:xs}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class b9 extends iI{}b9.prototype.isWebGL1Renderer=!0;class hS{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new qe(e),this.density=n}clone(){return new hS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class pS{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new qe(e),this.near=n,this.far=r}clone(){return new pS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class oI extends en{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class mS{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Sv,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Eo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Eo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Eo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const mi=new J;class md{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.applyMatrix4(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.applyNormalMatrix(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.transformDirection(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}setX(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Hi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Hi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Hi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Hi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array),o=Ut(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new un(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new md(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class aI extends fi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new qe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let wf;const Um=new J,Sf=new J,Ef=new J,Af=new Me,Fm=new Me,_9=new At,Qx=new J,Bm=new J,eb=new J,pU=new Me,eM=new Me,mU=new Me;class w9 extends en{constructor(e=new aI){if(super(),this.isSprite=!0,this.type="Sprite",wf===void 0){wf=new $t;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new mS(n,5);wf.setIndex([0,1,2,0,2,3]),wf.setAttribute("position",new md(r,3,0,!1)),wf.setAttribute("uv",new md(r,2,3,!1))}this.geometry=wf,this.material=e,this.center=new Me(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Sf.setFromMatrixScale(this.matrixWorld),_9.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ef.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Sf.multiplyScalar(-Ef.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;tb(Qx.set(-.5,-.5,0),Ef,a,Sf,i,o),tb(Bm.set(.5,-.5,0),Ef,a,Sf,i,o),tb(eb.set(.5,.5,0),Ef,a,Sf,i,o),pU.set(0,0),eM.set(1,0),mU.set(1,1);let s=e.ray.intersectTriangle(Qx,Bm,eb,!1,Um);if(s===null&&(tb(Bm.set(-.5,.5,0),Ef,a,Sf,i,o),eM.set(0,1),s=e.ray.intersectTriangle(Qx,eb,Bm,!1,Um),s===null))return;const l=e.ray.origin.distanceTo(Um);l<e.near||l>e.far||n.push({distance:l,point:Um.clone(),uv:$i.getInterpolation(Um,Qx,Bm,eb,pU,eM,mU,new Me),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function tb(t,e,n,r,i,o){Af.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Fm.x=o*Af.x-i*Af.y,Fm.y=i*Af.x+o*Af.y):Fm.copy(Af),t.copy(e),t.x+=Fm.x,t.y+=Fm.y,t.applyMatrix4(_9)}const nb=new J,gU=new J;class S9 extends en{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){nb.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(nb);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){nb.setFromMatrixPosition(e.matrixWorld),gU.setFromMatrixPosition(this.matrixWorld);const r=nb.distanceTo(gU)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const vU=new J,yU=new ln,xU=new ln,gge=new J,bU=new At,rb=new J,tM=new li,_U=new At,nM=new Lp;class E9 extends xr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=CC,this.bindMatrix=new At,this.bindMatrixInverse=new At,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Oi),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,rb),this.boundingBox.expandByPoint(rb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new li),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,rb),this.boundingSphere.expandByPoint(rb)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),tM.copy(this.boundingSphere),tM.applyMatrix4(i),e.ray.intersectsSphere(tM)!==!1&&(_U.copy(i).invert(),nM.copy(e.ray).applyMatrix4(_U),!(this.boundingBox!==null&&nM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,nM)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ln,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===CC?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DG?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;yU.fromBufferAttribute(i.attributes.skinIndex,e),xU.fromBufferAttribute(i.attributes.skinWeight,e),vU.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=xU.getComponent(o);if(a!==0){const s=yU.getComponent(o);bU.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(gge.copy(vU).applyMatrix4(bU),a)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class sI extends en{constructor(){super(),this.isBone=!0,this.type="Bone"}}class id extends nr{constructor(e=null,n=1,r=1,i,o,a,s,l,c=Qn,u=Qn,d,f){super(null,a,s,l,c,u,i,o,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const wU=new At,vge=new At;class gS{constructor(e=[],n=[]){this.uuid=Eo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new At)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new At;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:vge;wU.multiplyMatrices(s,n[o]),wU.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new gS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new id(n,e,e,Ei,Ra);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new sI),this.bones.push(a),this.boneInverses.push(new At().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Yh extends un{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Tf=new At,SU=new At,ib=[],EU=new Oi,yge=new At,zm=new xr,$m=new li;class A9 extends xr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Yh(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,yge)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Oi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Tf),EU.copy(e.boundingBox).applyMatrix4(Tf),this.boundingBox.union(EU)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new li),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Tf),$m.copy(e.boundingSphere).applyMatrix4(Tf),this.boundingSphere.union($m)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(zm.geometry=this.geometry,zm.material=this.material,zm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$m.copy(this.boundingSphere),$m.applyMatrix4(r),e.ray.intersectsSphere($m)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Tf),SU.multiplyMatrices(r,Tf),zm.matrixWorld=SU,zm.raycast(e,ib);for(let a=0,s=ib.length;a<s;a++){const l=ib[a];l.instanceId=o,l.object=this,n.push(l)}ib.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Yh(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function xge(t,e){return t.z-e.z}function bge(t,e){return e.z-t.z}class _ge{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n}reset(){this.list.length=0,this.index=0}}const Mf="batchId",zl=new At,AU=new At,wge=new At,TU=new At,rM=new Fy,ob=new Oi,hu=new li,Hm=new J,iM=new _ge,ti=new xr,ab=[];function Sge(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class T9 extends xr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new $t,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new id(n,e,e,Ei,Ra);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const l=e.getAttribute(s),{array:c,itemSize:u,normalized:d}=l,f=new c.constructor(r*u),p=new l.constructor(f,u,d);p.setUsage(l.usage),n.setAttribute(s,p)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(o):new Uint16Array(o);n.setIndex(new un(s,1))}const a=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(Mf,new un(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Mf))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Mf}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===Mf)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Oi);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,zl),this.getBoundingBoxAt(i,ob).applyMatrix4(zl),n.union(ob))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new li);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,zl),this.getBoundingSphereAt(i,hu).applyMatrix4(zl),n.union(hu))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const a=this._reservedRanges,s=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=a[a.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,f=this._active,p=this._matricesTexture,g=this._matricesTexture.image.data;d.push(!0),f.push(!0);const y=this._geometryCount;this._geometryCount++,wge.toArray(g,y*16),p.needsUpdate=!0,a.push(i),s.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Oi,sphereInitialized:!1,sphere:new li});const x=this.geometry.getAttribute(Mf);for(let v=0;v<i.vertexCount;v++)x.setX(i.vertexStart+v,y);return x.needsUpdate=!0,this.setGeometryAt(y,e),y}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._reservedRanges[e];if(i&&a.count>s.indexCount||n.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,c=s.vertexCount;for(const p in r.attributes){if(p===Mf)continue;const g=n.getAttribute(p),y=r.getAttribute(p);Sge(g,y,l);const x=g.itemSize;for(let v=g.count,b=c;v<b;v++){const _=l+v;for(let S=0;S<x;S++)y.setComponent(_,S,0)}y.needsUpdate=!0}if(i){const p=s.indexStart;for(let g=0;g<a.count;g++)o.setX(p+g,l+a.getX(g));for(let g=a.count,y=s.indexCount;g<y;g++)o.setX(p+g,l);o.needsUpdate=!0}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const d=this._drawRanges[e],f=n.getAttribute("position");return d.count=i?a.count:f.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],o=i.box,a=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const s=a.index,l=a.attributes.position,c=this._drawRanges[e];for(let u=c.start,d=c.start+c.count;u<d;u++){let f=u;s&&(f=s.getX(f)),o.expandByPoint(Hm.fromBufferAttribute(l,f))}i.boxInitialized=!0}return n.copy(o),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],o=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,ob),ob.getCenter(o.center);const s=a.index,l=a.attributes.position,c=this._drawRanges[e];let u=0;for(let d=c.start,f=c.start+c.count;d<f;d++){let p=d;s&&(p=s.getX(p)),Hm.fromBufferAttribute(l,p),u=Math.max(u,o.center.distanceToSquared(Hm))}o.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(o),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,o=this._drawRanges,a=this._geometryCount,s=this.matrixWorld,l=this.geometry;ti.material=this.material,ti.geometry.index=l.index,ti.geometry.attributes=l.attributes,ti.geometry.boundingBox===null&&(ti.geometry.boundingBox=new Oi),ti.geometry.boundingSphere===null&&(ti.geometry.boundingSphere=new li);for(let c=0;c<a;c++){if(!r[c]||!i[c])continue;const u=o[c];ti.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,ti.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,ti.geometry.boundingBox),this.getBoundingSphereAt(c,ti.geometry.boundingSphere),ti.raycast(e,ab);for(let d=0,f=ab.length;d<f;d++){const p=ab[d];p.object=this,p.batchId=c,n.push(p)}ab.length=0}ti.material=null,ti.geometry.index=null,ti.geometry.attributes={},ti.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._drawRanges,f=this.perObjectFrustumCulled;f&&(TU.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),rM.setFromProjectionMatrix(TU,e.isWebGPURenderer?qh:Na));let p=0;if(this.sortObjects){AU.copy(this.matrixWorld).invert(),Hm.setFromMatrixPosition(r.matrixWorld).applyMatrix4(AU);for(let x=0,v=l.length;x<v;x++)if(l[x]){this.getMatrixAt(x,zl),this.getBoundingSphereAt(x,hu).applyMatrix4(zl);let b=!1;if(f&&(b=!rM.intersectsSphere(hu)),!b){const _=Hm.distanceTo(hu.center);iM.push(d[x],_)}}const g=iM.list,y=this.customSort;y===null?g.sort(o.transparent?bge:xge):y.call(this,g,r);for(let x=0,v=g.length;x<v;x++){const b=g[x];c[p]=b.start*s,u[p]=b.count,p++}iM.reset()}else for(let g=0,y=l.length;g<y;g++)if(l[g]){let x=!1;if(f&&(this.getMatrixAt(g,zl),this.getBoundingSphereAt(g,hu).applyMatrix4(zl),x=!rM.intersectsSphere(hu)),!x){const v=d[g];c[p]=v.start*s,u[p]=v.count,p++}}this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class Di extends fi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new qe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const MU=new J,PU=new J,CU=new At,oM=new Lp,sb=new li;let Lc=class extends en{constructor(e=new $t,n=new Di){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)MU.fromBufferAttribute(n,i-1),PU.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=MU.distanceTo(PU);e.setAttribute("lineDistance",new nt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),sb.copy(r.boundingSphere),sb.applyMatrix4(i),sb.radius+=o,e.ray.intersectsSphere(sb)===!1)return;CU.copy(i).invert(),oM.copy(e.ray).applyMatrix4(CU);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=new J,u=new J,d=new J,f=new J,p=this.isLineSegments?2:1,g=r.index,x=r.attributes.position;if(g!==null){const v=Math.max(0,a.start),b=Math.min(g.count,a.start+a.count);for(let _=v,S=b-1;_<S;_+=p){const A=g.getX(_),M=g.getX(_+1);if(c.fromBufferAttribute(x,A),u.fromBufferAttribute(x,M),oM.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const N=e.ray.origin.distanceTo(f);N<e.near||N>e.far||n.push({distance:N,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,a.start),b=Math.min(x.count,a.start+a.count);for(let _=v,S=b-1;_<S;_+=p){if(c.fromBufferAttribute(x,_),u.fromBufferAttribute(x,_+1),oM.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(f);M<e.near||M>e.far||n.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}};const OU=new J,RU=new J;class Es extends Lc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)OU.fromBufferAttribute(n,i),RU.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+OU.distanceTo(RU);e.setAttribute("lineDistance",new nt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class M9 extends Lc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class lI extends fi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new qe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const NU=new At,aO=new Lp,lb=new li,cb=new J;class P9 extends en{constructor(e=new $t,n=new lI){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),lb.copy(r.boundingSphere),lb.applyMatrix4(i),lb.radius+=o,e.ray.intersectsSphere(lb)===!1)return;NU.copy(i).invert(),aO.copy(e.ray).applyMatrix4(NU);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,a.start),p=Math.min(c.count,a.start+a.count);for(let g=f,y=p;g<y;g++){const x=c.getX(g);cb.fromBufferAttribute(d,x),IU(cb,x,l,i,e,n,this)}}else{const f=Math.max(0,a.start),p=Math.min(d.count,a.start+a.count);for(let g=f,y=p;g<y;g++)cb.fromBufferAttribute(d,g),IU(cb,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function IU(t,e,n,r,i,o,a){const s=aO.distanceSqToPoint(t);if(s<n){const l=new J;aO.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}class Ege extends nr{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:tr,this.magFilter=o!==void 0?o:tr,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Age extends nr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Qn,this.minFilter=Qn,this.generateMipmaps=!1,this.needsUpdate=!0}}class vS extends nr{constructor(e,n,r,i,o,a,s,l,c,u,d,f){super(null,a,s,l,c,u,i,o,d,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Tge extends vS{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=si}}class Mge extends vS{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,hl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Pge extends nr{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}let Ba=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const u=r[i],f=r[i+1]-u,p=(a-u)/f;return(i+p)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new Me:new J);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new J,i=[],o=[],a=[],s=new J,l=new At;for(let p=0;p<=e;p++){const g=p/e;i[p]=this.getTangentAt(g,new J)}o[0]=new J,a[0]=new J;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let p=1;p<=e;p++){if(o[p]=o[p-1].clone(),a[p]=a[p-1].clone(),s.crossVectors(i[p-1],i[p]),s.length()>Number.EPSILON){s.normalize();const g=Math.acos(qn(i[p-1].dot(i[p]),-1,1));o[p].applyMatrix4(l.makeRotationAxis(s,g))}a[p].crossVectors(i[p],o[p])}if(n===!0){let p=Math.acos(qn(o[0].dot(o[e]),-1,1));p/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(p=-p);for(let g=1;g<=e;g++)o[g].applyMatrix4(l.makeRotationAxis(i[g],p*g)),a[g].crossVectors(i[g],o[g])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class yS extends Ba{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n){const r=n||new Me,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,p=c-this.aY;l=f*u-p*d+this.aX,c=f*d+p*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class C9 extends yS{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function cI(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,u,d){let f=(a-o)/c-(s-o)/(c+u)+(s-a)/u,p=(s-a)/u-(l-a)/(u+d)+(l-s)/d;f*=u,p*=u,i(a,s,f,p)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const ub=new J,aM=new cI,sM=new cI,lM=new cI;class O9 extends Ba{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new J){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,u;this.closed||s>0?c=i[(s-1)%o]:(ub.subVectors(i[0],i[1]).add(i[0]),c=ub);const d=i[s%o],f=i[(s+1)%o];if(this.closed||s+2<o?u=i[(s+2)%o]:(ub.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=ub),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),p),y=Math.pow(d.distanceToSquared(f),p),x=Math.pow(f.distanceToSquared(u),p);y<1e-4&&(y=1),g<1e-4&&(g=y),x<1e-4&&(x=y),aM.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,g,y,x),sM.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,g,y,x),lM.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,g,y,x)}else this.curveType==="catmullrom"&&(aM.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),sM.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),lM.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(aM.calc(l),sM.calc(l),lM.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new J().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function kU(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function Cge(t,e){const n=1-t;return n*n*e}function Oge(t,e){return 2*(1-t)*t*e}function Rge(t,e){return t*t*e}function Pg(t,e,n,r){return Cge(t,e)+Oge(t,n)+Rge(t,r)}function Nge(t,e){const n=1-t;return n*n*n*e}function Ige(t,e){const n=1-t;return 3*n*n*t*e}function kge(t,e){return 3*(1-t)*t*t*e}function Lge(t,e){return t*t*t*e}function Cg(t,e,n,r,i){return Nge(t,e)+Ige(t,n)+kge(t,r)+Lge(t,i)}class uI extends Ba{constructor(e=new Me,n=new Me,r=new Me,i=new Me){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Me){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Cg(e,i.x,o.x,a.x,s.x),Cg(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class R9 extends Ba{constructor(e=new J,n=new J,r=new J,i=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new J){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Cg(e,i.x,o.x,a.x,s.x),Cg(e,i.y,o.y,a.y,s.y),Cg(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class dI extends Ba{constructor(e=new Me,n=new Me){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Me){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Me){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N9 extends Ba{constructor(e=new J,n=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new J){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new J){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fI extends Ba{constructor(e=new Me,n=new Me,r=new Me){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Me){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Pg(e,i.x,o.x,a.x),Pg(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hI extends Ba{constructor(e=new J,n=new J,r=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new J){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Pg(e,i.x,o.x,a.x),Pg(e,i.y,o.y,a.y),Pg(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pI extends Ba{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Me){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return r.set(kU(s,l.x,c.x,u.x,d.x),kU(s,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Me().fromArray(i))}return this}}var uw=Object.freeze({__proto__:null,ArcCurve:C9,CatmullRomCurve3:O9,CubicBezierCurve:uI,CubicBezierCurve3:R9,EllipseCurve:yS,LineCurve:dI,LineCurve3:N9,QuadraticBezierCurve:fI,QuadraticBezierCurve3:hI,SplineCurve:pI});class I9 extends Ba{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new uw[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new uw[i.type]().fromJSON(i))}return this}}let Av=class extends I9{constructor(e){super(),this.type="Path",this.currentPoint=new Me,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new dI(this.currentPoint.clone(),new Me(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new fI(this.currentPoint.clone(),new Me(e,n),new Me(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new uI(this.currentPoint.clone(),new Me(e,n),new Me(r,i),new Me(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new pI(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new yS(e,n,r,i,o,a,s,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class $y extends $t{constructor(e=[new Me(0,-.5),new Me(.5,0),new Me(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=qn(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],c=[],u=1/n,d=new J,f=new Me,p=new J,g=new J,y=new J;let x=0,v=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:x=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,p.x=v*1,p.y=-x,p.z=v*0,y.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[b+1].x-e[b].x,v=e[b+1].y-e[b].y,p.x=v*1,p.y=-x,p.z=v*0,g.copy(p),p.x+=y.x,p.y+=y.y,p.z+=y.z,p.normalize(),l.push(p.x,p.y,p.z),y.copy(g)}for(let b=0;b<=n;b++){const _=r+b*u*i,S=Math.sin(_),A=Math.cos(_);for(let M=0;M<=e.length-1;M++){d.x=e[M].x*S,d.y=e[M].y,d.z=e[M].x*A,a.push(d.x,d.y,d.z),f.x=b/n,f.y=M/(e.length-1),s.push(f.x,f.y);const P=l[3*M+0]*S,N=l[3*M+1],R=l[3*M+0]*A;c.push(P,N,R)}}for(let b=0;b<n;b++)for(let _=0;_<e.length-1;_++){const S=_+b*e.length,A=S,M=S+e.length,P=S+e.length+1,N=S+1;o.push(A,M,N),o.push(P,N,M)}this.setIndex(o),this.setAttribute("position",new nt(a,3)),this.setAttribute("uv",new nt(s,2)),this.setAttribute("normal",new nt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $y(e.points,e.segments,e.phiStart,e.phiLength)}}class xS extends $y{constructor(e=1,n=1,r=4,i=8){const o=new Av;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new xS(e.radius,e.length,e.capSegments,e.radialSegments)}}class bS extends $t{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new J,u=new Me;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const p=r+d/n*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),a.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(a[f]/e+1)/2,u.y=(a[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new nt(a,3)),this.setAttribute("normal",new nt(s,3)),this.setAttribute("uv",new nt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class jp extends $t{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],p=[];let g=0;const y=[],x=r/2;let v=0;b(),a===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new nt(d,3)),this.setAttribute("normal",new nt(f,3)),this.setAttribute("uv",new nt(p,2));function b(){const S=new J,A=new J;let M=0;const P=(n-e)/r;for(let N=0;N<=o;N++){const R=[],I=N/o,D=I*(n-e)+e;for(let U=0;U<=i;U++){const X=U/i,j=X*l+s,W=Math.sin(j),H=Math.cos(j);A.x=D*W,A.y=-I*r+x,A.z=D*H,d.push(A.x,A.y,A.z),S.set(W,P,H).normalize(),f.push(S.x,S.y,S.z),p.push(X,1-I),R.push(g++)}y.push(R)}for(let N=0;N<i;N++)for(let R=0;R<o;R++){const I=y[R][N],D=y[R+1][N],U=y[R+1][N+1],X=y[R][N+1];u.push(I,D,X),u.push(D,U,X),M+=6}c.addGroup(v,M,0),v+=M}function _(S){const A=g,M=new Me,P=new J;let N=0;const R=S===!0?e:n,I=S===!0?1:-1;for(let U=1;U<=i;U++)d.push(0,x*I,0),f.push(0,I,0),p.push(.5,.5),g++;const D=g;for(let U=0;U<=i;U++){const j=U/i*l+s,W=Math.cos(j),H=Math.sin(j);P.x=R*H,P.y=x*I,P.z=R*W,d.push(P.x,P.y,P.z),f.push(0,I,0),M.x=W*.5+.5,M.y=H*.5*I+.5,p.push(M.x,M.y),g++}for(let U=0;U<i;U++){const X=A+U,j=D+U;S===!0?u.push(j,j+1,X):u.push(j+1,j,X),N+=3}c.addGroup(v,N,S===!0?1:2),v+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _S extends jp{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new _S(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vc extends $t{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),c(r),u(),this.setAttribute("position",new nt(o,3)),this.setAttribute("normal",new nt(o.slice(),3)),this.setAttribute("uv",new nt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(b){const _=new J,S=new J,A=new J;for(let M=0;M<n.length;M+=3)p(n[M+0],_),p(n[M+1],S),p(n[M+2],A),l(_,S,A,b)}function l(b,_,S,A){const M=A+1,P=[];for(let N=0;N<=M;N++){P[N]=[];const R=b.clone().lerp(S,N/M),I=_.clone().lerp(S,N/M),D=M-N;for(let U=0;U<=D;U++)U===0&&N===M?P[N][U]=R:P[N][U]=R.clone().lerp(I,U/D)}for(let N=0;N<M;N++)for(let R=0;R<2*(M-N)-1;R++){const I=Math.floor(R/2);R%2===0?(f(P[N][I+1]),f(P[N+1][I]),f(P[N][I])):(f(P[N][I+1]),f(P[N+1][I+1]),f(P[N+1][I]))}}function c(b){const _=new J;for(let S=0;S<o.length;S+=3)_.x=o[S+0],_.y=o[S+1],_.z=o[S+2],_.normalize().multiplyScalar(b),o[S+0]=_.x,o[S+1]=_.y,o[S+2]=_.z}function u(){const b=new J;for(let _=0;_<o.length;_+=3){b.x=o[_+0],b.y=o[_+1],b.z=o[_+2];const S=x(b)/2/Math.PI+.5,A=v(b)/Math.PI+.5;a.push(S,1-A)}g(),d()}function d(){for(let b=0;b<a.length;b+=6){const _=a[b+0],S=a[b+2],A=a[b+4],M=Math.max(_,S,A),P=Math.min(_,S,A);M>.9&&P<.1&&(_<.2&&(a[b+0]+=1),S<.2&&(a[b+2]+=1),A<.2&&(a[b+4]+=1))}}function f(b){o.push(b.x,b.y,b.z)}function p(b,_){const S=b*3;_.x=e[S+0],_.y=e[S+1],_.z=e[S+2]}function g(){const b=new J,_=new J,S=new J,A=new J,M=new Me,P=new Me,N=new Me;for(let R=0,I=0;R<o.length;R+=9,I+=6){b.set(o[R+0],o[R+1],o[R+2]),_.set(o[R+3],o[R+4],o[R+5]),S.set(o[R+6],o[R+7],o[R+8]),M.set(a[I+0],a[I+1]),P.set(a[I+2],a[I+3]),N.set(a[I+4],a[I+5]),A.copy(b).add(_).add(S).divideScalar(3);const D=x(A);y(M,I+0,b,D),y(P,I+2,_,D),y(N,I+4,S,D)}}function y(b,_,S,A){A<0&&b.x===1&&(a[_]=b.x-1),S.x===0&&S.z===0&&(a[_]=A/2/Math.PI+.5)}function x(b){return Math.atan2(b.z,-b.x)}function v(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vc(e.vertices,e.indices,e.radius,e.details)}}class wS extends Vc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new wS(e.radius,e.detail)}}const db=new J,fb=new J,cM=new J,hb=new $i;class k9 extends $t{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(nd*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},p=[];for(let g=0;g<l;g+=3){a?(c[0]=a.getX(g),c[1]=a.getX(g+1),c[2]=a.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:y,b:x,c:v}=hb;if(y.fromBufferAttribute(s,c[0]),x.fromBufferAttribute(s,c[1]),v.fromBufferAttribute(s,c[2]),hb.getNormal(cM),d[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let b=0;b<3;b++){const _=(b+1)%3,S=d[b],A=d[_],M=hb[u[b]],P=hb[u[_]],N=`${S}_${A}`,R=`${A}_${S}`;R in f&&f[R]?(cM.dot(f[R].normal)<=o&&(p.push(M.x,M.y,M.z),p.push(P.x,P.y,P.z)),f[R]=null):N in f||(f[N]={index0:c[b],index1:c[_],normal:cM.clone()})}}for(const g in f)if(f[g]){const{index0:y,index1:x}=f[g];db.fromBufferAttribute(s,y),fb.fromBufferAttribute(s,x),p.push(db.x,db.y,db.z),p.push(fb.x,fb.y,fb.z)}this.setAttribute("position",new nt(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let od=class extends Av{constructor(e){super(e),this.uuid=Eo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Av().fromJSON(i))}return this}};const Dge={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=L9(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,d,f,p;if(r&&(o=zge(t,e,o,n)),t.length>80*n){s=c=t[0],l=u=t[1];for(let g=n;g<i;g+=n)d=t[g],f=t[g+1],d<s&&(s=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);p=Math.max(c-s,u-l),p=p!==0?32767/p:0}return Tv(o,a,n,s,l,p,0),a}};function L9(t,e,n,r,i){let o,a;if(i===Zge(t,e,n,r)>0)for(o=e;o<n;o+=r)a=LU(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=LU(o,t[o],t[o+1],a);return a&&SS(a,a.next)&&(Pv(a),a=a.next),a}function gd(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(SS(n,n.next)||jn(n.prev,n,n.next)===0)){if(Pv(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Tv(t,e,n,r,i,o,a){if(!t)return;!a&&o&&Gge(t,r,i,o);let s=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?Uge(t,r,i,o):jge(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Pv(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=Fge(gd(t),e,n),Tv(t,e,n,r,i,o,2)):a===2&&Bge(t,e,n,r,i,o):Tv(gd(t),e,n,r,i,o,1);break}}}function jge(t){const e=t.prev,n=t,r=t.next;if(jn(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,d=s<l?s<c?s:c:l<c?l:c,f=i>o?i>a?i:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=f&&g.y>=d&&g.y<=p&&ah(i,s,o,l,a,c,g.x,g.y)&&jn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Uge(t,e,n,r){const i=t.prev,o=t,a=t.next;if(jn(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,f=a.y,p=s<l?s<c?s:c:l<c?l:c,g=u<d?u<f?u:f:d<f?d:f,y=s>l?s>c?s:c:l>c?l:c,x=u>d?u>f?u:f:d>f?d:f,v=sO(p,g,e,n,r),b=sO(y,x,e,n,r);let _=t.prevZ,S=t.nextZ;for(;_&&_.z>=v&&S&&S.z<=b;){if(_.x>=p&&_.x<=y&&_.y>=g&&_.y<=x&&_!==i&&_!==a&&ah(s,u,l,d,c,f,_.x,_.y)&&jn(_.prev,_,_.next)>=0||(_=_.prevZ,S.x>=p&&S.x<=y&&S.y>=g&&S.y<=x&&S!==i&&S!==a&&ah(s,u,l,d,c,f,S.x,S.y)&&jn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;_&&_.z>=v;){if(_.x>=p&&_.x<=y&&_.y>=g&&_.y<=x&&_!==i&&_!==a&&ah(s,u,l,d,c,f,_.x,_.y)&&jn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;S&&S.z<=b;){if(S.x>=p&&S.x<=y&&S.y>=g&&S.y<=x&&S!==i&&S!==a&&ah(s,u,l,d,c,f,S.x,S.y)&&jn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function Fge(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!SS(i,o)&&D9(i,r,r.next,o)&&Mv(i,o)&&Mv(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),Pv(r),Pv(r.next),r=t=o),r=r.next}while(r!==t);return gd(r)}function Bge(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&Kge(a,s)){let l=j9(a,s);a=gd(a,a.next),l=gd(l,l.next),Tv(a,e,n,r,i,o,0),Tv(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function zge(t,e,n,r){const i=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=L9(t,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Xge(c));for(i.sort($ge),o=0;o<i.length;o++)n=Hge(i[o],n);return n}function $ge(t,e){return t.x-e.x}function Hge(t,e){const n=Vge(t,e);if(!n)return e;const r=j9(n,t);return gd(r,r.next),gd(n,n.next)}function Vge(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const f=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=o&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,c=i.y;let u=1/0,d;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&ah(a<c?o:r,a,l,c,a<c?r:o,a,n.x,n.y)&&(d=Math.abs(a-n.y)/(o-n.x),Mv(n,t)&&(d<u||d===u&&(n.x>i.x||n.x===i.x&&Wge(i,n)))&&(i=n,u=d)),n=n.next;while(n!==s);return i}function Wge(t,e){return jn(t.prev,t,e.prev)<0&&jn(e.next,t,t.next)<0}function Gge(t,e,n,r){let i=t;do i.z===0&&(i.z=sO(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,qge(i)}function qge(t){let e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return t}function sO(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Xge(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ah(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Kge(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Yge(t,e)&&(Mv(t,e)&&Mv(e,t)&&Jge(t,e)&&(jn(t.prev,t,e.prev)||jn(t,e.prev,e))||SS(t,e)&&jn(t.prev,t,t.next)>0&&jn(e.prev,e,e.next)>0)}function jn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function SS(t,e){return t.x===e.x&&t.y===e.y}function D9(t,e,n,r){const i=mb(jn(t,e,n)),o=mb(jn(t,e,r)),a=mb(jn(n,r,t)),s=mb(jn(n,r,e));return!!(i!==o&&a!==s||i===0&&pb(t,n,e)||o===0&&pb(t,r,e)||a===0&&pb(n,t,r)||s===0&&pb(n,e,r))}function pb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function mb(t){return t>0?1:t<0?-1:0}function Yge(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&D9(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Mv(t,e){return jn(t.prev,t,t.next)<0?jn(t,e,t.next)>=0&&jn(t,t.prev,e)>=0:jn(t,e,t.prev)<0||jn(t,t.next,e)<0}function Jge(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function j9(t,e){const n=new lO(t.i,t.x,t.y),r=new lO(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function LU(t,e,n,r){const i=new lO(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Pv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function lO(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Zge(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class hs{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return hs.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];DU(e),jU(r,e);let a=e.length;n.forEach(DU);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,jU(r,n[l]);const s=Dge.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function DU(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function jU(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class ES extends $t{constructor(e=new od([new Me(.5,.5),new Me(-.5,.5),new Me(-.5,-.5),new Me(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new nt(i,3)),this.setAttribute("uv",new nt(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:p-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:Qge;let _,S=!1,A,M,P,N;v&&(_=v.getSpacedPoints(u),S=!0,f=!1,A=v.computeFrenetFrames(u,!1),M=new J,P=new J,N=new J),f||(x=0,p=0,g=0,y=0);const R=s.extractPoints(c);let I=R.shape;const D=R.holes;if(!hs.isClockWise(I)){I=I.reverse();for(let z=0,ve=D.length;z<ve;z++){const se=D[z];hs.isClockWise(se)&&(D[z]=se.reverse())}}const X=hs.triangulateShape(I,D),j=I;for(let z=0,ve=D.length;z<ve;z++){const se=D[z];I=I.concat(se)}function W(z,ve,se){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),z.clone().addScaledVector(ve,se)}const H=I.length,Y=X.length;function k(z,ve,se){let Se,ue,Be;const Le=z.x-ve.x,G=z.y-ve.y,B=se.x-z.x,oe=se.y-z.y,Ce=Le*Le+G*G,Pe=Le*oe-G*B;if(Math.abs(Pe)>Number.EPSILON){const Ee=Math.sqrt(Ce),tt=Math.sqrt(B*B+oe*oe),je=ve.x-G/Ee,He=ve.y+Le/Ee,ct=se.x-oe/tt,gt=se.y+B/tt,Oe=((ct-je)*oe-(gt-He)*B)/(Le*oe-G*B);Se=je+Le*Oe-z.x,ue=He+G*Oe-z.y;const Gt=Se*Se+ue*ue;if(Gt<=2)return new Me(Se,ue);Be=Math.sqrt(Gt/2)}else{let Ee=!1;Le>Number.EPSILON?B>Number.EPSILON&&(Ee=!0):Le<-Number.EPSILON?B<-Number.EPSILON&&(Ee=!0):Math.sign(G)===Math.sign(oe)&&(Ee=!0),Ee?(Se=-G,ue=Le,Be=Math.sqrt(Ce)):(Se=Le,ue=G,Be=Math.sqrt(Ce/2))}return new Me(Se/Be,ue/Be)}const F=[];for(let z=0,ve=j.length,se=ve-1,Se=z+1;z<ve;z++,se++,Se++)se===ve&&(se=0),Se===ve&&(Se=0),F[z]=k(j[z],j[se],j[Se]);const $=[];let q,Z=F.concat();for(let z=0,ve=D.length;z<ve;z++){const se=D[z];q=[];for(let Se=0,ue=se.length,Be=ue-1,Le=Se+1;Se<ue;Se++,Be++,Le++)Be===ue&&(Be=0),Le===ue&&(Le=0),q[Se]=k(se[Se],se[Be],se[Le]);$.push(q),Z=Z.concat(q)}for(let z=0;z<x;z++){const ve=z/x,se=p*Math.cos(ve*Math.PI/2),Se=g*Math.sin(ve*Math.PI/2)+y;for(let ue=0,Be=j.length;ue<Be;ue++){const Le=W(j[ue],F[ue],Se);le(Le.x,Le.y,-se)}for(let ue=0,Be=D.length;ue<Be;ue++){const Le=D[ue];q=$[ue];for(let G=0,B=Le.length;G<B;G++){const oe=W(Le[G],q[G],Se);le(oe.x,oe.y,-se)}}}const ee=g+y;for(let z=0;z<H;z++){const ve=f?W(I[z],Z[z],ee):I[z];S?(P.copy(A.normals[0]).multiplyScalar(ve.x),M.copy(A.binormals[0]).multiplyScalar(ve.y),N.copy(_[0]).add(P).add(M),le(N.x,N.y,N.z)):le(ve.x,ve.y,0)}for(let z=1;z<=u;z++)for(let ve=0;ve<H;ve++){const se=f?W(I[ve],Z[ve],ee):I[ve];S?(P.copy(A.normals[z]).multiplyScalar(se.x),M.copy(A.binormals[z]).multiplyScalar(se.y),N.copy(_[z]).add(P).add(M),le(N.x,N.y,N.z)):le(se.x,se.y,d/u*z)}for(let z=x-1;z>=0;z--){const ve=z/x,se=p*Math.cos(ve*Math.PI/2),Se=g*Math.sin(ve*Math.PI/2)+y;for(let ue=0,Be=j.length;ue<Be;ue++){const Le=W(j[ue],F[ue],Se);le(Le.x,Le.y,d+se)}for(let ue=0,Be=D.length;ue<Be;ue++){const Le=D[ue];q=$[ue];for(let G=0,B=Le.length;G<B;G++){const oe=W(Le[G],q[G],Se);S?le(oe.x,oe.y+_[u-1].y,_[u-1].x+se):le(oe.x,oe.y,d+se)}}}ne(),ye();function ne(){const z=i.length/3;if(f){let ve=0,se=H*ve;for(let Se=0;Se<Y;Se++){const ue=X[Se];Re(ue[2]+se,ue[1]+se,ue[0]+se)}ve=u+x*2,se=H*ve;for(let Se=0;Se<Y;Se++){const ue=X[Se];Re(ue[0]+se,ue[1]+se,ue[2]+se)}}else{for(let ve=0;ve<Y;ve++){const se=X[ve];Re(se[2],se[1],se[0])}for(let ve=0;ve<Y;ve++){const se=X[ve];Re(se[0]+H*u,se[1]+H*u,se[2]+H*u)}}r.addGroup(z,i.length/3-z,0)}function ye(){const z=i.length/3;let ve=0;xe(j,ve),ve+=j.length;for(let se=0,Se=D.length;se<Se;se++){const ue=D[se];xe(ue,ve),ve+=ue.length}r.addGroup(z,i.length/3-z,1)}function xe(z,ve){let se=z.length;for(;--se>=0;){const Se=se;let ue=se-1;ue<0&&(ue=z.length-1);for(let Be=0,Le=u+x*2;Be<Le;Be++){const G=H*Be,B=H*(Be+1),oe=ve+Se+G,Ce=ve+ue+G,Pe=ve+ue+B,Ee=ve+Se+B;de(oe,Ce,Pe,Ee)}}}function le(z,ve,se){l.push(z),l.push(ve),l.push(se)}function Re(z,ve,se){he(z),he(ve),he(se);const Se=i.length/3,ue=b.generateTopUV(r,i,Se-3,Se-2,Se-1);_e(ue[0]),_e(ue[1]),_e(ue[2])}function de(z,ve,se,Se){he(z),he(ve),he(Se),he(ve),he(se),he(Se);const ue=i.length/3,Be=b.generateSideWallUV(r,i,ue-6,ue-3,ue-2,ue-1);_e(Be[0]),_e(Be[1]),_e(Be[3]),_e(Be[1]),_e(Be[2]),_e(Be[3])}function he(z){i.push(l[z*3+0]),i.push(l[z*3+1]),i.push(l[z*3+2])}function _e(z){o.push(z.x),o.push(z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return eve(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new uw[i.type]().fromJSON(i)),new ES(r,e.options)}}const Qge={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Me(o,a),new Me(s,l),new Me(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],p=e[i*3+1],g=e[i*3+2],y=e[o*3],x=e[o*3+1],v=e[o*3+2];return Math.abs(s-u)<Math.abs(a-c)?[new Me(a,1-l),new Me(c,1-d),new Me(f,1-g),new Me(y,1-v)]:[new Me(s,1-l),new Me(u,1-d),new Me(p,1-g),new Me(x,1-v)]}};function eve(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class AS extends Vc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new AS(e.radius,e.detail)}}class Hy extends Vc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Hy(e.radius,e.detail)}}class TS extends $t{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],c=[],u=[];let d=e;const f=(n-e)/i,p=new J,g=new Me;for(let y=0;y<=i;y++){for(let x=0;x<=r;x++){const v=o+x/r*a;p.x=d*Math.cos(v),p.y=d*Math.sin(v),l.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(p.x/n+1)/2,g.y=(p.y/n+1)/2,u.push(g.x,g.y)}d+=f}for(let y=0;y<i;y++){const x=y*(r+1);for(let v=0;v<r;v++){const b=v+x,_=b,S=b+r+1,A=b+r+2,M=b+1;s.push(_,S,M),s.push(S,A,M)}}this.setIndex(s),this.setAttribute("position",new nt(l,3)),this.setAttribute("normal",new nt(c,3)),this.setAttribute("uv",new nt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class MS extends $t{constructor(e=new od([new Me(0,.5),new Me(-.5,-.5),new Me(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new nt(i,3)),this.setAttribute("normal",new nt(o,3)),this.setAttribute("uv",new nt(a,2));function c(u){const d=i.length/3,f=u.extractPoints(n);let p=f.shape;const g=f.holes;hs.isClockWise(p)===!1&&(p=p.reverse());for(let x=0,v=g.length;x<v;x++){const b=g[x];hs.isClockWise(b)===!0&&(g[x]=b.reverse())}const y=hs.triangulateShape(p,g);for(let x=0,v=g.length;x<v;x++){const b=g[x];p=p.concat(b)}for(let x=0,v=p.length;x<v;x++){const b=p[x];i.push(b.x,b.y,0),o.push(0,0,1),a.push(b.x,b.y)}for(let x=0,v=y.length;x<v;x++){const b=y[x],_=b[0]+d,S=b[1]+d,A=b[2]+d;r.push(_,S,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return tve(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new MS(r,e.curveSegments)}}function tve(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Vy extends $t{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const u=[],d=new J,f=new J,p=[],g=[],y=[],x=[];for(let v=0;v<=r;v++){const b=[],_=v/r;let S=0;v===0&&a===0?S=.5/n:v===r&&l===Math.PI&&(S=-.5/n);for(let A=0;A<=n;A++){const M=A/n;d.x=-e*Math.cos(i+M*o)*Math.sin(a+_*s),d.y=e*Math.cos(a+_*s),d.z=e*Math.sin(i+M*o)*Math.sin(a+_*s),g.push(d.x,d.y,d.z),f.copy(d).normalize(),y.push(f.x,f.y,f.z),x.push(M+S,1-_),b.push(c++)}u.push(b)}for(let v=0;v<r;v++)for(let b=0;b<n;b++){const _=u[v][b+1],S=u[v][b],A=u[v+1][b],M=u[v+1][b+1];(v!==0||a>0)&&p.push(_,S,M),(v!==r-1||l<Math.PI)&&p.push(S,A,M)}this.setIndex(p),this.setAttribute("position",new nt(g,3)),this.setAttribute("normal",new nt(y,3)),this.setAttribute("uv",new nt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class PS extends Vc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new PS(e.radius,e.detail)}}class CS extends $t{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],c=[],u=new J,d=new J,f=new J;for(let p=0;p<=r;p++)for(let g=0;g<=i;g++){const y=g/i*o,x=p/r*Math.PI*2;d.x=(e+n*Math.cos(x))*Math.cos(y),d.y=(e+n*Math.cos(x))*Math.sin(y),d.z=n*Math.sin(x),s.push(d.x,d.y,d.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(g/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let g=1;g<=i;g++){const y=(i+1)*p+g-1,x=(i+1)*(p-1)+g-1,v=(i+1)*(p-1)+g,b=(i+1)*p+g;a.push(y,x,b),a.push(x,v,b)}this.setIndex(a),this.setAttribute("position",new nt(s,3)),this.setAttribute("normal",new nt(l,3)),this.setAttribute("uv",new nt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class OS extends $t{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],c=[],u=[],d=new J,f=new J,p=new J,g=new J,y=new J,x=new J,v=new J;for(let _=0;_<=r;++_){const S=_/r*o*Math.PI*2;b(S,o,a,e,p),b(S+.01,o,a,e,g),x.subVectors(g,p),v.addVectors(g,p),y.crossVectors(x,v),v.crossVectors(y,x),y.normalize(),v.normalize();for(let A=0;A<=i;++A){const M=A/i*Math.PI*2,P=-n*Math.cos(M),N=n*Math.sin(M);d.x=p.x+(P*v.x+N*y.x),d.y=p.y+(P*v.y+N*y.y),d.z=p.z+(P*v.z+N*y.z),l.push(d.x,d.y,d.z),f.subVectors(d,p).normalize(),c.push(f.x,f.y,f.z),u.push(_/r),u.push(A/i)}}for(let _=1;_<=r;_++)for(let S=1;S<=i;S++){const A=(i+1)*(_-1)+(S-1),M=(i+1)*_+(S-1),P=(i+1)*_+S,N=(i+1)*(_-1)+S;s.push(A,M,N),s.push(M,P,N)}this.setIndex(s),this.setAttribute("position",new nt(l,3)),this.setAttribute("normal",new nt(c,3)),this.setAttribute("uv",new nt(u,2));function b(_,S,A,M,P){const N=Math.cos(_),R=Math.sin(_),I=A/S*_,D=Math.cos(I);P.x=M*(2+D)*.5*N,P.y=M*(2+D)*R*.5,P.z=M*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class RS extends $t{constructor(e=new hI(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new J,l=new J,c=new Me;let u=new J;const d=[],f=[],p=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new nt(d,3)),this.setAttribute("normal",new nt(f,3)),this.setAttribute("uv",new nt(p,2));function y(){for(let _=0;_<n;_++)x(_);x(o===!1?n:0),b(),v()}function x(_){u=e.getPointAt(_/n,u);const S=a.normals[_],A=a.binormals[_];for(let M=0;M<=i;M++){const P=M/i*Math.PI*2,N=Math.sin(P),R=-Math.cos(P);l.x=R*S.x+N*A.x,l.y=R*S.y+N*A.y,l.z=R*S.z+N*A.z,l.normalize(),f.push(l.x,l.y,l.z),s.x=u.x+r*l.x,s.y=u.y+r*l.y,s.z=u.z+r*l.z,d.push(s.x,s.y,s.z)}}function v(){for(let _=1;_<=n;_++)for(let S=1;S<=i;S++){const A=(i+1)*(_-1)+(S-1),M=(i+1)*_+(S-1),P=(i+1)*_+S,N=(i+1)*(_-1)+S;g.push(A,M,N),g.push(M,P,N)}}function b(){for(let _=0;_<=n;_++)for(let S=0;S<=i;S++)c.x=_/n,c.y=S/i,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new RS(new uw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class U9 extends $t{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new J,o=new J;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,p=d.count;for(let g=f,y=f+p;g<y;g+=3)for(let x=0;x<3;x++){const v=s.getX(g+x),b=s.getX(g+(x+1)%3);i.fromBufferAttribute(a,v),o.fromBufferAttribute(a,b),UU(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const u=3*s+c,d=3*s+(c+1)%3;i.fromBufferAttribute(a,u),o.fromBufferAttribute(a,d),UU(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new nt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function UU(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var FU=Object.freeze({__proto__:null,BoxGeometry:Id,CapsuleGeometry:xS,CircleGeometry:bS,ConeGeometry:_S,CylinderGeometry:jp,DodecahedronGeometry:wS,EdgesGeometry:k9,ExtrudeGeometry:ES,IcosahedronGeometry:AS,LatheGeometry:$y,OctahedronGeometry:Hy,PlaneGeometry:By,PolyhedronGeometry:Vc,RingGeometry:TS,ShapeGeometry:MS,SphereGeometry:Vy,TetrahedronGeometry:PS,TorusGeometry:CS,TorusKnotGeometry:OS,TubeGeometry:RS,WireframeGeometry:U9});class F9 extends fi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new qe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class B9 extends bs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class mI extends fi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new qe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class z9 extends mI{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Me(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new qe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new qe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new qe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class $9 extends fi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new qe(16777215),this.specular=new qe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ky,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class H9 extends fi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new qe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class V9 extends fi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class W9 extends fi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ky,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class G9 extends fi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new qe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$c,this.normalScale=new Me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class q9 extends Di{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Hu(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function X9(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function K9(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function cO(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function gI(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function nve(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),d=[],f=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*i;if(!(g<n||g>=r)){d.push(c.times[p]);for(let y=0;y<u;++y)f.push(c.values[p*u+y])}}d.length!==0&&(c.times=Hu(d,c.times.constructor),c.values=Hu(f,c.values.constructor),a.push(c))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function rve(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(v){return v.name===s.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);const g=s.times.length-1;let y;if(o<=s.times[0]){const v=u,b=d-u;y=s.values.slice(v,b)}else if(o>=s.times[g]){const v=g*d+u,b=v+d-u;y=s.values.slice(v,b)}else{const v=s.createInterpolant(),b=u,_=d-u;v.evaluate(o),y=v.resultBuffer.slice(b,_)}l==="quaternion"&&new Yi().fromArray(y).normalize().conjugate().toArray(y);const x=c.times.length;for(let v=0;v<x;++v){const b=v*p+f;if(l==="quaternion")Yi.multiplyQuaternionsFlat(c.values,b,y,0,c.values,b);else{const _=p-f*2;for(let S=0;S<_;++S)c.values[b+S]-=y[S]}}}return t.blendMode=GN,t}const ive={convertArray:Hu,isTypedArray:X9,getKeyframeOrder:K9,sortedArray:cO,flattenJSON:gI,subclip:nve,makeClipAdditive:rve};class Wy{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Y9 extends Wy{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Bu,endingEnd:Bu}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case zu:o=e,s=2*n-r;break;case xv:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case zu:a=e,l=2*r-n;break;case xv:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=a*u}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,p=this._weightNext,g=(r-n)/(i-n),y=g*g,x=y*g,v=-f*x+2*f*y-f*g,b=(1+f)*x+(-1.5-2*f)*y+(-.5+f)*g+1,_=(-1-p)*x+(1.5+p)*y+.5*g,S=p*x-p*y;for(let A=0;A!==s;++A)o[A]=v*a[u+A]+b*a[c+A]+_*a[l+A]+S*a[d+A];return o}}class vI extends Wy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=(r-n)/(i-n),d=1-u;for(let f=0;f!==s;++f)o[f]=a[c+f]*d+a[l+f]*u;return o}}class J9 extends Wy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class za{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hu(n,this.TimeBufferType),this.values=Hu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Hu(e.times,Array),values:Hu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new J9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new vI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Y9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case vv:n=this.InterpolantFactoryMethodDiscrete;break;case yv:n=this.InterpolantFactoryMethodLinear;break;case b_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return vv;case this.InterpolantFactoryMethodLinear:return yv;case this.InterpolantFactoryMethodSmooth:return b_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&X9(i))for(let s=0,l=i.length;s!==l;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===b_,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const c=e[s],u=e[s+1];if(c!==u&&(s!==1||c!==e[0]))if(i)l=!0;else{const d=s*r,f=d-r,p=d+r;for(let g=0;g!==r;++g){const y=n[d+g];if(y!==n[f+g]||y!==n[p+g]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const d=s*r,f=a*r;for(let p=0;p!==r;++p)n[f+p]=n[d+p]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[s+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}za.prototype.TimeBufferType=Float32Array;za.prototype.ValueBufferType=Float32Array;za.prototype.DefaultInterpolation=yv;class kd extends za{}kd.prototype.ValueTypeName="bool";kd.prototype.ValueBufferType=Array;kd.prototype.DefaultInterpolation=vv;kd.prototype.InterpolantFactoryMethodLinear=void 0;kd.prototype.InterpolantFactoryMethodSmooth=void 0;class yI extends za{}yI.prototype.ValueTypeName="color";class Cv extends za{}Cv.prototype.ValueTypeName="number";class Z9 extends Wy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let c=e*s;for(let u=c+s;c!==u;c+=4)Yi.slerpFlat(o,0,a,c-s,a,c,l);return o}}class Up extends za{InterpolantFactoryMethodLinear(e){return new Z9(this.times,this.values,this.getValueSize(),e)}}Up.prototype.ValueTypeName="quaternion";Up.prototype.DefaultInterpolation=yv;Up.prototype.InterpolantFactoryMethodSmooth=void 0;class Ld extends za{}Ld.prototype.ValueTypeName="string";Ld.prototype.ValueBufferType=Array;Ld.prototype.DefaultInterpolation=vv;Ld.prototype.InterpolantFactoryMethodLinear=void 0;Ld.prototype.InterpolantFactoryMethodSmooth=void 0;class Ov extends za{}Ov.prototype.ValueTypeName="vector";class Rv{constructor(e,n=-1,r,i=cS){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Eo(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(ave(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(za.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],c=[];l.push((s+o-1)%o,s,(s+1)%o),c.push(0,1,0);const u=K9(l);l=cO(l,1,u),c=cO(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),a.push(new Cv(".morphTargetInfluences["+n[s].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],u=c.name.match(o);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,p,g,y){if(p.length!==0){const x=[],v=[];gI(p,x,v,g),x.length!==0&&y.push(new d(f,x,v))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let y=0;y<f[g].morphTargets.length;y++)p[f[g].morphTargets[y]]=-1;for(const y in p){const x=[],v=[];for(let b=0;b!==f[g].morphTargets.length;++b){const _=f[g];x.push(_.time),v.push(_.morphTarget===y?1:0)}i.push(new Cv(".morphTargetInfluence["+y+"]",x,v))}l=p.length*a}else{const p=".bones["+n[d].name+"]";r(Ov,p+".position",f,"pos",i),r(Up,p+".quaternion",f,"rot",i),r(Ov,p+".scale",f,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ove(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Cv;case"vector":case"vector2":case"vector3":case"vector4":return Ov;case"color":return yI;case"quaternion":return Up;case"bool":case"boolean":return kd;case"string":return Ld}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function ave(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ove(t.type);if(t.times===void 0){const n=[],r=[];gI(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Js={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class xI{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){s++,o===!1&&i.onStart!==void 0&&i.onStart(u,a,s),o=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const p=c[d],g=c[d+1];if(p.global&&(p.lastIndex=0),p.test(u))return g}return null}}}const Q9=new xI;class Ji{constructor(e){this.manager=e!==void 0?e:Q9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ji.DEFAULT_MATERIAL_NAME="__DEFAULT";const Fs={};class sve extends Error{constructor(e,n){super(e),this.response=n}}class pl extends Ji{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Js.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Fs[e]!==void 0){Fs[e].push({onLoad:n,onProgress:r,onError:i});return}Fs[e]=[],Fs[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Fs[e],d=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),p=f?parseInt(f):0,g=p!==0;let y=0;const x=new ReadableStream({start(v){b();function b(){d.read().then(({done:_,value:S})=>{if(_)v.close();else{y+=S.byteLength;const A=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:p});for(let M=0,P=u.length;M<P;M++){const N=u[M];N.onProgress&&N.onProgress(A)}v.enqueue(S),b()}})}}});return new Response(x)}else throw new sve(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,s));case"json":return c.json();default:if(s===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(s),f=d&&d[1]?d[1].toLowerCase():void 0,p=new TextDecoder(f);return c.arrayBuffer().then(g=>p.decode(g))}}}).then(c=>{Js.add(e,c);const u=Fs[e];delete Fs[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=Fs[e];if(u===void 0)throw this.manager.itemError(e),c;delete Fs[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class lve extends Ji{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new pl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Rv.parse(e[r]);n.push(i)}return n}}class cve extends Ji{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new vS,l=new pl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const p=o.parse(f,!0);a[d]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(s.minFilter=tr),s.image=a,s.format=p.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=o.parse(d,!0);if(f.isCubemap){const p=f.mipmaps.length/f.mipmapCount;for(let g=0;g<p;g++){a[g]={mipmaps:[]};for(let y=0;y<f.mipmapCount;y++)a[g].mipmaps.push(f.mipmaps[g*f.mipmapCount+y]),a[g].format=f.format,a[g].width=f.width,a[g].height=f.height}s.image=a}else s.image.width=f.width,s.image.height=f.height,s.mipmaps=f.mipmaps;f.mipmapCount===1&&(s.minFilter=tr),s.format=f.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class Nv extends Ji{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Js.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=Ev("img");function l(){u(),Js.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class uve extends Ji{constructor(e){super(e)}load(e,n,r,i){const o=new Uy;o.colorSpace=gr;const a=new Nv(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(c){a.load(e[c],function(u){o.images[c]=u,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class dve extends Ji{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new id,s=new pl(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:si,a.wrapT=c.wrapT!==void 0?c.wrapT:si,a.magFilter=c.magFilter!==void 0?c.magFilter:tr,a.minFilter=c.minFilter!==void 0?c.minFilter:tr,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?a.colorSpace=c.colorSpace:c.encoding!==void 0&&(a.encoding=c.encoding),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=kc),c.mipmapCount===1&&(a.minFilter=tr),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class fve extends Ji{constructor(e){super(e)}load(e,n,r,i){const o=new nr,a=new Nv(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Wc extends en{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new qe(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class e7 extends Wc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.groundColor=new qe(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const uM=new At,BU=new J,zU=new J;class bI{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Me(512,512),this.map=null,this.mapPass=null,this.matrix=new At,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Fy,this._frameExtents=new Me(1,1),this._viewportCount=1,this._viewports=[new ln(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;BU.setFromMatrixPosition(e.matrixWorld),n.position.copy(BU),zU.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(zU),n.updateMatrixWorld(),uM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uM),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(uM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class hve extends bI{constructor(){super(new Ir(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Xh*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class t7 extends Wc{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new hve}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const $U=new At,Vm=new J,dM=new J;class pve extends bI{constructor(){super(new Ir(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Me(4,2),this._viewportCount=6,this._viewports=[new ln(2,1,1,1),new ln(0,1,1,1),new ln(3,1,1,1),new ln(1,1,1,1),new ln(3,0,1,1),new ln(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Vm.setFromMatrixPosition(e.matrixWorld),r.position.copy(Vm),dM.copy(r.position),dM.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(dM),r.updateMatrixWorld(),i.makeTranslation(-Vm.x,-Vm.y,-Vm.z),$U.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix($U)}}class n7 extends Wc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new pve}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class mve extends bI{constructor(){super(new zy(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class r7 extends Wc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.shadow=new mve}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class i7 extends Wc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class o7 extends Wc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class a7{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class s7 extends Wc{constructor(e=new a7,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class NS extends Ji{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new pl(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=NS.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new qe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new qe().setHex(a.value);break;case"v2":i.uniforms[o].value=new Me().fromArray(a.value);break;case"v3":i.uniforms[o].value=new J().fromArray(a.value);break;case"v4":i.uniforms[o].value=new ln().fromArray(a.value);break;case"m3":i.uniforms[o].value=new zt().fromArray(a.value);break;case"m4":i.uniforms[o].value=new At().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Me().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Me().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:F9,SpriteMaterial:aI,RawShaderMaterial:B9,ShaderMaterial:bs,PointsMaterial:lI,MeshPhysicalMaterial:z9,MeshStandardMaterial:mI,MeshPhongMaterial:$9,MeshToonMaterial:H9,MeshNormalMaterial:V9,MeshLambertMaterial:W9,MeshDepthMaterial:nI,MeshDistanceMaterial:rI,MeshBasicMaterial:Hc,MeshMatcapMaterial:G9,LineDashedMaterial:q9,LineBasicMaterial:Di,Material:fi};return new n[e]}}class uO{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class l7 extends $t{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class c7 extends Ji{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new pl(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(p,g){if(n[g]!==void 0)return n[g];const x=p.interleavedBuffers[g],v=o(p,x.buffer),b=nh(x.type,v),_=new mS(b,x.stride);return _.uuid=x.uuid,n[g]=_,_}function o(p,g){if(r[g]!==void 0)return r[g];const x=p.arrayBuffers[g],v=new Uint32Array(x).buffer;return r[g]=v,v}const a=e.isInstancedBufferGeometry?new l7:new $t,s=e.data.index;if(s!==void 0){const p=nh(s.type,s.array);a.setIndex(new un(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let y;if(g.isInterleavedBufferAttribute){const x=i(e.data,g.data);y=new md(x,g.itemSize,g.offset,g.normalized)}else{const x=nh(g.type,g.array),v=g.isInstancedBufferAttribute?Yh:un;y=new v(x,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),a.setAttribute(p,y)}const c=e.data.morphAttributes;if(c)for(const p in c){const g=c[p],y=[];for(let x=0,v=g.length;x<v;x++){const b=g[x];let _;if(b.isInterleavedBufferAttribute){const S=i(e.data,b.data);_=new md(S,b.itemSize,b.offset,b.normalized)}else{const S=nh(b.type,b.array);_=new un(S,b.itemSize,b.normalized)}b.name!==void 0&&(_.name=b.name),y.push(_)}a.morphAttributes[p]=y}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let p=0,g=d.length;p!==g;++p){const y=d[p];a.addGroup(y.start,y.count,y.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const p=new J;f.center!==void 0&&p.fromArray(f.center),a.boundingSphere=new li(p,f.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class gve extends Ji{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?uO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new pl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?uO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new pl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,o,l,s,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const f in a)if(a[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new od().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new gS().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new c7;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in FU?s=FU[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new NS;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=Rv.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(u)}else return l.data?{data:nh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new xI(n);o=new Nv(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const p=[];for(let g=0,y=f.length;g<y;g++){const x=f[g],v=s(x);v!==null&&(v instanceof HTMLImageElement?p.push(v):p.push(new id(v.data,v.width,v.height)))}i[d.uuid]=new $u(p)}else{const p=s(d.url);i[d.uuid]=new $u(p)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:nh(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new Nv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const p=c[d],g=await o(p);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new id(g.data,g.width,g.height)))}r[l.uuid]=new $u(u)}else{const u=await o(l.url);r[l.uuid]=new $u(u)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],c=l.data;let u;Array.isArray(c)?(u=new Uy,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new id:u=new nr,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=s.uuid,s.name!==void 0&&(u.name=s.name),s.mapping!==void 0&&(u.mapping=r(s.mapping,vve)),s.channel!==void 0&&(u.channel=s.channel),s.offset!==void 0&&u.offset.fromArray(s.offset),s.repeat!==void 0&&u.repeat.fromArray(s.repeat),s.center!==void 0&&u.center.fromArray(s.center),s.rotation!==void 0&&(u.rotation=s.rotation),s.wrap!==void 0&&(u.wrapS=r(s.wrap[0],HU),u.wrapT=r(s.wrap[1],HU)),s.format!==void 0&&(u.format=s.format),s.internalFormat!==void 0&&(u.internalFormat=s.internalFormat),s.type!==void 0&&(u.type=s.type),s.colorSpace!==void 0&&(u.colorSpace=s.colorSpace),s.encoding!==void 0&&(u.encoding=s.encoding),s.minFilter!==void 0&&(u.minFilter=r(s.minFilter,VU)),s.magFilter!==void 0&&(u.magFilter=r(s.magFilter,VU)),s.anisotropy!==void 0&&(u.anisotropy=s.anisotropy),s.flipY!==void 0&&(u.flipY=s.flipY),s.generateMipmaps!==void 0&&(u.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(u.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(u.compareFunction=s.compareFunction),s.userData!==void 0&&(u.userData=s.userData),i[s.uuid]=u}return i}parseObject(e,n,r,i,o){let a;function s(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const p=[];for(let g=0,y=f.length;g<y;g++){const x=f[g];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),p.push(r[x])}return p}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":a=new oI,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new qe(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new pS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new hS(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new Ir(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new zy(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new i7(e.color,e.intensity);break;case"DirectionalLight":a=new r7(e.color,e.intensity);break;case"PointLight":a=new n7(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new o7(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new t7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new e7(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new s7().fromJSON(e);break;case"SkinnedMesh":u=s(e.geometry),d=l(e.material),a=new E9(u,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=s(e.geometry),d=l(e.material),a=new xr(u,d);break;case"InstancedMesh":u=s(e.geometry),d=l(e.material);const f=e.count,p=e.instanceMatrix,g=e.instanceColor;a=new A9(u,d,f),a.instanceMatrix=new Yh(new Float32Array(p.array),16),g!==void 0&&(a.instanceColor=new Yh(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=s(e.geometry),d=l(e.material),a=new T9(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(y=>{const x=new Oi;x.min.fromArray(y.boxMin),x.max.fromArray(y.boxMax);const v=new li;return v.radius=y.sphereRadius,v.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:x,sphereInitialized:y.sphereInitialized,sphere:v}}),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":a=new S9;break;case"Line":a=new Lc(s(e.geometry),l(e.material));break;case"LineLoop":a=new M9(s(e.geometry),l(e.material));break;case"LineSegments":a=new Es(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new P9(s(e.geometry),l(e.material));break;case"Sprite":a=new w9(l(e.material));break;case"Group":a=new oh;break;case"Bone":a=new sI;break;default:a=new en}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let p=0;p<f.length;p++)a.add(this.parseObject(f[p],n,r,i,o))}if(e.animations!==void 0){const f=e.animations;for(let p=0;p<f.length;p++){const g=f[p];a.animations.push(o[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const f=e.levels;for(let p=0;p<f.length;p++){const g=f[p],y=a.getObjectByProperty("uuid",g.object);y!==void 0&&a.addLevel(y,g.distance,g.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const vve={UVMapping:sS,CubeReflectionMapping:hl,CubeRefractionMapping:Ic,EquirectangularReflectionMapping:hv,EquirectangularRefractionMapping:pv,CubeUVReflectionMapping:kp},HU={RepeatWrapping:mv,ClampToEdgeWrapping:si,MirroredRepeatWrapping:gv},VU={NearestFilter:Qn,NearestMipmapNearestFilter:sw,NearestMipmapLinearFilter:Ag,LinearFilter:tr,LinearMipmapNearestFilter:UN,LinearMipmapLinearFilter:kc};class yve extends Ji{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Js.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(c=>{n&&n(c),o.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return Js.add(e,c),n&&n(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Js.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Js.add(e,l),o.manager.itemStart(e)}}let gb;class _I{static getContext(){return gb===void 0&&(gb=new(window.AudioContext||window.webkitAudioContext)),gb}static setContext(e){gb=e}}class xve extends Ji{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new pl(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);_I.getContext().decodeAudioData(c,function(d){n(d)}).catch(s)}catch(c){s(c)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const WU=new At,GU=new At,pu=new At;class bve{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ir,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ir,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,pu.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(nd*n.fov*.5)/n.zoom;let s,l;GU.elements[12]=-i,WU.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,pu.elements[0]=2*n.near/(l-s),pu.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(pu),s=-a*n.aspect-o,l=a*n.aspect-o,pu.elements[0]=2*n.near/(l-s),pu.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(pu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(GU),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(WU)}}class wI{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=qU(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=qU();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function qU(){return(typeof performance>"u"?Date:performance).now()}const mu=new J,XU=new Yi,_ve=new J,gu=new J;class wve extends en{constructor(){super(),this.type="AudioListener",this.context=_I.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new wI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mu,XU,_ve),gu.set(0,0,-1).applyQuaternion(XU),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(mu.x,i),n.positionY.linearRampToValueAtTime(mu.y,i),n.positionZ.linearRampToValueAtTime(mu.z,i),n.forwardX.linearRampToValueAtTime(gu.x,i),n.forwardY.linearRampToValueAtTime(gu.y,i),n.forwardZ.linearRampToValueAtTime(gu.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(mu.x,mu.y,mu.z),n.setOrientation(gu.x,gu.y,gu.z,r.x,r.y,r.z)}}class u7 extends en{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const vu=new J,KU=new Yi,Sve=new J,yu=new J;class Eve extends u7{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(vu,KU,Sve),yu.set(0,0,1).applyQuaternion(KU);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(vu.x,r),n.positionY.linearRampToValueAtTime(vu.y,r),n.positionZ.linearRampToValueAtTime(vu.z,r),n.orientationX.linearRampToValueAtTime(yu.x,r),n.orientationY.linearRampToValueAtTime(yu.y,r),n.orientationZ.linearRampToValueAtTime(yu.z,r)}else n.setPosition(vu.x,vu.y,vu.z),n.setOrientation(yu.x,yu.y,yu.z)}}class Ave{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class d7{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){Yi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;Yi.multiplyQuaternionsFlat(e,a,e,n,e,r),Yi.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const SI="\\[\\]\\.:\\/",Tve=new RegExp("["+SI+"]","g"),EI="[^"+SI+"]",Mve="[^"+SI.replace("\\.","")+"]",Pve=/((?:WC+[\/:])*)/.source.replace("WC",EI),Cve=/(WCOD+)?/.source.replace("WCOD",Mve),Ove=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",EI),Rve=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",EI),Nve=new RegExp("^"+Pve+Cve+Ove+Rve+"$"),Ive=["material","materials","bones","map"];class kve{constructor(e,n,r){const i=r||Xt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Xt{constructor(e,n,r){this.path=n,this.parsedPath=r||Xt.parseTrackName(n),this.node=Xt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Xt.Composite(e,n,r):new Xt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Tve,"")}static parseTrackName(e){const n=Nve.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);Ive.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Xt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Xt.Composite=kve;Xt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Xt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Xt.prototype.GetterByBindingType=[Xt.prototype._getValue_direct,Xt.prototype._getValue_array,Xt.prototype._getValue_arrayElement,Xt.prototype._getValue_toArray];Xt.prototype.SetterByBindingTypeAndVersioning=[[Xt.prototype._setValue_direct,Xt.prototype._setValue_direct_setNeedsUpdate,Xt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_array,Xt.prototype._setValue_array_setNeedsUpdate,Xt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_arrayElement,Xt.prototype._setValue_arrayElement_setNeedsUpdate,Xt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_fromArray,Xt.prototype._setValue_fromArray_setNeedsUpdate,Xt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Lve{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Eo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],p=f.uuid;let g=n[p];if(g===void 0){g=l++,n[p]=g,e.push(f);for(let y=0,x=a;y!==x;++y)o[y].push(new Xt(f,r[y],i[y]))}else if(g<c){s=e[g];const y=--c,x=e[y];n[x.uuid]=g,e[g]=x,n[p]=y,e[y]=f;for(let v=0,b=a;v!==b;++v){const _=o[v],S=_[y];let A=_[g];_[g]=S,A===void 0&&(A=new Xt(f,r[v],i[v])),_[y]=A}}else e[g]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=o){const d=o++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let p=0,g=i;p!==g;++p){const y=r[p],x=y[d],v=y[u];y[u]=x,y[d]=v}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<o){const f=--o,p=e[f],g=--a,y=e[g];n[p.uuid]=d,e[d]=p,n[y.uuid]=f,e[f]=y,e.pop();for(let x=0,v=i;x!==v;++x){const b=r[x],_=b[f],S=b[g];b[d]=_,b[f]=S,b.pop()}}else{const f=--a,p=e[f];f>0&&(n[p.uuid]=d),e[d]=p,e.pop();for(let g=0,y=i;g!==y;++g){const x=r[g];x[d]=x[f],x.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(d);for(let f=u,p=l.length;f!==p;++f){const g=l[f];d[f]=new Xt(g,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],c=e[s];n[c]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class f7{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:Bu,endingEnd:Bu};for(let c=0;c!==a;++c){const u=o[c].createInterpolant(null);s[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=GG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case GN:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulateAdditive(s);break;case cS:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===qG;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===WG){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=zu,i.endingEnd=zu):(e?i.endingStart=this.zeroSlopeAtStart?zu:Bu:i.endingStart=xv,n?i.endingEnd=this.zeroSlopeAtEnd?zu:Bu:i.endingEnd=xv)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const Dve=new Float32Array(1);class jve extends xl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==o;++d){const f=i[d],p=f.name;let g=u[p];if(g!==void 0)++g.referenceCount,a[d]=g;else{if(g=a[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const y=n&&n._propertyBindings[d].binding.parsedPath;g=new d7(Xt.create(r,p,y),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),a[d]=g}s[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=s.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new vI(new Float32Array(2),new Float32Array(2),1,Dve),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?Rv.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=cS),l!==void 0){const d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new f7(this,a,n,r);return this._bindAction(u,c),this._addInactiveAction(u,s,o),u}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?Rv.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const c=a[s];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class AI{constructor(e){this.value=e}clone(){return new AI(this.value.clone===void 0?this.value:this.value.clone())}}let Uve=0;class Fve extends xl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Uve++}),this.name="",this.usage=Sv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class Bve extends mS{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class zve{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class h7{constructor(e,n,r=0,i=1/0){this.ray=new Lp(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new rd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return dO(e,this,r,n),r.sort(YU),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)dO(e[i],this,r,n);return r.sort(YU),r}}function YU(t,e){return t.distance-e.distance}function dO(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,a=i.length;o<a;o++)dO(i[o],e,n,!0)}}class $ve{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(qn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Hve{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const JU=new Me;class Vve{constructor(e=new Me(1/0,1/0),n=new Me(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=JU.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,JU).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ZU=new J,vb=new J;class Wve{constructor(e=new J,n=new J){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){ZU.subVectors(e,this.start),vb.subVectors(this.end,this.start);const r=vb.dot(vb);let o=vb.dot(ZU)/r;return n&&(o=qn(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const QU=new J;class Gve extends en{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new $t,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,u=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new nt(i,3));const o=new Di({fog:!1,toneMapped:!1});this.cone=new Es(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),QU.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(QU),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const $l=new J,yb=new At,fM=new At;class qve extends Es{constructor(e){const n=p7(e),r=new $t,i=[],o=[],a=new qe(0,0,1),s=new qe(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new nt(i,3)),r.setAttribute("color",new nt(o,3));const l=new Di({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");fM.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(yb.multiplyMatrices(fM,s.matrixWorld),$l.setFromMatrixPosition(yb),i.setXYZ(a,$l.x,$l.y,$l.z),yb.multiplyMatrices(fM,s.parent.matrixWorld),$l.setFromMatrixPosition(yb),i.setXYZ(a+1,$l.x,$l.y,$l.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function p7(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,p7(t.children[n]));return e}class Xve extends xr{constructor(e,n,r){const i=new Vy(n,4,2),o=new Hc({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Kve=new J,eF=new qe,tF=new qe;class Yve extends en{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Hy(n);i.rotateY(Math.PI*.5),this.material=new Hc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new un(a,3)),this.add(new xr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");eF.copy(this.light.color),tF.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?eF:tF;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Kve.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Jve extends Es{constructor(e=10,n=10,r=4473924,i=8947848){r=new qe(r),i=new qe(i);const o=n/2,a=e/n,s=e/2,l=[],c=[];for(let f=0,p=0,g=-s;f<=n;f++,g+=a){l.push(-s,0,g,s,0,g),l.push(g,0,-s,g,0,s);const y=f===o?r:i;y.toArray(c,p),p+=3,y.toArray(c,p),p+=3,y.toArray(c,p),p+=3,y.toArray(c,p),p+=3}const u=new $t;u.setAttribute("position",new nt(l,3)),u.setAttribute("color",new nt(c,3));const d=new Di({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zve extends Es{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new qe(o),a=new qe(a);const s=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),p=Math.sin(f)*e,g=Math.cos(f)*e;s.push(0,0,0),s.push(p,0,g);const y=d&1?o:a;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<r;d++){const f=d&1?o:a,p=e-e/r*d;for(let g=0;g<i;g++){let y=g/i*(Math.PI*2),x=Math.sin(y)*p,v=Math.cos(y)*p;s.push(x,0,v),l.push(f.r,f.g,f.b),y=(g+1)/i*(Math.PI*2),x=Math.sin(y)*p,v=Math.cos(y)*p,s.push(x,0,v),l.push(f.r,f.g,f.b)}}const c=new $t;c.setAttribute("position",new nt(s,3)),c.setAttribute("color",new nt(l,3));const u=new Di({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const nF=new J,xb=new J,rF=new J;class Qve extends en{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new $t;i.setAttribute("position",new nt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Di({fog:!1,toneMapped:!1});this.lightPlane=new Lc(i,o),this.add(this.lightPlane),i=new $t,i.setAttribute("position",new nt([0,0,0,0,0,1],3)),this.targetLine=new Lc(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),nF.setFromMatrixPosition(this.light.matrixWorld),xb.setFromMatrixPosition(this.light.target.matrixWorld),rF.subVectors(xb,nF),this.lightPlane.lookAt(xb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xb),this.targetLine.scale.z=rF.length()}}const bb=new J,Hn=new jy;class eye extends Es{constructor(e){const n=new $t,r=new Di({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(g,y){l(g),l(y)}function l(g){i.push(0,0,0),o.push(0,0,0),a[g]===void 0&&(a[g]=[]),a[g].push(i.length/3-1)}n.setAttribute("position",new nt(i,3)),n.setAttribute("color",new nt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new qe(16755200),u=new qe(16711680),d=new qe(43775),f=new qe(16777215),p=new qe(3355443);this.setColors(c,u,d,f,p)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Hn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Zn("c",n,e,Hn,0,0,-1),Zn("t",n,e,Hn,0,0,1),Zn("n1",n,e,Hn,-r,-i,-1),Zn("n2",n,e,Hn,r,-i,-1),Zn("n3",n,e,Hn,-r,i,-1),Zn("n4",n,e,Hn,r,i,-1),Zn("f1",n,e,Hn,-r,-i,1),Zn("f2",n,e,Hn,r,-i,1),Zn("f3",n,e,Hn,-r,i,1),Zn("f4",n,e,Hn,r,i,1),Zn("u1",n,e,Hn,r*.7,i*1.1,-1),Zn("u2",n,e,Hn,-r*.7,i*1.1,-1),Zn("u3",n,e,Hn,0,i*2,-1),Zn("cf1",n,e,Hn,-r,0,1),Zn("cf2",n,e,Hn,r,0,1),Zn("cf3",n,e,Hn,0,-i,1),Zn("cf4",n,e,Hn,0,i,1),Zn("cn1",n,e,Hn,-r,0,-1),Zn("cn2",n,e,Hn,r,0,-1),Zn("cn3",n,e,Hn,0,-i,-1),Zn("cn4",n,e,Hn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Zn(t,e,n,r,i,o,a){bb.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],bb.x,bb.y,bb.z)}}const _b=new Oi;class tye extends Es{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new $t;o.setIndex(new un(r,1)),o.setAttribute("position",new un(i,3)),super(o,new Di({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_b.setFromObject(this.object),_b.isEmpty())return;const n=_b.min,r=_b.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nye extends Es{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new $t;o.setIndex(new un(r,1)),o.setAttribute("position",new nt(i,3)),super(o,new Di({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class rye extends Lc{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new $t;a.setAttribute("position",new nt(o,3)),a.computeBoundingSphere(),super(a,new Di({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new $t;l.setAttribute("position",new nt(s,3)),l.computeBoundingSphere(),this.add(new xr(l,new Hc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const iF=new J;let wb,hM;class iye extends en{constructor(e=new J(0,0,1),n=new J(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",wb===void 0&&(wb=new $t,wb.setAttribute("position",new nt([0,0,0,0,1,0],3)),hM=new jp(0,.5,1,5,1),hM.translate(0,-.5,0)),this.position.copy(n),this.line=new Lc(wb,new Di({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new xr(hM,new Hc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{iF.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(iF,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class oye extends Es{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new $t;i.setAttribute("position",new nt(n,3)),i.setAttribute("color",new nt(r,3));const o=new Di({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new qe,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class aye{constructor(){this.type="ShapePath",this.color=new qe,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Av,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const b=[];for(let _=0,S=v.length;_<S;_++){const A=v[_],M=new od;M.curves=A.curves,b.push(M)}return b}function r(v,b){const _=b.length;let S=!1;for(let A=_-1,M=0;M<_;A=M++){let P=b[A],N=b[M],R=N.x-P.x,I=N.y-P.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(P=b[M],R=-R,N=b[A],I=-I),v.y<P.y||v.y>N.y)continue;if(v.y===P.y){if(v.x===P.x)return!0}else{const D=I*(v.x-P.x)-R*(v.y-P.y);if(D===0)return!0;if(D<0)continue;S=!S}}else{if(v.y!==P.y)continue;if(N.x<=v.x&&v.x<=P.x||P.x<=v.x&&v.x<=N.x)return!0}}return S}const i=hs.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new od,l.curves=s.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const d=[],f=[];let p=[],g=0,y;f[g]=void 0,p[g]=[];for(let v=0,b=o.length;v<b;v++)s=o[v],y=s.getPoints(),a=i(y),a=e?!a:a,a?(!u&&f[g]&&g++,f[g]={s:new od,p:y},f[g].s.curves=s.curves,u&&g++,p[g]=[]):p[g].push({h:s,p:y[0]});if(!f[0])return n(o);if(f.length>1){let v=!1,b=0;for(let _=0,S=f.length;_<S;_++)d[_]=[];for(let _=0,S=f.length;_<S;_++){const A=p[_];for(let M=0;M<A.length;M++){const P=A[M];let N=!0;for(let R=0;R<f.length;R++)r(P.p,f[R].p)&&(_!==R&&b++,N?(N=!1,d[R].push(P)):v=!0);N&&d[_].push(P)}}b>0&&v===!1&&(p=d)}let x;for(let v=0,b=f.length;v<b;v++){l=f[v].s,c.push(l),x=p[v];for(let _=0,S=x.length;_<S;_++)l.holes.push(x[_].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:oS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=oS);const sye=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:jN,AddEquation:Zl,AddOperation:OG,AdditiveAnimationBlendMode:GN,AdditiveBlending:EC,AgXToneMapping:LG,AlphaFormat:FG,AlwaysCompare:r9,AlwaysDepth:SG,AlwaysStencilFunc:tO,AmbientLight:i7,AnimationAction:f7,AnimationClip:Rv,AnimationLoader:lve,AnimationMixer:jve,AnimationObjectGroup:Lve,AnimationUtils:ive,ArcCurve:C9,ArrayCamera:x9,ArrowHelper:iye,AttachedBindMode:CC,Audio:u7,AudioAnalyser:Ave,AudioContext:_I,AudioListener:wve,AudioLoader:xve,AxesHelper:oye,BackSide:Ci,BasicDepthPacking:XG,BasicShadowMap:oG,BatchedMesh:T9,Bone:sI,BooleanKeyframeTrack:kd,Box2:Vve,Box3:Oi,Box3Helper:nye,BoxGeometry:Id,BoxHelper:tye,BufferAttribute:un,BufferGeometry:$t,BufferGeometryLoader:c7,ByteType:jG,Cache:Js,Camera:jy,CameraHelper:eye,CanvasTexture:Pge,CapsuleGeometry:xS,CatmullRomCurve3:O9,CineonToneMapping:IG,CircleGeometry:bS,ClampToEdgeWrapping:si,Clock:wI,Color:qe,ColorKeyframeTrack:yI,ColorManagement:sn,CompressedArrayTexture:Tge,CompressedCubeTexture:Mge,CompressedTexture:vS,CompressedTextureLoader:cve,ConeGeometry:_S,ConstantAlphaFactor:bG,ConstantColorFactor:yG,CubeCamera:u9,CubeReflectionMapping:hl,CubeRefractionMapping:Ic,CubeTexture:Uy,CubeTextureLoader:uve,CubeUVReflectionMapping:kp,CubicBezierCurve:uI,CubicBezierCurve3:R9,CubicInterpolant:Y9,CullFaceBack:SC,CullFaceFront:iG,CullFaceFrontBack:mue,CullFaceNone:rG,Curve:Ba,CurvePath:I9,CustomBlending:aG,CustomToneMapping:kG,CylinderGeometry:jp,Cylindrical:Hve,Data3DTexture:JN,DataArrayTexture:dS,DataTexture:id,DataTextureLoader:dve,DataUtils:Ade,DecrementStencilOp:Mue,DecrementWrapStencilOp:Cue,DefaultLoadingManager:Q9,DepthFormat:_c,DepthStencilFormat:pd,DepthTexture:tI,DetachedBindMode:DG,DirectionalLight:r7,DirectionalLightHelper:Qve,DiscreteInterpolant:J9,DisplayP3ColorSpace:uS,DodecahedronGeometry:wS,DoubleSide:as,DstAlphaFactor:hG,DstColorFactor:mG,DynamicCopyUsage:Vue,DynamicDrawUsage:Uue,DynamicReadUsage:zue,EdgesGeometry:k9,EllipseCurve:yS,EqualCompare:QG,EqualDepth:AG,EqualStencilFunc:Iue,EquirectangularReflectionMapping:hv,EquirectangularRefractionMapping:pv,Euler:Dy,EventDispatcher:xl,ExtrudeGeometry:ES,FileLoader:pl,Float16BufferAttribute:Rde,Float32BufferAttribute:nt,Float64BufferAttribute:Nde,FloatType:Ra,Fog:pS,FogExp2:hS,FramebufferTexture:Age,FrontSide:fl,Frustum:Fy,GLBufferAttribute:zve,GLSL1:Gue,GLSL3:nO,GreaterCompare:e9,GreaterDepth:MG,GreaterEqualCompare:n9,GreaterEqualDepth:TG,GreaterEqualStencilFunc:jue,GreaterStencilFunc:Lue,GridHelper:Jve,Group:oh,HalfFloatType:Gh,HemisphereLight:e7,HemisphereLightHelper:Yve,IcosahedronGeometry:AS,ImageBitmapLoader:yve,ImageLoader:Nv,ImageUtils:YN,IncrementStencilOp:Tue,IncrementWrapStencilOp:Pue,InstancedBufferAttribute:Yh,InstancedBufferGeometry:l7,InstancedInterleavedBuffer:Bve,InstancedMesh:A9,Int16BufferAttribute:Cde,Int32BufferAttribute:Ode,Int8BufferAttribute:Tde,IntType:FN,InterleavedBuffer:mS,InterleavedBufferAttribute:md,Interpolant:Wy,InterpolateDiscrete:vv,InterpolateLinear:yv,InterpolateSmooth:b_,InvertStencilOp:Oue,KeepStencilOp:Tu,KeyframeTrack:za,LOD:S9,LatheGeometry:$y,Layers:rd,LessCompare:ZG,LessDepth:EG,LessEqualCompare:XN,LessEqualDepth:fv,LessEqualStencilFunc:kue,LessStencilFunc:Nue,Light:Wc,LightProbe:s7,Line:Lc,Line3:Wve,LineBasicMaterial:Di,LineCurve:dI,LineCurve3:N9,LineDashedMaterial:q9,LineLoop:M9,LineSegments:Es,LinearDisplayP3ColorSpace:Ly,LinearEncoding:qN,LinearFilter:tr,LinearInterpolant:vI,LinearMipMapLinearFilter:bue,LinearMipMapNearestFilter:xue,LinearMipmapLinearFilter:kc,LinearMipmapNearestFilter:UN,LinearSRGBColorSpace:xs,LinearToneMapping:RG,LinearTransfer:bv,Loader:Ji,LoaderUtils:uO,LoadingManager:xI,LoopOnce:WG,LoopPingPong:qG,LoopRepeat:GG,LuminanceAlphaFormat:zG,LuminanceFormat:BG,MOUSE:hue,Material:fi,MaterialLoader:NS,MathUtils:sde,Matrix3:zt,Matrix4:At,MaxEquation:PC,Mesh:xr,MeshBasicMaterial:Hc,MeshDepthMaterial:nI,MeshDistanceMaterial:rI,MeshLambertMaterial:W9,MeshMatcapMaterial:G9,MeshNormalMaterial:V9,MeshPhongMaterial:$9,MeshPhysicalMaterial:z9,MeshStandardMaterial:mI,MeshToonMaterial:H9,MinEquation:MC,MirroredRepeatWrapping:gv,MixOperation:CG,MultiplyBlending:TC,MultiplyOperation:ky,NearestFilter:Qn,NearestMipMapLinearFilter:yue,NearestMipMapNearestFilter:vue,NearestMipmapLinearFilter:Ag,NearestMipmapNearestFilter:sw,NeverCompare:JG,NeverDepth:wG,NeverStencilFunc:Rue,NoBlending:nl,NoColorSpace:vo,NoToneMapping:ds,NormalAnimationBlendMode:cS,NormalBlending:td,NotEqualCompare:t9,NotEqualDepth:PG,NotEqualStencilFunc:Due,NumberKeyframeTrack:Cv,Object3D:en,ObjectLoader:gve,ObjectSpaceNormalMap:YG,OctahedronGeometry:Hy,OneFactor:uG,OneMinusConstantAlphaFactor:_G,OneMinusConstantColorFactor:xG,OneMinusDstAlphaFactor:pG,OneMinusDstColorFactor:gG,OneMinusSrcAlphaFactor:aw,OneMinusSrcColorFactor:fG,OrthographicCamera:zy,P3Primaries:wv,PCFShadowMap:aS,PCFSoftShadowMap:Eg,PMREMGenerator:iO,Path:Av,PerspectiveCamera:Ir,Plane:Xl,PlaneGeometry:By,PlaneHelper:rye,PointLight:n7,PointLightHelper:Xve,Points:P9,PointsMaterial:lI,PolarGridHelper:Zve,PolyhedronGeometry:Vc,PositionalAudio:Eve,PropertyBinding:Xt,PropertyMixer:d7,QuadraticBezierCurve:fI,QuadraticBezierCurve3:hI,Quaternion:Yi,QuaternionKeyframeTrack:Up,QuaternionLinearInterpolant:Z9,RED_GREEN_RGTC2_Format:QC,RED_RGTC1_Format:VG,REVISION:oS,RGBADepthPacking:KG,RGBAFormat:Ei,RGBAIntegerFormat:VN,RGBA_ASTC_10x10_Format:qC,RGBA_ASTC_10x5_Format:VC,RGBA_ASTC_10x6_Format:WC,RGBA_ASTC_10x8_Format:GC,RGBA_ASTC_12x10_Format:XC,RGBA_ASTC_12x12_Format:KC,RGBA_ASTC_4x4_Format:DC,RGBA_ASTC_5x4_Format:jC,RGBA_ASTC_5x5_Format:UC,RGBA_ASTC_6x5_Format:FC,RGBA_ASTC_6x6_Format:BC,RGBA_ASTC_8x5_Format:zC,RGBA_ASTC_8x6_Format:$C,RGBA_ASTC_8x8_Format:HC,RGBA_BPTC_Format:x_,RGBA_ETC2_EAC_Format:LC,RGBA_PVRTC_2BPPV1_Format:IC,RGBA_PVRTC_4BPPV1_Format:NC,RGBA_S3TC_DXT1_Format:g_,RGBA_S3TC_DXT3_Format:v_,RGBA_S3TC_DXT5_Format:y_,RGB_BPTC_SIGNED_Format:YC,RGB_BPTC_UNSIGNED_Format:JC,RGB_ETC1_Format:WN,RGB_ETC2_Format:kC,RGB_PVRTC_2BPPV1_Format:RC,RGB_PVRTC_4BPPV1_Format:OC,RGB_S3TC_DXT1_Format:m_,RGFormat:HG,RGIntegerFormat:HN,RawShaderMaterial:B9,Ray:Lp,Raycaster:h7,Rec709Primaries:_v,RectAreaLight:o7,RedFormat:$G,RedIntegerFormat:$N,ReinhardToneMapping:NG,RenderTarget:a9,RepeatWrapping:mv,ReplaceStencilOp:Aue,ReverseSubtractEquation:lG,RingGeometry:TS,SIGNED_RED_GREEN_RGTC2_Format:eO,SIGNED_RED_RGTC1_Format:ZC,SRGBColorSpace:gr,SRGBTransfer:yn,Scene:oI,ShaderChunk:jt,ShaderLib:Ca,ShaderMaterial:bs,ShadowMaterial:F9,Shape:od,ShapeGeometry:MS,ShapePath:aye,ShapeUtils:hs,ShortType:UG,Skeleton:gS,SkeletonHelper:qve,SkinnedMesh:E9,Source:$u,Sphere:li,SphereGeometry:Vy,Spherical:$ve,SphericalHarmonics3:a7,SplineCurve:pI,SpotLight:t7,SpotLightHelper:Gve,Sprite:w9,SpriteMaterial:aI,SrcAlphaFactor:ow,SrcAlphaSaturateFactor:vG,SrcColorFactor:dG,StaticCopyUsage:Hue,StaticDrawUsage:Sv,StaticReadUsage:Bue,StereoCamera:bve,StreamCopyUsage:Wue,StreamDrawUsage:Fue,StreamReadUsage:$ue,StringKeyframeTrack:Ld,SubtractEquation:sG,SubtractiveBlending:AC,TOUCH:pue,TangentSpaceNormalMap:$c,TetrahedronGeometry:PS,Texture:nr,TextureLoader:fve,TorusGeometry:CS,TorusKnotGeometry:OS,Triangle:$i,TriangleFanDrawMode:Sue,TriangleStripDrawMode:wue,TrianglesDrawMode:_ue,TubeGeometry:RS,TwoPassDoubleSide:gue,UVMapping:sS,Uint16BufferAttribute:ZN,Uint32BufferAttribute:QN,Uint8BufferAttribute:Mde,Uint8ClampedBufferAttribute:Pde,Uniform:AI,UniformsGroup:Fve,UniformsLib:Fe,UniformsUtils:c9,UnsignedByteType:fs,UnsignedInt248Type:bc,UnsignedIntType:Ys,UnsignedShort4444Type:BN,UnsignedShort5551Type:zN,UnsignedShortType:lS,VSMShadowMap:wa,Vector2:Me,Vector3:J,Vector4:ln,VectorKeyframeTrack:Ov,VideoTexture:Ege,WebGL1Renderer:b9,WebGL3DRenderTarget:hde,WebGLArrayRenderTarget:fde,WebGLCoordinateSystem:Na,WebGLCubeRenderTarget:d9,WebGLMultipleRenderTargets:pde,WebGLRenderTarget:Fa,WebGLRenderer:iI,WebGLUtils:y9,WebGPUCoordinateSystem:qh,WireframeGeometry:U9,WrapAroundEnding:xv,ZeroCurvatureEnding:Bu,ZeroFactor:cG,ZeroSlopeEnding:zu,ZeroStencilOp:Eue,_SRGBAFormat:lw,createCanvasElement:o9,sRGBEncoding:wc},Symbol.toStringTag,{value:"Module"}));var m7={exports:{}},Dd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Dd.ConcurrentRoot=1;Dd.ContinuousEventPriority=4;Dd.DefaultEventPriority=16;Dd.DiscreteEventPriority=1;Dd.IdleEventPriority=536870912;Dd.LegacyRoot=0;m7.exports=Dd;var sh=m7.exports;function lye(t){let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),n.forEach(p=>p(e,f))}},i=()=>e,o=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function p(){const g=u(e);if(!d(f,g)){const y=f;c(f=g,y)}}return n.add(p),()=>n.delete(p)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?o(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const cye=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),oF=cye?C.useEffect:C.useLayoutEffect;function uye(t){const e=typeof t=="function"?lye(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=C.useReducer(x=>x+1,0),a=e.getState(),s=C.useRef(a),l=C.useRef(r),c=C.useRef(i),u=C.useRef(!1),d=C.useRef();d.current===void 0&&(d.current=r(a));let f,p=!1;(s.current!==a||l.current!==r||c.current!==i||u.current)&&(f=r(a),p=!i(d.current,f)),oF(()=>{p&&(d.current=f),s.current=a,l.current=r,c.current=i,u.current=!1});const g=C.useRef(a);oF(()=>{const x=()=>{try{const b=e.getState(),_=l.current(b);c.current(d.current,_)||(s.current=b,d.current=_,o())}catch{u.current=!0,o()}},v=e.subscribe(x);return e.getState()!==g.current&&x(),v},[]);const y=p?f:d.current;return C.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var g7={exports:{}},pM={exports:{}},mM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aF;function dye(){return aF||(aF=1,function(t){function e(k,F){var $=k.length;k.push(F);e:for(;0<$;){var q=$-1>>>1,Z=k[q];if(0<i(Z,F))k[q]=F,k[$]=Z,$=q;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var F=k[0],$=k.pop();if($!==F){k[0]=$;e:for(var q=0,Z=k.length,ee=Z>>>1;q<ee;){var ne=2*(q+1)-1,ye=k[ne],xe=ne+1,le=k[xe];if(0>i(ye,$))xe<Z&&0>i(le,ye)?(k[q]=le,k[xe]=$,q=xe):(k[q]=ye,k[ne]=$,q=ne);else if(xe<Z&&0>i(le,$))k[q]=le,k[xe]=$,q=xe;else break e}}return F}function i(k,F){var $=k.sortIndex-F.sortIndex;return $!==0?$:k.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(k){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=k)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function S(k){if(y=!1,_(k),!g)if(n(l)!==null)g=!0,H(A);else{var F=n(c);F!==null&&Y(S,F.startTime-k)}}function A(k,F){g=!1,y&&(y=!1,v(N),N=-1),p=!0;var $=f;try{for(_(F),d=n(l);d!==null&&(!(d.expirationTime>F)||k&&!D());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var Z=q(d.expirationTime<=F);F=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),_(F)}else r(l);d=n(l)}if(d!==null)var ee=!0;else{var ne=n(c);ne!==null&&Y(S,ne.startTime-F),ee=!1}return ee}finally{d=null,f=$,p=!1}}var M=!1,P=null,N=-1,R=5,I=-1;function D(){return!(t.unstable_now()-I<R)}function U(){if(P!==null){var k=t.unstable_now();I=k;var F=!0;try{F=P(!0,k)}finally{F?X():(M=!1,P=null)}}else M=!1}var X;if(typeof b=="function")X=function(){b(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,W=j.port2;j.port1.onmessage=U,X=function(){W.postMessage(null)}}else X=function(){x(U,0)};function H(k){P=k,M||(M=!0,X())}function Y(k,F){N=x(function(){k(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,H(A))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var $=f;f=F;try{return k()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=f;f=k;try{return F()}finally{f=$}},t.unstable_scheduleCallback=function(k,F,$){var q=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?q+$:q):$=q,k){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=$+Z,k={id:u++,callback:F,priorityLevel:k,startTime:$,expirationTime:Z,sortIndex:-1},$>q?(k.sortIndex=$,e(c,k),n(l)===null&&k===n(c)&&(y?(v(N),N=-1):y=!0,Y(S,$-q))):(k.sortIndex=Z,e(l,k),g||p||(g=!0,H(A))),k},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(k){var F=f;return function(){var $=f;f=F;try{return k.apply(this,arguments)}finally{f=$}}}}(mM)),mM}var sF;function fye(){return sF||(sF=1,pM.exports=dye()),pM.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hye=function(e){var n={},r=C,i=fye(),o=Object.assign;function a(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,E=1;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),A=Symbol.iterator;function M(h){return h===null||typeof h!="object"?null:(h=A&&h[A]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case y:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case b:return m=h.displayName||null,m!==null?m:P(h.type)||"Memo";case _:m=h._payload,h=h._init;try{return P(h(m))}catch{}}return null}function N(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(m);case 8:return m===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function R(h){var m=h,E=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,m.flags&4098&&(E=m.return),h=m.return;while(h)}return m.tag===3?E:null}function I(h){if(R(h)!==h)throw Error(a(188))}function D(h){var m=h.alternate;if(!m){if(m=R(h),m===null)throw Error(a(188));return m!==h?null:h}for(var E=h,T=m;;){var O=E.return;if(O===null)break;var L=O.alternate;if(L===null){if(T=O.return,T!==null){E=T;continue}break}if(O.child===L.child){for(L=O.child;L;){if(L===E)return I(O),h;if(L===T)return I(O),m;L=L.sibling}throw Error(a(188))}if(E.return!==T.return)E=O,T=L;else{for(var Q=!1,re=O.child;re;){if(re===E){Q=!0,E=O,T=L;break}if(re===T){Q=!0,T=O,E=L;break}re=re.sibling}if(!Q){for(re=L.child;re;){if(re===E){Q=!0,E=L,T=O;break}if(re===T){Q=!0,T=L,E=O;break}re=re.sibling}if(!Q)throw Error(a(189))}}if(E.alternate!==T)throw Error(a(190))}if(E.tag!==3)throw Error(a(188));return E.stateNode.current===E?h:m}function U(h){return h=D(h),h!==null?X(h):null}function X(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=X(h);if(m!==null)return m;h=h.sibling}return null}function j(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var m=j(h);if(m!==null)return m}h=h.sibling}return null}var W=Array.isArray,H=e.getPublicInstance,Y=e.getRootHostContext,k=e.getChildHostContext,F=e.prepareForCommit,$=e.resetAfterCommit,q=e.createInstance,Z=e.appendInitialChild,ee=e.finalizeInitialChildren,ne=e.prepareUpdate,ye=e.shouldSetTextContent,xe=e.createTextInstance,le=e.scheduleTimeout,Re=e.cancelTimeout,de=e.noTimeout,he=e.isPrimaryRenderer,_e=e.supportsMutation,z=e.supportsPersistence,ve=e.supportsHydration,se=e.getInstanceFromNode,Se=e.preparePortalMount,ue=e.getCurrentEventPriority,Be=e.detachDeletedInstance,Le=e.supportsMicrotasks,G=e.scheduleMicrotask,B=e.supportsTestSelectors,oe=e.findFiberRoot,Ce=e.getBoundingRect,Pe=e.getTextContent,Ee=e.isHiddenSubtree,tt=e.matchAccessibilityRole,je=e.setFocusIfFocusable,He=e.setupIntersectionObserver,ct=e.appendChild,gt=e.appendChildToContainer,Oe=e.commitTextUpdate,Gt=e.commitMount,kt=e.commitUpdate,_t=e.insertBefore,lt=e.insertInContainerBefore,Xe=e.removeChild,pt=e.removeChildFromContainer,qt=e.resetTextContent,Ke=e.hideInstance,Ye=e.hideTextInstance,Te=e.unhideInstance,te=e.unhideTextInstance,ke=e.clearContainer,Ue=e.cloneInstance,mt=e.createContainerChildSet,dt=e.appendChildToContainerChildSet,fn=e.finalizeContainerChildren,an=e.replaceContainerChildren,Kn=e.cloneHiddenInstance,Er=e.cloneHiddenTextInstance,hn=e.canHydrateInstance,jr=e.canHydrateTextInstance,Oo=e.canHydrateSuspenseInstance,rm=e.isSuspenseInstancePending,im=e.isSuspenseInstanceFallback,Bd=e.registerSuspenseInstanceRetry,El=e.getNextHydratableSibling,zd=e.getFirstHydratableChild,l0=e.getFirstHydratableChildWithinContainer,c0=e.getFirstHydratableChildWithinSuspenseInstance,NE=e.hydrateInstance,IE=e.hydrateTextInstance,kE=e.hydrateSuspenseInstance,K=e.getNextHydratableInstanceAfterSuspenseInstance,ae=e.commitHydratedContainer,pe=e.commitHydratedSuspenseInstance,me=e.clearSuspenseBoundary,fe=e.clearSuspenseBoundaryFromContainer,We=e.shouldDeleteUnhydratedTailInstances,ot=e.didNotMatchHydratedContainerTextInstance,vt=e.didNotMatchHydratedTextInstance,xt;function Mt(h){if(xt===void 0)try{throw Error()}catch(E){var m=E.stack.trim().match(/\n( *(at )?)/);xt=m&&m[1]||""}return`
`+xt+h}var Tt=!1;function Pt(h,m){if(!h||Tt)return"";Tt=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ie){var T=Ie}Reflect.construct(h,[],m)}else{try{m.call()}catch(Ie){T=Ie}h.call(m.prototype)}else{try{throw Error()}catch(Ie){T=Ie}h()}}catch(Ie){if(Ie&&T&&typeof Ie.stack=="string"){for(var O=Ie.stack.split(`
`),L=T.stack.split(`
`),Q=O.length-1,re=L.length-1;1<=Q&&0<=re&&O[Q]!==L[re];)re--;for(;1<=Q&&0<=re;Q--,re--)if(O[Q]!==L[re]){if(Q!==1||re!==1)do if(Q--,re--,0>re||O[Q]!==L[re]){var be=`
`+O[Q].replace(" at new "," at ");return h.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",h.displayName)),be}while(1<=Q&&0<=re);break}}}finally{Tt=!1,Error.prepareStackTrace=E}return(h=h?h.displayName||h.name:"")?Mt(h):""}var In=Object.prototype.hasOwnProperty,Ur=[],Sn=-1;function Ar(h){return{current:h}}function bt(h){0>Sn||(h.current=Ur[Sn],Ur[Sn]=null,Sn--)}function Qe(h,m){Sn++,Ur[Sn]=h.current,h.current=m}var Ro={},Ht=Ar(Ro),zn=Ar(!1),Va=Ro;function No(h,m){var E=h.type.contextTypes;if(!E)return Ro;var T=h.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var O={},L;for(L in E)O[L]=m[L];return T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=O),O}function Tr(h){return h=h.childContextTypes,h!=null}function Yn(){bt(zn),bt(Ht)}function Wa(h,m,E){if(Ht.current!==Ro)throw Error(a(168));Qe(Ht,m),Qe(zn,E)}function $d(h,m,E){var T=h.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return E;T=T.getChildContext();for(var O in T)if(!(O in m))throw Error(a(108,N(h)||"Unknown",O));return o({},E,T)}function Fr(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Ro,Va=Ht.current,Qe(Ht,h),Qe(zn,zn.current),!0}function Hd(h,m,E){var T=h.stateNode;if(!T)throw Error(a(169));E?(h=$d(h,m,Va),T.__reactInternalMemoizedMergedChildContext=h,bt(zn),bt(Ht),Qe(Ht,h)):bt(zn),Qe(zn,E)}var to=Math.clz32?Math.clz32:GZ,u0=Math.log,WZ=Math.LN2;function GZ(h){return h>>>=0,h===0?32:31-(u0(h)/WZ|0)|0}var d0=64,f0=4194304;function om(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function h0(h,m){var E=h.pendingLanes;if(E===0)return 0;var T=0,O=h.suspendedLanes,L=h.pingedLanes,Q=E&268435455;if(Q!==0){var re=Q&~O;re!==0?T=om(re):(L&=Q,L!==0&&(T=om(L)))}else Q=E&~O,Q!==0?T=om(Q):L!==0&&(T=om(L));if(T===0)return 0;if(m!==0&&m!==T&&!(m&O)&&(O=T&-T,L=m&-m,O>=L||O===16&&(L&4194240)!==0))return m;if(T&4&&(T|=E&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=T;0<m;)E=31-to(m),O=1<<E,T|=h[E],m&=~O;return T}function qZ(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XZ(h,m){for(var E=h.suspendedLanes,T=h.pingedLanes,O=h.expirationTimes,L=h.pendingLanes;0<L;){var Q=31-to(L),re=1<<Q,be=O[Q];be===-1?(!(re&E)||re&T)&&(O[Q]=qZ(re,m)):be<=m&&(h.expiredLanes|=re),L&=~re}}function LE(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function DE(h){for(var m=[],E=0;31>E;E++)m.push(h);return m}function am(h,m,E){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-to(m),h[m]=E}function KZ(h,m){var E=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var T=h.eventTimes;for(h=h.expirationTimes;0<E;){var O=31-to(E),L=1<<O;m[O]=0,T[O]=-1,h[O]=-1,E&=~L}}function jE(h,m){var E=h.entangledLanes|=m;for(h=h.entanglements;E;){var T=31-to(E),O=1<<T;O&m|h[T]&m&&(h[T]|=m),E&=~O}}var Yt=0;function Zk(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var UE=i.unstable_scheduleCallback,Qk=i.unstable_cancelCallback,YZ=i.unstable_shouldYield,JZ=i.unstable_requestPaint,Mr=i.unstable_now,FE=i.unstable_ImmediatePriority,ZZ=i.unstable_UserBlockingPriority,BE=i.unstable_NormalPriority,QZ=i.unstable_IdlePriority,p0=null,Ga=null;function eQ(h){if(Ga&&typeof Ga.onCommitFiberRoot=="function")try{Ga.onCommitFiberRoot(p0,h,void 0,(h.current.flags&128)===128)}catch{}}function tQ(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var qa=typeof Object.is=="function"?Object.is:tQ,Ms=null,m0=!1,zE=!1;function eL(h){Ms===null?Ms=[h]:Ms.push(h)}function nQ(h){m0=!0,eL(h)}function Xa(){if(!zE&&Ms!==null){zE=!0;var h=0,m=Yt;try{var E=Ms;for(Yt=1;h<E.length;h++){var T=E[h];do T=T(!0);while(T!==null)}Ms=null,m0=!1}catch(O){throw Ms!==null&&(Ms=Ms.slice(h+1)),UE(FE,Xa),O}finally{Yt=m,zE=!1}}return null}var rQ=s.ReactCurrentBatchConfig;function g0(h,m){if(qa(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var E=Object.keys(h),T=Object.keys(m);if(E.length!==T.length)return!1;for(T=0;T<E.length;T++){var O=E[T];if(!In.call(m,O)||!qa(h[O],m[O]))return!1}return!0}function iQ(h){switch(h.tag){case 5:return Mt(h.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 2:case 15:return h=Pt(h.type,!1),h;case 11:return h=Pt(h.type.render,!1),h;case 1:return h=Pt(h.type,!0),h;default:return""}}function ua(h,m){if(h&&h.defaultProps){m=o({},m),h=h.defaultProps;for(var E in h)m[E]===void 0&&(m[E]=h[E]);return m}return m}var v0=Ar(null),y0=null,Vd=null,$E=null;function HE(){$E=Vd=y0=null}function tL(h,m,E){he?(Qe(v0,m._currentValue),m._currentValue=E):(Qe(v0,m._currentValue2),m._currentValue2=E)}function VE(h){var m=v0.current;bt(v0),he?h._currentValue=m:h._currentValue2=m}function WE(h,m,E){for(;h!==null;){var T=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),h===E)break;h=h.return}}function Wd(h,m){y0=h,$E=Vd=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&m&&(io=!0),h.firstContext=null)}function Io(h){var m=he?h._currentValue:h._currentValue2;if($E!==h)if(h={context:h,memoizedValue:m,next:null},Vd===null){if(y0===null)throw Error(a(308));Vd=h,y0.dependencies={lanes:0,firstContext:h}}else Vd=Vd.next=h;return m}var Ka=null,Al=!1;function GE(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nL(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Ps(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function Tl(h,m){var E=h.updateQueue;E!==null&&(E=E.shared,rr!==null&&h.mode&1&&!(Vt&2)?(h=E.interleaved,h===null?(m.next=m,Ka===null?Ka=[E]:Ka.push(E)):(m.next=h.next,h.next=m),E.interleaved=m):(h=E.pending,h===null?m.next=m:(m.next=h.next,h.next=m),E.pending=m))}function x0(h,m,E){if(m=m.updateQueue,m!==null&&(m=m.shared,(E&4194240)!==0)){var T=m.lanes;T&=h.pendingLanes,E|=T,m.lanes=E,jE(h,E)}}function rL(h,m){var E=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,E===T)){var O=null,L=null;if(E=E.firstBaseUpdate,E!==null){do{var Q={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};L===null?O=L=Q:L=L.next=Q,E=E.next}while(E!==null);L===null?O=L=m:L=L.next=m}else O=L=m;E={baseState:T.baseState,firstBaseUpdate:O,lastBaseUpdate:L,shared:T.shared,effects:T.effects},h.updateQueue=E;return}h=E.lastBaseUpdate,h===null?E.firstBaseUpdate=m:h.next=m,E.lastBaseUpdate=m}function b0(h,m,E,T){var O=h.updateQueue;Al=!1;var L=O.firstBaseUpdate,Q=O.lastBaseUpdate,re=O.shared.pending;if(re!==null){O.shared.pending=null;var be=re,Ie=be.next;be.next=null,Q===null?L=Ie:Q.next=Ie,Q=be;var et=h.alternate;et!==null&&(et=et.updateQueue,re=et.lastBaseUpdate,re!==Q&&(re===null?et.firstBaseUpdate=Ie:re.next=Ie,et.lastBaseUpdate=be))}if(L!==null){var Ot=O.baseState;Q=0,et=Ie=be=null,re=L;do{var ft=re.lane,mn=re.eventTime;if((T&ft)===ft){et!==null&&(et=et.next={eventTime:mn,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var at=h,Kr=re;switch(ft=m,mn=E,Kr.tag){case 1:if(at=Kr.payload,typeof at=="function"){Ot=at.call(mn,Ot,ft);break e}Ot=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=Kr.payload,ft=typeof at=="function"?at.call(mn,Ot,ft):at,ft==null)break e;Ot=o({},Ot,ft);break e;case 2:Al=!0}}re.callback!==null&&re.lane!==0&&(h.flags|=64,ft=O.effects,ft===null?O.effects=[re]:ft.push(re))}else mn={eventTime:mn,lane:ft,tag:re.tag,payload:re.payload,callback:re.callback,next:null},et===null?(Ie=et=mn,be=Ot):et=et.next=mn,Q|=ft;if(re=re.next,re===null){if(re=O.shared.pending,re===null)break;ft=re,re=ft.next,ft.next=null,O.lastBaseUpdate=ft,O.shared.pending=null}}while(!0);if(et===null&&(be=Ot),O.baseState=be,O.firstBaseUpdate=Ie,O.lastBaseUpdate=et,m=O.shared.interleaved,m!==null){O=m;do Q|=O.lane,O=O.next;while(O!==m)}else L===null&&(O.shared.lanes=0);ef|=Q,h.lanes=Q,h.memoizedState=Ot}}function iL(h,m,E){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var T=h[m],O=T.callback;if(O!==null){if(T.callback=null,T=E,typeof O!="function")throw Error(a(191,O));O.call(T)}}}var oL=new r.Component().refs;function qE(h,m,E,T){m=h.memoizedState,E=E(T,m),E=E==null?m:o({},m,E),h.memoizedState=E,h.lanes===0&&(h.updateQueue.baseState=E)}var _0={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,m,E){h=h._reactInternals;var T=pi(),O=Cl(h),L=Ps(T,O);L.payload=m,E!=null&&(L.callback=E),Tl(h,L),m=Uo(h,O,T),m!==null&&x0(m,h,O)},enqueueReplaceState:function(h,m,E){h=h._reactInternals;var T=pi(),O=Cl(h),L=Ps(T,O);L.tag=1,L.payload=m,E!=null&&(L.callback=E),Tl(h,L),m=Uo(h,O,T),m!==null&&x0(m,h,O)},enqueueForceUpdate:function(h,m){h=h._reactInternals;var E=pi(),T=Cl(h),O=Ps(E,T);O.tag=2,m!=null&&(O.callback=m),Tl(h,O),m=Uo(h,T,E),m!==null&&x0(m,h,T)}};function aL(h,m,E,T,O,L,Q){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,L,Q):m.prototype&&m.prototype.isPureReactComponent?!g0(E,T)||!g0(O,L):!0}function sL(h,m,E){var T=!1,O=Ro,L=m.contextType;return typeof L=="object"&&L!==null?L=Io(L):(O=Tr(m)?Va:Ht.current,T=m.contextTypes,L=(T=T!=null)?No(h,O):Ro),m=new m(E,L),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=_0,h.stateNode=m,m._reactInternals=h,T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=O,h.__reactInternalMemoizedMaskedChildContext=L),m}function lL(h,m,E,T){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(E,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(E,T),m.state!==h&&_0.enqueueReplaceState(m,m.state,null)}function XE(h,m,E,T){var O=h.stateNode;O.props=E,O.state=h.memoizedState,O.refs=oL,GE(h);var L=m.contextType;typeof L=="object"&&L!==null?O.context=Io(L):(L=Tr(m)?Va:Ht.current,O.context=No(h,L)),O.state=h.memoizedState,L=m.getDerivedStateFromProps,typeof L=="function"&&(qE(h,m,L,E),O.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(m=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),m!==O.state&&_0.enqueueReplaceState(O,O.state,null),b0(h,E,O,T),O.state=h.memoizedState),typeof O.componentDidMount=="function"&&(h.flags|=4194308)}var Gd=[],qd=0,w0=null,S0=0,ko=[],Lo=0,eu=null,Cs=1,Os="";function tu(h,m){Gd[qd++]=S0,Gd[qd++]=w0,w0=h,S0=m}function cL(h,m,E){ko[Lo++]=Cs,ko[Lo++]=Os,ko[Lo++]=eu,eu=h;var T=Cs;h=Os;var O=32-to(T)-1;T&=~(1<<O),E+=1;var L=32-to(m)+O;if(30<L){var Q=O-O%5;L=(T&(1<<Q)-1).toString(32),T>>=Q,O-=Q,Cs=1<<32-to(m)+O|E<<O|T,Os=L+h}else Cs=1<<L|E<<O|T,Os=h}function KE(h){h.return!==null&&(tu(h,1),cL(h,1,0))}function YE(h){for(;h===w0;)w0=Gd[--qd],Gd[qd]=null,S0=Gd[--qd],Gd[qd]=null;for(;h===eu;)eu=ko[--Lo],ko[Lo]=null,Os=ko[--Lo],ko[Lo]=null,Cs=ko[--Lo],ko[Lo]=null}var no=null,ro=null,On=!1,sm=!1,da=null;function uL(h,m){var E=Fo(5,null,null,0);E.elementType="DELETED",E.stateNode=m,E.return=h,m=h.deletions,m===null?(h.deletions=[E],h.flags|=16):m.push(E)}function dL(h,m){switch(h.tag){case 5:return m=hn(m,h.type,h.pendingProps),m!==null?(h.stateNode=m,no=h,ro=zd(m),!0):!1;case 6:return m=jr(m,h.pendingProps),m!==null?(h.stateNode=m,no=h,ro=null,!0):!1;case 13:if(m=Oo(m),m!==null){var E=eu!==null?{id:Cs,overflow:Os}:null;return h.memoizedState={dehydrated:m,treeContext:E,retryLane:1073741824},E=Fo(18,null,null,0),E.stateNode=m,E.return=h,h.child=E,no=h,ro=null,!0}return!1;default:return!1}}function JE(h){return(h.mode&1)!==0&&(h.flags&128)===0}function ZE(h){if(On){var m=ro;if(m){var E=m;if(!dL(h,m)){if(JE(h))throw Error(a(418));m=El(E);var T=no;m&&dL(h,m)?uL(T,E):(h.flags=h.flags&-4097|2,On=!1,no=h)}}else{if(JE(h))throw Error(a(418));h.flags=h.flags&-4097|2,On=!1,no=h}}}function fL(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;no=h}function lm(h){if(!ve||h!==no)return!1;if(!On)return fL(h),On=!0,!1;if(h.tag!==3&&(h.tag!==5||We(h.type)&&!ye(h.type,h.memoizedProps))){var m=ro;if(m){if(JE(h)){for(h=ro;h;)h=El(h);throw Error(a(418))}for(;m;)uL(h,m),m=El(m)}}if(fL(h),h.tag===13){if(!ve)throw Error(a(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));ro=K(h)}else ro=no?El(h.stateNode):null;return!0}function Xd(){ve&&(ro=no=null,sm=On=!1)}function QE(h){da===null?da=[h]:da.push(h)}function cm(h,m,E){if(h=E.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(a(309));var T=E.stateNode}if(!T)throw Error(a(147,h));var O=T,L=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===L?m.ref:(m=function(Q){var re=O.refs;re===oL&&(re=O.refs={}),Q===null?delete re[L]:re[L]=Q},m._stringRef=L,m)}if(typeof h!="string")throw Error(a(284));if(!E._owner)throw Error(a(290,h))}return h}function E0(h,m){throw h=Object.prototype.toString.call(m),Error(a(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function hL(h){var m=h._init;return m(h._payload)}function pL(h){function m(ce,ie){if(h){var ge=ce.deletions;ge===null?(ce.deletions=[ie],ce.flags|=16):ge.push(ie)}}function E(ce,ie){if(!h)return null;for(;ie!==null;)m(ce,ie),ie=ie.sibling;return null}function T(ce,ie){for(ce=new Map;ie!==null;)ie.key!==null?ce.set(ie.key,ie):ce.set(ie.index,ie),ie=ie.sibling;return ce}function O(ce,ie){return ce=Rl(ce,ie),ce.index=0,ce.sibling=null,ce}function L(ce,ie,ge){return ce.index=ge,h?(ge=ce.alternate,ge!==null?(ge=ge.index,ge<ie?(ce.flags|=2,ie):ge):(ce.flags|=2,ie)):(ce.flags|=1048576,ie)}function Q(ce){return h&&ce.alternate===null&&(ce.flags|=2),ce}function re(ce,ie,ge,Ve){return ie===null||ie.tag!==6?(ie=DA(ge,ce.mode,Ve),ie.return=ce,ie):(ie=O(ie,ge),ie.return=ce,ie)}function be(ce,ie,ge,Ve){var it=ge.type;return it===u?et(ce,ie,ge.props.children,Ve,ge.key):ie!==null&&(ie.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===_&&hL(it)===ie.type)?(Ve=O(ie,ge.props),Ve.ref=cm(ce,ie,ge),Ve.return=ce,Ve):(Ve=tx(ge.type,ge.key,ge.props,null,ce.mode,Ve),Ve.ref=cm(ce,ie,ge),Ve.return=ce,Ve)}function Ie(ce,ie,ge,Ve){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ge.containerInfo||ie.stateNode.implementation!==ge.implementation?(ie=jA(ge,ce.mode,Ve),ie.return=ce,ie):(ie=O(ie,ge.children||[]),ie.return=ce,ie)}function et(ce,ie,ge,Ve,it){return ie===null||ie.tag!==7?(ie=lu(ge,ce.mode,Ve,it),ie.return=ce,ie):(ie=O(ie,ge),ie.return=ce,ie)}function Ot(ce,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=DA(""+ie,ce.mode,ge),ie.return=ce,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return ge=tx(ie.type,ie.key,ie.props,null,ce.mode,ge),ge.ref=cm(ce,null,ie),ge.return=ce,ge;case c:return ie=jA(ie,ce.mode,ge),ie.return=ce,ie;case _:var Ve=ie._init;return Ot(ce,Ve(ie._payload),ge)}if(W(ie)||M(ie))return ie=lu(ie,ce.mode,ge,null),ie.return=ce,ie;E0(ce,ie)}return null}function ft(ce,ie,ge,Ve){var it=ie!==null?ie.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return it!==null?null:re(ce,ie,""+ge,Ve);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ge.key===it?be(ce,ie,ge,Ve):null;case c:return ge.key===it?Ie(ce,ie,ge,Ve):null;case _:return it=ge._init,ft(ce,ie,it(ge._payload),Ve)}if(W(ge)||M(ge))return it!==null?null:et(ce,ie,ge,Ve,null);E0(ce,ge)}return null}function mn(ce,ie,ge,Ve,it){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return ce=ce.get(ge)||null,re(ie,ce,""+Ve,it);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case l:return ce=ce.get(Ve.key===null?ge:Ve.key)||null,be(ie,ce,Ve,it);case c:return ce=ce.get(Ve.key===null?ge:Ve.key)||null,Ie(ie,ce,Ve,it);case _:var Ft=Ve._init;return mn(ce,ie,ge,Ft(Ve._payload),it)}if(W(Ve)||M(Ve))return ce=ce.get(ge)||null,et(ie,ce,Ve,it,null);E0(ie,Ve)}return null}function at(ce,ie,ge,Ve){for(var it=null,Ft=null,Rt=ie,Jt=ie=0,Cr=null;Rt!==null&&Jt<ge.length;Jt++){Rt.index>Jt?(Cr=Rt,Rt=null):Cr=Rt.sibling;var Zt=ft(ce,Rt,ge[Jt],Ve);if(Zt===null){Rt===null&&(Rt=Cr);break}h&&Rt&&Zt.alternate===null&&m(ce,Rt),ie=L(Zt,ie,Jt),Ft===null?it=Zt:Ft.sibling=Zt,Ft=Zt,Rt=Cr}if(Jt===ge.length)return E(ce,Rt),On&&tu(ce,Jt),it;if(Rt===null){for(;Jt<ge.length;Jt++)Rt=Ot(ce,ge[Jt],Ve),Rt!==null&&(ie=L(Rt,ie,Jt),Ft===null?it=Rt:Ft.sibling=Rt,Ft=Rt);return On&&tu(ce,Jt),it}for(Rt=T(ce,Rt);Jt<ge.length;Jt++)Cr=mn(Rt,ce,Jt,ge[Jt],Ve),Cr!==null&&(h&&Cr.alternate!==null&&Rt.delete(Cr.key===null?Jt:Cr.key),ie=L(Cr,ie,Jt),Ft===null?it=Cr:Ft.sibling=Cr,Ft=Cr);return h&&Rt.forEach(function(Nl){return m(ce,Nl)}),On&&tu(ce,Jt),it}function Kr(ce,ie,ge,Ve){var it=M(ge);if(typeof it!="function")throw Error(a(150));if(ge=it.call(ge),ge==null)throw Error(a(151));for(var Ft=it=null,Rt=ie,Jt=ie=0,Cr=null,Zt=ge.next();Rt!==null&&!Zt.done;Jt++,Zt=ge.next()){Rt.index>Jt?(Cr=Rt,Rt=null):Cr=Rt.sibling;var Nl=ft(ce,Rt,Zt.value,Ve);if(Nl===null){Rt===null&&(Rt=Cr);break}h&&Rt&&Nl.alternate===null&&m(ce,Rt),ie=L(Nl,ie,Jt),Ft===null?it=Nl:Ft.sibling=Nl,Ft=Nl,Rt=Cr}if(Zt.done)return E(ce,Rt),On&&tu(ce,Jt),it;if(Rt===null){for(;!Zt.done;Jt++,Zt=ge.next())Zt=Ot(ce,Zt.value,Ve),Zt!==null&&(ie=L(Zt,ie,Jt),Ft===null?it=Zt:Ft.sibling=Zt,Ft=Zt);return On&&tu(ce,Jt),it}for(Rt=T(ce,Rt);!Zt.done;Jt++,Zt=ge.next())Zt=mn(Rt,ce,Jt,Zt.value,Ve),Zt!==null&&(h&&Zt.alternate!==null&&Rt.delete(Zt.key===null?Jt:Zt.key),ie=L(Zt,ie,Jt),Ft===null?it=Zt:Ft.sibling=Zt,Ft=Zt);return h&&Rt.forEach(function(kQ){return m(ce,kQ)}),On&&tu(ce,Jt),it}function Bo(ce,ie,ge,Ve){if(typeof ge=="object"&&ge!==null&&ge.type===u&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:e:{for(var it=ge.key,Ft=ie;Ft!==null;){if(Ft.key===it){if(it=ge.type,it===u){if(Ft.tag===7){E(ce,Ft.sibling),ie=O(Ft,ge.props.children),ie.return=ce,ce=ie;break e}}else if(Ft.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===_&&hL(it)===Ft.type){E(ce,Ft.sibling),ie=O(Ft,ge.props),ie.ref=cm(ce,Ft,ge),ie.return=ce,ce=ie;break e}E(ce,Ft);break}else m(ce,Ft);Ft=Ft.sibling}ge.type===u?(ie=lu(ge.props.children,ce.mode,Ve,ge.key),ie.return=ce,ce=ie):(Ve=tx(ge.type,ge.key,ge.props,null,ce.mode,Ve),Ve.ref=cm(ce,ie,ge),Ve.return=ce,ce=Ve)}return Q(ce);case c:e:{for(Ft=ge.key;ie!==null;){if(ie.key===Ft)if(ie.tag===4&&ie.stateNode.containerInfo===ge.containerInfo&&ie.stateNode.implementation===ge.implementation){E(ce,ie.sibling),ie=O(ie,ge.children||[]),ie.return=ce,ce=ie;break e}else{E(ce,ie);break}else m(ce,ie);ie=ie.sibling}ie=jA(ge,ce.mode,Ve),ie.return=ce,ce=ie}return Q(ce);case _:return Ft=ge._init,Bo(ce,ie,Ft(ge._payload),Ve)}if(W(ge))return at(ce,ie,ge,Ve);if(M(ge))return Kr(ce,ie,ge,Ve);E0(ce,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,ie!==null&&ie.tag===6?(E(ce,ie.sibling),ie=O(ie,ge),ie.return=ce,ce=ie):(E(ce,ie),ie=DA(ge,ce.mode,Ve),ie.return=ce,ce=ie),Q(ce)):E(ce,ie)}return Bo}var Kd=pL(!0),mL=pL(!1),um={},Do=Ar(um),dm=Ar(um),Yd=Ar(um);function Ya(h){if(h===um)throw Error(a(174));return h}function eA(h,m){Qe(Yd,m),Qe(dm,h),Qe(Do,um),h=Y(m),bt(Do),Qe(Do,h)}function Jd(){bt(Do),bt(dm),bt(Yd)}function gL(h){var m=Ya(Yd.current),E=Ya(Do.current);m=k(E,h.type,m),E!==m&&(Qe(dm,h),Qe(Do,m))}function tA(h){dm.current===h&&(bt(Do),bt(dm))}var kn=Ar(0);function A0(h){for(var m=h;m!==null;){if(m.tag===13){var E=m.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||rm(E)||im(E)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var nA=[];function rA(){for(var h=0;h<nA.length;h++){var m=nA[h];he?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}nA.length=0}var T0=s.ReactCurrentDispatcher,jo=s.ReactCurrentBatchConfig,Zd=0,$n=null,Gr=null,Pr=null,M0=!1,fm=!1,hm=0,oQ=0;function qr(){throw Error(a(321))}function iA(h,m){if(m===null)return!1;for(var E=0;E<m.length&&E<h.length;E++)if(!qa(h[E],m[E]))return!1;return!0}function oA(h,m,E,T,O,L){if(Zd=L,$n=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,T0.current=h===null||h.memoizedState===null?cQ:uQ,h=E(T,O),fm){L=0;do{if(fm=!1,hm=0,25<=L)throw Error(a(301));L+=1,Pr=Gr=null,m.updateQueue=null,T0.current=dQ,h=E(T,O)}while(fm)}if(T0.current=N0,m=Gr!==null&&Gr.next!==null,Zd=0,Pr=Gr=$n=null,M0=!1,m)throw Error(a(300));return h}function aA(){var h=hm!==0;return hm=0,h}function Rs(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?$n.memoizedState=Pr=h:Pr=Pr.next=h,Pr}function Ja(){if(Gr===null){var h=$n.alternate;h=h!==null?h.memoizedState:null}else h=Gr.next;var m=Pr===null?$n.memoizedState:Pr.next;if(m!==null)Pr=m,Gr=h;else{if(h===null)throw Error(a(310));Gr=h,h={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},Pr===null?$n.memoizedState=Pr=h:Pr=Pr.next=h}return Pr}function nu(h,m){return typeof m=="function"?m(h):m}function P0(h){var m=Ja(),E=m.queue;if(E===null)throw Error(a(311));E.lastRenderedReducer=h;var T=Gr,O=T.baseQueue,L=E.pending;if(L!==null){if(O!==null){var Q=O.next;O.next=L.next,L.next=Q}T.baseQueue=O=L,E.pending=null}if(O!==null){L=O.next,T=T.baseState;var re=Q=null,be=null,Ie=L;do{var et=Ie.lane;if((Zd&et)===et)be!==null&&(be=be.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),T=Ie.hasEagerState?Ie.eagerState:h(T,Ie.action);else{var Ot={lane:et,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};be===null?(re=be=Ot,Q=T):be=be.next=Ot,$n.lanes|=et,ef|=et}Ie=Ie.next}while(Ie!==null&&Ie!==L);be===null?Q=T:be.next=re,qa(T,m.memoizedState)||(io=!0),m.memoizedState=T,m.baseState=Q,m.baseQueue=be,E.lastRenderedState=T}if(h=E.interleaved,h!==null){O=h;do L=O.lane,$n.lanes|=L,ef|=L,O=O.next;while(O!==h)}else O===null&&(E.lanes=0);return[m.memoizedState,E.dispatch]}function C0(h){var m=Ja(),E=m.queue;if(E===null)throw Error(a(311));E.lastRenderedReducer=h;var T=E.dispatch,O=E.pending,L=m.memoizedState;if(O!==null){E.pending=null;var Q=O=O.next;do L=h(L,Q.action),Q=Q.next;while(Q!==O);qa(L,m.memoizedState)||(io=!0),m.memoizedState=L,m.baseQueue===null&&(m.baseState=L),E.lastRenderedState=L}return[L,T]}function vL(){}function yL(h,m){var E=$n,T=Ja(),O=m(),L=!qa(T.memoizedState,O);if(L&&(T.memoizedState=O,io=!0),T=T.queue,mm(_L.bind(null,E,T,h),[h]),T.getSnapshot!==m||L||Pr!==null&&Pr.memoizedState.tag&1){if(E.flags|=2048,pm(9,bL.bind(null,E,T,O,m),void 0,null),rr===null)throw Error(a(349));Zd&30||xL(E,m,O)}return O}function xL(h,m,E){h.flags|=16384,h={getSnapshot:m,value:E},m=$n.updateQueue,m===null?(m={lastEffect:null,stores:null},$n.updateQueue=m,m.stores=[h]):(E=m.stores,E===null?m.stores=[h]:E.push(h))}function bL(h,m,E,T){m.value=E,m.getSnapshot=T,wL(m)&&Uo(h,1,-1)}function _L(h,m,E){return E(function(){wL(m)&&Uo(h,1,-1)})}function wL(h){var m=h.getSnapshot;h=h.value;try{var E=m();return!qa(h,E)}catch{return!0}}function sA(h){var m=Rs();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:h},m.queue=h,h=h.dispatch=lQ.bind(null,$n,h),[m.memoizedState,h]}function pm(h,m,E,T){return h={tag:h,create:m,destroy:E,deps:T,next:null},m=$n.updateQueue,m===null?(m={lastEffect:null,stores:null},$n.updateQueue=m,m.lastEffect=h.next=h):(E=m.lastEffect,E===null?m.lastEffect=h.next=h:(T=E.next,E.next=h,h.next=T,m.lastEffect=h)),h}function SL(){return Ja().memoizedState}function O0(h,m,E,T){var O=Rs();$n.flags|=h,O.memoizedState=pm(1|m,E,void 0,T===void 0?null:T)}function R0(h,m,E,T){var O=Ja();T=T===void 0?null:T;var L=void 0;if(Gr!==null){var Q=Gr.memoizedState;if(L=Q.destroy,T!==null&&iA(T,Q.deps)){O.memoizedState=pm(m,E,L,T);return}}$n.flags|=h,O.memoizedState=pm(1|m,E,L,T)}function lA(h,m){return O0(8390656,8,h,m)}function mm(h,m){return R0(2048,8,h,m)}function EL(h,m){return R0(4,2,h,m)}function AL(h,m){return R0(4,4,h,m)}function TL(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function ML(h,m,E){return E=E!=null?E.concat([h]):null,R0(4,4,TL.bind(null,m,h),E)}function cA(){}function PL(h,m){var E=Ja();m=m===void 0?null:m;var T=E.memoizedState;return T!==null&&m!==null&&iA(m,T[1])?T[0]:(E.memoizedState=[h,m],h)}function CL(h,m){var E=Ja();m=m===void 0?null:m;var T=E.memoizedState;return T!==null&&m!==null&&iA(m,T[1])?T[0]:(h=h(),E.memoizedState=[h,m],h)}function aQ(h,m){var E=Yt;Yt=E!==0&&4>E?E:4,h(!0);var T=jo.transition;jo.transition={};try{h(!1),m()}finally{Yt=E,jo.transition=T}}function OL(){return Ja().memoizedState}function sQ(h,m,E){var T=Cl(h);E={lane:T,action:E,hasEagerState:!1,eagerState:null,next:null},RL(h)?NL(m,E):(IL(h,m,E),E=pi(),h=Uo(h,T,E),h!==null&&kL(h,m,T))}function lQ(h,m,E){var T=Cl(h),O={lane:T,action:E,hasEagerState:!1,eagerState:null,next:null};if(RL(h))NL(m,O);else{IL(h,m,O);var L=h.alternate;if(h.lanes===0&&(L===null||L.lanes===0)&&(L=m.lastRenderedReducer,L!==null))try{var Q=m.lastRenderedState,re=L(Q,E);if(O.hasEagerState=!0,O.eagerState=re,qa(re,Q))return}catch{}finally{}E=pi(),h=Uo(h,T,E),h!==null&&kL(h,m,T)}}function RL(h){var m=h.alternate;return h===$n||m!==null&&m===$n}function NL(h,m){fm=M0=!0;var E=h.pending;E===null?m.next=m:(m.next=E.next,E.next=m),h.pending=m}function IL(h,m,E){rr!==null&&h.mode&1&&!(Vt&2)?(h=m.interleaved,h===null?(E.next=E,Ka===null?Ka=[m]:Ka.push(m)):(E.next=h.next,h.next=E),m.interleaved=E):(h=m.pending,h===null?E.next=E:(E.next=h.next,h.next=E),m.pending=E)}function kL(h,m,E){if(E&4194240){var T=m.lanes;T&=h.pendingLanes,E|=T,m.lanes=E,jE(h,E)}}var N0={readContext:Io,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},cQ={readContext:Io,useCallback:function(h,m){return Rs().memoizedState=[h,m===void 0?null:m],h},useContext:Io,useEffect:lA,useImperativeHandle:function(h,m,E){return E=E!=null?E.concat([h]):null,O0(4194308,4,TL.bind(null,m,h),E)},useLayoutEffect:function(h,m){return O0(4194308,4,h,m)},useInsertionEffect:function(h,m){return O0(4,2,h,m)},useMemo:function(h,m){var E=Rs();return m=m===void 0?null:m,h=h(),E.memoizedState=[h,m],h},useReducer:function(h,m,E){var T=Rs();return m=E!==void 0?E(m):m,T.memoizedState=T.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},T.queue=h,h=h.dispatch=sQ.bind(null,$n,h),[T.memoizedState,h]},useRef:function(h){var m=Rs();return h={current:h},m.memoizedState=h},useState:sA,useDebugValue:cA,useDeferredValue:function(h){var m=sA(h),E=m[0],T=m[1];return lA(function(){var O=jo.transition;jo.transition={};try{T(h)}finally{jo.transition=O}},[h]),E},useTransition:function(){var h=sA(!1),m=h[0];return h=aQ.bind(null,h[1]),Rs().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,E){var T=$n,O=Rs();if(On){if(E===void 0)throw Error(a(407));E=E()}else{if(E=m(),rr===null)throw Error(a(349));Zd&30||xL(T,m,E)}O.memoizedState=E;var L={value:E,getSnapshot:m};return O.queue=L,lA(_L.bind(null,T,L,h),[h]),T.flags|=2048,pm(9,bL.bind(null,T,L,E,m),void 0,null),E},useId:function(){var h=Rs(),m=rr.identifierPrefix;if(On){var E=Os,T=Cs;E=(T&~(1<<32-to(T)-1)).toString(32)+E,m=":"+m+"R"+E,E=hm++,0<E&&(m+="H"+E.toString(32)),m+=":"}else E=oQ++,m=":"+m+"r"+E.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},uQ={readContext:Io,useCallback:PL,useContext:Io,useEffect:mm,useImperativeHandle:ML,useInsertionEffect:EL,useLayoutEffect:AL,useMemo:CL,useReducer:P0,useRef:SL,useState:function(){return P0(nu)},useDebugValue:cA,useDeferredValue:function(h){var m=P0(nu),E=m[0],T=m[1];return mm(function(){var O=jo.transition;jo.transition={};try{T(h)}finally{jo.transition=O}},[h]),E},useTransition:function(){var h=P0(nu)[0],m=Ja().memoizedState;return[h,m]},useMutableSource:vL,useSyncExternalStore:yL,useId:OL,unstable_isNewReconciler:!1},dQ={readContext:Io,useCallback:PL,useContext:Io,useEffect:mm,useImperativeHandle:ML,useInsertionEffect:EL,useLayoutEffect:AL,useMemo:CL,useReducer:C0,useRef:SL,useState:function(){return C0(nu)},useDebugValue:cA,useDeferredValue:function(h){var m=C0(nu),E=m[0],T=m[1];return mm(function(){var O=jo.transition;jo.transition={};try{T(h)}finally{jo.transition=O}},[h]),E},useTransition:function(){var h=C0(nu)[0],m=Ja().memoizedState;return[h,m]},useMutableSource:vL,useSyncExternalStore:yL,useId:OL,unstable_isNewReconciler:!1};function uA(h,m){try{var E="",T=m;do E+=iQ(T),T=T.return;while(T);var O=E}catch(L){O=`
Error generating stack: `+L.message+`
`+L.stack}return{value:h,source:m,stack:O}}function dA(h,m){try{console.error(m.value)}catch(E){setTimeout(function(){throw E})}}var fQ=typeof WeakMap=="function"?WeakMap:Map;function LL(h,m,E){E=Ps(-1,E),E.tag=3,E.payload={element:null};var T=m.value;return E.callback=function(){X0||(X0=!0,CA=T),dA(h,m)},E}function DL(h,m,E){E=Ps(-1,E),E.tag=3;var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var O=m.value;E.payload=function(){return T(O)},E.callback=function(){dA(h,m)}}var L=h.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(E.callback=function(){dA(h,m),typeof T!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var Q=m.stack;this.componentDidCatch(m.value,{componentStack:Q!==null?Q:""})}),E}function jL(h,m,E){var T=h.pingCache;if(T===null){T=h.pingCache=new fQ;var O=new Set;T.set(m,O)}else O=T.get(m),O===void 0&&(O=new Set,T.set(m,O));O.has(E)||(O.add(E),h=TQ.bind(null,h,m,E),m.then(h,h))}function UL(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function FL(h,m,E,T,O){return h.mode&1?(h.flags|=65536,h.lanes=O,h):(h===m?h.flags|=65536:(h.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(m=Ps(-1,1),m.tag=2,Tl(E,m))),E.lanes|=1),h)}function Za(h){h.flags|=4}function BL(h,m){if(h!==null&&h.child===m.child)return!0;if(m.flags&16)return!1;for(h=m.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var gm,vm,I0,k0;if(_e)gm=function(h,m){for(var E=m.child;E!==null;){if(E.tag===5||E.tag===6)Z(h,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===m)break;for(;E.sibling===null;){if(E.return===null||E.return===m)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},vm=function(){},I0=function(h,m,E,T,O){if(h=h.memoizedProps,h!==T){var L=m.stateNode,Q=Ya(Do.current);E=ne(L,E,h,T,O,Q),(m.updateQueue=E)&&Za(m)}},k0=function(h,m,E,T){E!==T&&Za(m)};else if(z){gm=function(h,m,E,T){for(var O=m.child;O!==null;){if(O.tag===5){var L=O.stateNode;E&&T&&(L=Kn(L,O.type,O.memoizedProps,O)),Z(h,L)}else if(O.tag===6)L=O.stateNode,E&&T&&(L=Er(L,O.memoizedProps,O)),Z(h,L);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)L=O.child,L!==null&&(L.return=O),gm(h,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===m)break;for(;O.sibling===null;){if(O.return===null||O.return===m)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};var zL=function(h,m,E,T){for(var O=m.child;O!==null;){if(O.tag===5){var L=O.stateNode;E&&T&&(L=Kn(L,O.type,O.memoizedProps,O)),dt(h,L)}else if(O.tag===6)L=O.stateNode,E&&T&&(L=Er(L,O.memoizedProps,O)),dt(h,L);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)L=O.child,L!==null&&(L.return=O),zL(h,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===m)break;for(;O.sibling===null;){if(O.return===null||O.return===m)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};vm=function(h,m){var E=m.stateNode;if(!BL(h,m)){h=E.containerInfo;var T=mt(h);zL(T,m,!1,!1),E.pendingChildren=T,Za(m),fn(h,T)}},I0=function(h,m,E,T,O){var L=h.stateNode,Q=h.memoizedProps;if((h=BL(h,m))&&Q===T)m.stateNode=L;else{var re=m.stateNode,be=Ya(Do.current),Ie=null;Q!==T&&(Ie=ne(re,E,Q,T,O,be)),h&&Ie===null?m.stateNode=L:(L=Ue(L,Ie,E,Q,T,m,h,re),ee(L,E,T,O,be)&&Za(m),m.stateNode=L,h?Za(m):gm(L,m,!1,!1))}},k0=function(h,m,E,T){E!==T?(h=Ya(Yd.current),E=Ya(Do.current),m.stateNode=xe(T,h,E,m),Za(m)):m.stateNode=h.stateNode}}else vm=function(){},I0=function(){},k0=function(){};function ym(h,m){if(!On)switch(h.tailMode){case"hidden":m=h.tail;for(var E=null;m!==null;)m.alternate!==null&&(E=m),m=m.sibling;E===null?h.tail=null:E.sibling=null;break;case"collapsed":E=h.tail;for(var T=null;E!==null;)E.alternate!==null&&(T=E),E=E.sibling;T===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function Xr(h){var m=h.alternate!==null&&h.alternate.child===h.child,E=0,T=0;if(m)for(var O=h.child;O!==null;)E|=O.lanes|O.childLanes,T|=O.subtreeFlags&14680064,T|=O.flags&14680064,O.return=h,O=O.sibling;else for(O=h.child;O!==null;)E|=O.lanes|O.childLanes,T|=O.subtreeFlags,T|=O.flags,O.return=h,O=O.sibling;return h.subtreeFlags|=T,h.childLanes=E,m}function hQ(h,m,E){var T=m.pendingProps;switch(YE(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(m),null;case 1:return Tr(m.type)&&Yn(),Xr(m),null;case 3:return T=m.stateNode,Jd(),bt(zn),bt(Ht),rA(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(h===null||h.child===null)&&(lm(m)?Za(m):h===null||h.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,da!==null&&(NA(da),da=null))),vm(h,m),Xr(m),null;case 5:tA(m),E=Ya(Yd.current);var O=m.type;if(h!==null&&m.stateNode!=null)I0(h,m,O,T,E),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(a(166));return Xr(m),null}if(h=Ya(Do.current),lm(m)){if(!ve)throw Error(a(175));h=NE(m.stateNode,m.type,m.memoizedProps,E,h,m,!sm),m.updateQueue=h,h!==null&&Za(m)}else{var L=q(O,T,E,h,m);gm(L,m,!1,!1),m.stateNode=L,ee(L,O,T,E,h)&&Za(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Xr(m),null;case 6:if(h&&m.stateNode!=null)k0(h,m,h.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(a(166));if(h=Ya(Yd.current),E=Ya(Do.current),lm(m)){if(!ve)throw Error(a(176));if(h=m.stateNode,T=m.memoizedProps,(E=IE(h,T,m,!sm))&&(O=no,O!==null))switch(L=(O.mode&1)!==0,O.tag){case 3:ot(O.stateNode.containerInfo,h,T,L);break;case 5:vt(O.type,O.memoizedProps,O.stateNode,h,T,L)}E&&Za(m)}else m.stateNode=xe(T,h,E,m)}return Xr(m),null;case 13:if(bt(kn),T=m.memoizedState,On&&ro!==null&&m.mode&1&&!(m.flags&128)){for(h=ro;h;)h=El(h);return Xd(),m.flags|=98560,m}if(T!==null&&T.dehydrated!==null){if(T=lm(m),h===null){if(!T)throw Error(a(318));if(!ve)throw Error(a(344));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));kE(h,m)}else Xd(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return Xr(m),null}return da!==null&&(NA(da),da=null),m.flags&128?(m.lanes=E,m):(T=T!==null,E=!1,h===null?lm(m):E=h.memoizedState!==null,T&&!E&&(m.child.flags|=8192,m.mode&1&&(h===null||kn.current&1?fr===0&&(fr=3):kA())),m.updateQueue!==null&&(m.flags|=4),Xr(m),null);case 4:return Jd(),vm(h,m),h===null&&Se(m.stateNode.containerInfo),Xr(m),null;case 10:return VE(m.type._context),Xr(m),null;case 17:return Tr(m.type)&&Yn(),Xr(m),null;case 19:if(bt(kn),O=m.memoizedState,O===null)return Xr(m),null;if(T=(m.flags&128)!==0,L=O.rendering,L===null)if(T)ym(O,!1);else{if(fr!==0||h!==null&&h.flags&128)for(h=m.child;h!==null;){if(L=A0(h),L!==null){for(m.flags|=128,ym(O,!1),h=L.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),m.subtreeFlags=0,h=E,T=m.child;T!==null;)E=T,O=h,E.flags&=14680066,L=E.alternate,L===null?(E.childLanes=0,E.lanes=O,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=L.childLanes,E.lanes=L.lanes,E.child=L.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=L.memoizedProps,E.memoizedState=L.memoizedState,E.updateQueue=L.updateQueue,E.type=L.type,O=L.dependencies,E.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),T=T.sibling;return Qe(kn,kn.current&1|2),m.child}h=h.sibling}O.tail!==null&&Mr()>PA&&(m.flags|=128,T=!0,ym(O,!1),m.lanes=4194304)}else{if(!T)if(h=A0(L),h!==null){if(m.flags|=128,T=!0,h=h.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),ym(O,!0),O.tail===null&&O.tailMode==="hidden"&&!L.alternate&&!On)return Xr(m),null}else 2*Mr()-O.renderingStartTime>PA&&E!==1073741824&&(m.flags|=128,T=!0,ym(O,!1),m.lanes=4194304);O.isBackwards?(L.sibling=m.child,m.child=L):(h=O.last,h!==null?h.sibling=L:m.child=L,O.last=L)}return O.tail!==null?(m=O.tail,O.rendering=m,O.tail=m.sibling,O.renderingStartTime=Mr(),m.sibling=null,h=kn.current,Qe(kn,T?h&1|2:h&1),m):(Xr(m),null);case 22:case 23:return IA(),T=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==T&&(m.flags|=8192),T&&m.mode&1?oo&1073741824&&(Xr(m),_e&&m.subtreeFlags&6&&(m.flags|=8192)):Xr(m),null;case 24:return null;case 25:return null}throw Error(a(156,m.tag))}var pQ=s.ReactCurrentOwner,io=!1;function hi(h,m,E,T){m.child=h===null?mL(m,null,E,T):Kd(m,h.child,E,T)}function $L(h,m,E,T,O){E=E.render;var L=m.ref;return Wd(m,O),T=oA(h,m,E,T,L,O),E=aA(),h!==null&&!io?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~O,Ns(h,m,O)):(On&&E&&KE(m),m.flags|=1,hi(h,m,T,O),m.child)}function HL(h,m,E,T,O){if(h===null){var L=E.type;return typeof L=="function"&&!LA(L)&&L.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(m.tag=15,m.type=L,VL(h,m,L,T,O)):(h=tx(E.type,null,T,m,m.mode,O),h.ref=m.ref,h.return=m,m.child=h)}if(L=h.child,!(h.lanes&O)){var Q=L.memoizedProps;if(E=E.compare,E=E!==null?E:g0,E(Q,T)&&h.ref===m.ref)return Ns(h,m,O)}return m.flags|=1,h=Rl(L,T),h.ref=m.ref,h.return=m,m.child=h}function VL(h,m,E,T,O){if(h!==null&&g0(h.memoizedProps,T)&&h.ref===m.ref)if(io=!1,(h.lanes&O)!==0)h.flags&131072&&(io=!0);else return m.lanes=h.lanes,Ns(h,m,O);return fA(h,m,E,T,O)}function WL(h,m,E){var T=m.pendingProps,O=T.children,L=h!==null?h.memoizedState:null;if(T.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Qe(Qd,oo),oo|=E;else if(E&1073741824)m.memoizedState={baseLanes:0,cachePool:null},T=L!==null?L.baseLanes:E,Qe(Qd,oo),oo|=T;else return h=L!==null?L.baseLanes|E:E,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null},m.updateQueue=null,Qe(Qd,oo),oo|=h,null;else L!==null?(T=L.baseLanes|E,m.memoizedState=null):T=E,Qe(Qd,oo),oo|=T;return hi(h,m,O,E),m.child}function GL(h,m){var E=m.ref;(h===null&&E!==null||h!==null&&h.ref!==E)&&(m.flags|=512,m.flags|=2097152)}function fA(h,m,E,T,O){var L=Tr(E)?Va:Ht.current;return L=No(m,L),Wd(m,O),E=oA(h,m,E,T,L,O),T=aA(),h!==null&&!io?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~O,Ns(h,m,O)):(On&&T&&KE(m),m.flags|=1,hi(h,m,E,O),m.child)}function qL(h,m,E,T,O){if(Tr(E)){var L=!0;Fr(m)}else L=!1;if(Wd(m,O),m.stateNode===null)h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),sL(m,E,T),XE(m,E,T,O),T=!0;else if(h===null){var Q=m.stateNode,re=m.memoizedProps;Q.props=re;var be=Q.context,Ie=E.contextType;typeof Ie=="object"&&Ie!==null?Ie=Io(Ie):(Ie=Tr(E)?Va:Ht.current,Ie=No(m,Ie));var et=E.getDerivedStateFromProps,Ot=typeof et=="function"||typeof Q.getSnapshotBeforeUpdate=="function";Ot||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(re!==T||be!==Ie)&&lL(m,Q,T,Ie),Al=!1;var ft=m.memoizedState;Q.state=ft,b0(m,T,Q,O),be=m.memoizedState,re!==T||ft!==be||zn.current||Al?(typeof et=="function"&&(qE(m,E,et,T),be=m.memoizedState),(re=Al||aL(m,E,re,T,ft,be,Ie))?(Ot||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(m.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=be),Q.props=T,Q.state=be,Q.context=Ie,T=re):(typeof Q.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{Q=m.stateNode,nL(h,m),re=m.memoizedProps,Ie=m.type===m.elementType?re:ua(m.type,re),Q.props=Ie,Ot=m.pendingProps,ft=Q.context,be=E.contextType,typeof be=="object"&&be!==null?be=Io(be):(be=Tr(E)?Va:Ht.current,be=No(m,be));var mn=E.getDerivedStateFromProps;(et=typeof mn=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(re!==Ot||ft!==be)&&lL(m,Q,T,be),Al=!1,ft=m.memoizedState,Q.state=ft,b0(m,T,Q,O);var at=m.memoizedState;re!==Ot||ft!==at||zn.current||Al?(typeof mn=="function"&&(qE(m,E,mn,T),at=m.memoizedState),(Ie=Al||aL(m,E,Ie,T,ft,at,be)||!1)?(et||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(T,at,be),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(T,at,be)),typeof Q.componentDidUpdate=="function"&&(m.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof Q.componentDidUpdate!="function"||re===h.memoizedProps&&ft===h.memoizedState||(m.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||re===h.memoizedProps&&ft===h.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=at),Q.props=T,Q.state=at,Q.context=be,T=Ie):(typeof Q.componentDidUpdate!="function"||re===h.memoizedProps&&ft===h.memoizedState||(m.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||re===h.memoizedProps&&ft===h.memoizedState||(m.flags|=1024),T=!1)}return hA(h,m,E,T,L,O)}function hA(h,m,E,T,O,L){GL(h,m);var Q=(m.flags&128)!==0;if(!T&&!Q)return O&&Hd(m,E,!1),Ns(h,m,L);T=m.stateNode,pQ.current=m;var re=Q&&typeof E.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,h!==null&&Q?(m.child=Kd(m,h.child,null,L),m.child=Kd(m,null,re,L)):hi(h,m,re,L),m.memoizedState=T.state,O&&Hd(m,E,!0),m.child}function XL(h){var m=h.stateNode;m.pendingContext?Wa(h,m.pendingContext,m.pendingContext!==m.context):m.context&&Wa(h,m.context,!1),eA(h,m.containerInfo)}function KL(h,m,E,T,O){return Xd(),QE(O),m.flags|=256,hi(h,m,E,T),m.child}var L0={dehydrated:null,treeContext:null,retryLane:0};function D0(h){return{baseLanes:h,cachePool:null}}function YL(h,m,E){var T=m.pendingProps,O=kn.current,L=!1,Q=(m.flags&128)!==0,re;if((re=Q)||(re=h!==null&&h.memoizedState===null?!1:(O&2)!==0),re?(L=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(O|=1),Qe(kn,O&1),h===null)return ZE(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(m.mode&1?im(h)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(O=T.children,h=T.fallback,L?(T=m.mode,L=m.child,O={mode:"hidden",children:O},!(T&1)&&L!==null?(L.childLanes=0,L.pendingProps=O):L=nx(O,T,0,null),h=lu(h,T,E,null),L.return=m,h.return=m,L.sibling=h,m.child=L,m.child.memoizedState=D0(E),m.memoizedState=L0,h):pA(m,O));if(O=h.memoizedState,O!==null){if(re=O.dehydrated,re!==null){if(Q)return m.flags&256?(m.flags&=-257,j0(h,m,E,Error(a(422)))):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(L=T.fallback,O=m.mode,T=nx({mode:"visible",children:T.children},O,0,null),L=lu(L,O,E,null),L.flags|=2,T.return=m,L.return=m,T.sibling=L,m.child=T,m.mode&1&&Kd(m,h.child,null,E),m.child.memoizedState=D0(E),m.memoizedState=L0,L);if(!(m.mode&1))m=j0(h,m,E,null);else if(im(re))m=j0(h,m,E,Error(a(419)));else if(T=(E&h.childLanes)!==0,io||T){if(T=rr,T!==null){switch(E&-E){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}T=L&(T.suspendedLanes|E)?0:L,T!==0&&T!==O.retryLane&&(O.retryLane=T,Uo(h,T,-1))}kA(),m=j0(h,m,E,Error(a(421)))}else rm(re)?(m.flags|=128,m.child=h.child,m=MQ.bind(null,h),Bd(re,m),m=null):(E=O.treeContext,ve&&(ro=c0(re),no=m,On=!0,da=null,sm=!1,E!==null&&(ko[Lo++]=Cs,ko[Lo++]=Os,ko[Lo++]=eu,Cs=E.id,Os=E.overflow,eu=m)),m=pA(m,m.pendingProps.children),m.flags|=4096);return m}return L?(T=ZL(h,m,T.children,T.fallback,E),L=m.child,O=h.child.memoizedState,L.memoizedState=O===null?D0(E):{baseLanes:O.baseLanes|E,cachePool:null},L.childLanes=h.childLanes&~E,m.memoizedState=L0,T):(E=JL(h,m,T.children,E),m.memoizedState=null,E)}return L?(T=ZL(h,m,T.children,T.fallback,E),L=m.child,O=h.child.memoizedState,L.memoizedState=O===null?D0(E):{baseLanes:O.baseLanes|E,cachePool:null},L.childLanes=h.childLanes&~E,m.memoizedState=L0,T):(E=JL(h,m,T.children,E),m.memoizedState=null,E)}function pA(h,m){return m=nx({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function JL(h,m,E,T){var O=h.child;return h=O.sibling,E=Rl(O,{mode:"visible",children:E}),!(m.mode&1)&&(E.lanes=T),E.return=m,E.sibling=null,h!==null&&(T=m.deletions,T===null?(m.deletions=[h],m.flags|=16):T.push(h)),m.child=E}function ZL(h,m,E,T,O){var L=m.mode;h=h.child;var Q=h.sibling,re={mode:"hidden",children:E};return!(L&1)&&m.child!==h?(E=m.child,E.childLanes=0,E.pendingProps=re,m.deletions=null):(E=Rl(h,re),E.subtreeFlags=h.subtreeFlags&14680064),Q!==null?T=Rl(Q,T):(T=lu(T,L,O,null),T.flags|=2),T.return=m,E.return=m,E.sibling=T,m.child=E,T}function j0(h,m,E,T){return T!==null&&QE(T),Kd(m,h.child,null,E),h=pA(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function QL(h,m,E){h.lanes|=m;var T=h.alternate;T!==null&&(T.lanes|=m),WE(h.return,m,E)}function mA(h,m,E,T,O){var L=h.memoizedState;L===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:E,tailMode:O}:(L.isBackwards=m,L.rendering=null,L.renderingStartTime=0,L.last=T,L.tail=E,L.tailMode=O)}function eD(h,m,E){var T=m.pendingProps,O=T.revealOrder,L=T.tail;if(hi(h,m,T.children,E),T=kn.current,T&2)T=T&1|2,m.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&QL(h,E,m);else if(h.tag===19)QL(h,E,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}if(Qe(kn,T),!(m.mode&1))m.memoizedState=null;else switch(O){case"forwards":for(E=m.child,O=null;E!==null;)h=E.alternate,h!==null&&A0(h)===null&&(O=E),E=E.sibling;E=O,E===null?(O=m.child,m.child=null):(O=E.sibling,E.sibling=null),mA(m,!1,O,E,L);break;case"backwards":for(E=null,O=m.child,m.child=null;O!==null;){if(h=O.alternate,h!==null&&A0(h)===null){m.child=O;break}h=O.sibling,O.sibling=E,E=O,O=h}mA(m,!0,E,null,L);break;case"together":mA(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Ns(h,m,E){if(h!==null&&(m.dependencies=h.dependencies),ef|=m.lanes,!(E&m.childLanes))return null;if(h!==null&&m.child!==h.child)throw Error(a(153));if(m.child!==null){for(h=m.child,E=Rl(h,h.pendingProps),m.child=E,E.return=m;h.sibling!==null;)h=h.sibling,E=E.sibling=Rl(h,h.pendingProps),E.return=m;E.sibling=null}return m.child}function mQ(h,m,E){switch(m.tag){case 3:XL(m),Xd();break;case 5:gL(m);break;case 1:Tr(m.type)&&Fr(m);break;case 4:eA(m,m.stateNode.containerInfo);break;case 10:tL(m,m.type._context,m.memoizedProps.value);break;case 13:var T=m.memoizedState;if(T!==null)return T.dehydrated!==null?(Qe(kn,kn.current&1),m.flags|=128,null):E&m.child.childLanes?YL(h,m,E):(Qe(kn,kn.current&1),h=Ns(h,m,E),h!==null?h.sibling:null);Qe(kn,kn.current&1);break;case 19:if(T=(E&m.childLanes)!==0,h.flags&128){if(T)return eD(h,m,E);m.flags|=128}var O=m.memoizedState;if(O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Qe(kn,kn.current),T)break;return null;case 22:case 23:return m.lanes=0,WL(h,m,E)}return Ns(h,m,E)}function gQ(h,m){switch(YE(m),m.tag){case 1:return Tr(m.type)&&Yn(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Jd(),bt(zn),bt(Ht),rA(),h=m.flags,h&65536&&!(h&128)?(m.flags=h&-65537|128,m):null;case 5:return tA(m),null;case 13:if(bt(kn),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(a(340));Xd()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return bt(kn),null;case 4:return Jd(),null;case 10:return VE(m.type._context),null;case 22:case 23:return IA(),null;case 24:return null;default:return null}}var U0=!1,ru=!1,vQ=typeof WeakSet=="function"?WeakSet:Set,$e=null;function F0(h,m){var E=h.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(T){Fi(h,m,T)}else E.current=null}function gA(h,m,E){try{E()}catch(T){Fi(h,m,T)}}var tD=!1;function yQ(h,m){for(F(h.containerInfo),$e=m;$e!==null;)if(h=$e,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,$e=m;else for(;$e!==null;){h=$e;try{var E=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var T=E.memoizedProps,O=E.memoizedState,L=h.stateNode,Q=L.getSnapshotBeforeUpdate(h.elementType===h.type?T:ua(h.type,T),O);L.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:_e&&ke(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(re){Fi(h,h.return,re)}if(m=h.sibling,m!==null){m.return=h.return,$e=m;break}$e=h.return}return E=tD,tD=!1,E}function iu(h,m,E){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var O=T=T.next;do{if((O.tag&h)===h){var L=O.destroy;O.destroy=void 0,L!==void 0&&gA(m,E,L)}O=O.next}while(O!==T)}}function xm(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var E=m=m.next;do{if((E.tag&h)===h){var T=E.create;E.destroy=T()}E=E.next}while(E!==m)}}function vA(h){var m=h.ref;if(m!==null){var E=h.stateNode;switch(h.tag){case 5:h=H(E);break;default:h=E}typeof m=="function"?m(h):m.current=h}}function nD(h,m,E){if(Ga&&typeof Ga.onCommitFiberUnmount=="function")try{Ga.onCommitFiberUnmount(p0,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(h=m.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var T=h=h.next;do{var O=T,L=O.destroy;O=O.tag,L!==void 0&&(O&2||O&4)&&gA(m,E,L),T=T.next}while(T!==h)}break;case 1:if(F0(m,E),h=m.stateNode,typeof h.componentWillUnmount=="function")try{h.props=m.memoizedProps,h.state=m.memoizedState,h.componentWillUnmount()}catch(Q){Fi(m,E,Q)}break;case 5:F0(m,E);break;case 4:_e?lD(h,m,E):z&&z&&(m=m.stateNode.containerInfo,E=mt(m),an(m,E))}}function rD(h,m,E){for(var T=m;;)if(nD(h,T,E),T.child===null||_e&&T.tag===4){if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function iD(h){var m=h.alternate;m!==null&&(h.alternate=null,iD(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&Be(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function oD(h){return h.tag===5||h.tag===3||h.tag===4}function aD(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||oD(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function sD(h){if(_e){e:{for(var m=h.return;m!==null;){if(oD(m))break e;m=m.return}throw Error(a(160))}var E=m;switch(E.tag){case 5:m=E.stateNode,E.flags&32&&(qt(m),E.flags&=-33),E=aD(h),xA(h,E,m);break;case 3:case 4:m=E.stateNode.containerInfo,E=aD(h),yA(h,E,m);break;default:throw Error(a(161))}}}function yA(h,m,E){var T=h.tag;if(T===5||T===6)h=h.stateNode,m?lt(E,h,m):gt(E,h);else if(T!==4&&(h=h.child,h!==null))for(yA(h,m,E),h=h.sibling;h!==null;)yA(h,m,E),h=h.sibling}function xA(h,m,E){var T=h.tag;if(T===5||T===6)h=h.stateNode,m?_t(E,h,m):ct(E,h);else if(T!==4&&(h=h.child,h!==null))for(xA(h,m,E),h=h.sibling;h!==null;)xA(h,m,E),h=h.sibling}function lD(h,m,E){for(var T=m,O=!1,L,Q;;){if(!O){O=T.return;e:for(;;){if(O===null)throw Error(a(160));switch(L=O.stateNode,O.tag){case 5:Q=!1;break e;case 3:L=L.containerInfo,Q=!0;break e;case 4:L=L.containerInfo,Q=!0;break e}O=O.return}O=!0}if(T.tag===5||T.tag===6)rD(h,T,E),Q?pt(L,T.stateNode):Xe(L,T.stateNode);else if(T.tag===18)Q?fe(L,T.stateNode):me(L,T.stateNode);else if(T.tag===4){if(T.child!==null){L=T.stateNode.containerInfo,Q=!0,T.child.return=T,T=T.child;continue}}else if(nD(h,T,E),T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return,T.tag===4&&(O=!1)}T.sibling.return=T.return,T=T.sibling}}function bA(h,m){if(_e){switch(m.tag){case 0:case 11:case 14:case 15:iu(3,m,m.return),xm(3,m),iu(5,m,m.return);return;case 1:return;case 5:var E=m.stateNode;if(E!=null){var T=m.memoizedProps;h=h!==null?h.memoizedProps:T;var O=m.type,L=m.updateQueue;m.updateQueue=null,L!==null&&kt(E,L,O,h,T,m)}return;case 6:if(m.stateNode===null)throw Error(a(162));E=m.memoizedProps,Oe(m.stateNode,h!==null?h.memoizedProps:E,E);return;case 3:ve&&h!==null&&h.memoizedState.isDehydrated&&ae(m.stateNode.containerInfo);return;case 12:return;case 13:B0(m);return;case 19:B0(m);return;case 17:return}throw Error(a(163))}switch(m.tag){case 0:case 11:case 14:case 15:iu(3,m,m.return),xm(3,m),iu(5,m,m.return);return;case 12:return;case 13:B0(m);return;case 19:B0(m);return;case 3:ve&&h!==null&&h.memoizedState.isDehydrated&&ae(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(z){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,an(m.containerInfo,m.pendingChildren);break e}throw Error(a(163))}}function B0(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var E=h.stateNode;E===null&&(E=h.stateNode=new vQ),m.forEach(function(T){var O=PQ.bind(null,h,T);E.has(T)||(E.add(T),T.then(O,O))})}}function xQ(h,m){for($e=m;$e!==null;){m=$e;var E=m.deletions;if(E!==null)for(var T=0;T<E.length;T++){var O=E[T];try{var L=h;_e?lD(L,O,m):rD(L,O,m);var Q=O.alternate;Q!==null&&(Q.return=null),O.return=null}catch(it){Fi(O,m,it)}}if(E=m.child,m.subtreeFlags&12854&&E!==null)E.return=m,$e=E;else for(;$e!==null;){m=$e;try{var re=m.flags;if(re&32&&_e&&qt(m.stateNode),re&512){var be=m.alternate;if(be!==null){var Ie=be.ref;Ie!==null&&(typeof Ie=="function"?Ie(null):Ie.current=null)}}if(re&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var et=m.alternate;(et===null||et.memoizedState===null)&&(MA=Mr())}break;case 22:var Ot=m.memoizedState!==null,ft=m.alternate,mn=ft!==null&&ft.memoizedState!==null;if(E=m,_e){e:if(T=E,O=Ot,L=null,_e)for(var at=T;;){if(at.tag===5){if(L===null){L=at;var Kr=at.stateNode;O?Ke(Kr):Te(at.stateNode,at.memoizedProps)}}else if(at.tag===6){if(L===null){var Bo=at.stateNode;O?Ye(Bo):te(Bo,at.memoizedProps)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===T)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===T)break;for(;at.sibling===null;){if(at.return===null||at.return===T)break e;L===at&&(L=null),at=at.return}L===at&&(L=null),at.sibling.return=at.return,at=at.sibling}}if(Ot&&!mn&&E.mode&1){$e=E;for(var ce=E.child;ce!==null;){for(E=$e=ce;$e!==null;){T=$e;var ie=T.child;switch(T.tag){case 0:case 11:case 14:case 15:iu(4,T,T.return);break;case 1:F0(T,T.return);var ge=T.stateNode;if(typeof ge.componentWillUnmount=="function"){var Ve=T.return;try{ge.props=T.memoizedProps,ge.state=T.memoizedState,ge.componentWillUnmount()}catch(it){Fi(T,Ve,it)}}break;case 5:F0(T,T.return);break;case 22:if(T.memoizedState!==null){dD(E);continue}}ie!==null?(ie.return=T,$e=ie):dD(E)}ce=ce.sibling}}}switch(re&4102){case 2:sD(m),m.flags&=-3;break;case 6:sD(m),m.flags&=-3,bA(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,bA(m.alternate,m);break;case 4:bA(m.alternate,m)}}catch(it){Fi(m,m.return,it)}if(E=m.sibling,E!==null){E.return=m.return,$e=E;break}$e=m.return}}}function bQ(h,m,E){$e=h,cD(h)}function cD(h,m,E){for(var T=(h.mode&1)!==0;$e!==null;){var O=$e,L=O.child;if(O.tag===22&&T){var Q=O.memoizedState!==null||U0;if(!Q){var re=O.alternate,be=re!==null&&re.memoizedState!==null||ru;re=U0;var Ie=ru;if(U0=Q,(ru=be)&&!Ie)for($e=O;$e!==null;)Q=$e,be=Q.child,Q.tag===22&&Q.memoizedState!==null?fD(O):be!==null?(be.return=Q,$e=be):fD(O);for(;L!==null;)$e=L,cD(L),L=L.sibling;$e=O,U0=re,ru=Ie}uD(h)}else O.subtreeFlags&8772&&L!==null?(L.return=O,$e=L):uD(h)}}function uD(h){for(;$e!==null;){var m=$e;if(m.flags&8772){var E=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:ru||xm(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!ru)if(E===null)T.componentDidMount();else{var O=m.elementType===m.type?E.memoizedProps:ua(m.type,E.memoizedProps);T.componentDidUpdate(O,E.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var L=m.updateQueue;L!==null&&iL(m,L,T);break;case 3:var Q=m.updateQueue;if(Q!==null){if(E=null,m.child!==null)switch(m.child.tag){case 5:E=H(m.child.stateNode);break;case 1:E=m.child.stateNode}iL(m,Q,E)}break;case 5:var re=m.stateNode;E===null&&m.flags&4&&Gt(re,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&m.memoizedState===null){var be=m.alternate;if(be!==null){var Ie=be.memoizedState;if(Ie!==null){var et=Ie.dehydrated;et!==null&&pe(et)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}ru||m.flags&512&&vA(m)}catch(Ot){Fi(m,m.return,Ot)}}if(m===h){$e=null;break}if(E=m.sibling,E!==null){E.return=m.return,$e=E;break}$e=m.return}}function dD(h){for(;$e!==null;){var m=$e;if(m===h){$e=null;break}var E=m.sibling;if(E!==null){E.return=m.return,$e=E;break}$e=m.return}}function fD(h){for(;$e!==null;){var m=$e;try{switch(m.tag){case 0:case 11:case 15:var E=m.return;try{xm(4,m)}catch(be){Fi(m,E,be)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var O=m.return;try{T.componentDidMount()}catch(be){Fi(m,O,be)}}var L=m.return;try{vA(m)}catch(be){Fi(m,L,be)}break;case 5:var Q=m.return;try{vA(m)}catch(be){Fi(m,Q,be)}}}catch(be){Fi(m,m.return,be)}if(m===h){$e=null;break}var re=m.sibling;if(re!==null){re.return=m.return,$e=re;break}$e=m.return}}var z0=0,$0=1,H0=2,V0=3,W0=4;if(typeof Symbol=="function"&&Symbol.for){var bm=Symbol.for;z0=bm("selector.component"),$0=bm("selector.has_pseudo_class"),H0=bm("selector.role"),V0=bm("selector.test_id"),W0=bm("selector.text")}function _A(h){var m=se(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(a(364));return m}if(h=oe(h),h===null)throw Error(a(362));return h.stateNode.current}function wA(h,m){switch(m.$$typeof){case z0:if(h.type===m.value)return!0;break;case $0:e:{m=m.value,h=[h,0];for(var E=0;E<h.length;){var T=h[E++],O=h[E++],L=m[O];if(T.tag!==5||!Ee(T)){for(;L!=null&&wA(T,L);)O++,L=m[O];if(O===m.length){m=!0;break e}else for(T=T.child;T!==null;)h.push(T,O),T=T.sibling}}m=!1}return m;case H0:if(h.tag===5&&tt(h.stateNode,m.value))return!0;break;case W0:if((h.tag===5||h.tag===6)&&(h=Pe(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case V0:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function SA(h){switch(h.$$typeof){case z0:return"<"+(P(h.value)||"Unknown")+">";case $0:return":has("+(SA(h)||"")+")";case H0:return'[role="'+h.value+'"]';case W0:return'"'+h.value+'"';case V0:return'[data-testname="'+h.value+'"]';default:throw Error(a(365))}}function hD(h,m){var E=[];h=[h,0];for(var T=0;T<h.length;){var O=h[T++],L=h[T++],Q=m[L];if(O.tag!==5||!Ee(O)){for(;Q!=null&&wA(O,Q);)L++,Q=m[L];if(L===m.length)E.push(O);else for(O=O.child;O!==null;)h.push(O,L),O=O.sibling}}return E}function EA(h,m){if(!B)throw Error(a(363));h=_A(h),h=hD(h,m),m=[],h=Array.from(h);for(var E=0;E<h.length;){var T=h[E++];if(T.tag===5)Ee(T)||m.push(T.stateNode);else for(T=T.child;T!==null;)h.push(T),T=T.sibling}return m}var _Q=Math.ceil,G0=s.ReactCurrentDispatcher,AA=s.ReactCurrentOwner,Jn=s.ReactCurrentBatchConfig,Vt=0,rr=null,ir=null,Br=0,oo=0,Qd=Ar(0),fr=0,_m=null,ef=0,q0=0,TA=0,wm=null,ji=null,MA=0,PA=1/0;function tf(){PA=Mr()+500}var X0=!1,CA=null,Ml=null,K0=!1,Pl=null,Y0=0,Sm=0,OA=null,J0=-1,Z0=0;function pi(){return Vt&6?Mr():J0!==-1?J0:J0=Mr()}function Cl(h){return h.mode&1?Vt&2&&Br!==0?Br&-Br:rQ.transition!==null?(Z0===0&&(h=d0,d0<<=1,!(d0&4194240)&&(d0=64),Z0=h),Z0):(h=Yt,h!==0?h:ue()):1}function Uo(h,m,E){if(50<Sm)throw Sm=0,OA=null,Error(a(185));var T=Q0(h,m);return T===null?null:(am(T,m,E),(!(Vt&2)||T!==rr)&&(T===rr&&(!(Vt&2)&&(q0|=m),fr===4&&Ol(T,Br)),Ui(T,E),m===1&&Vt===0&&!(h.mode&1)&&(tf(),m0&&Xa())),T)}function Q0(h,m){h.lanes|=m;var E=h.alternate;for(E!==null&&(E.lanes|=m),E=h,h=h.return;h!==null;)h.childLanes|=m,E=h.alternate,E!==null&&(E.childLanes|=m),E=h,h=h.return;return E.tag===3?E.stateNode:null}function Ui(h,m){var E=h.callbackNode;XZ(h,m);var T=h0(h,h===rr?Br:0);if(T===0)E!==null&&Qk(E),h.callbackNode=null,h.callbackPriority=0;else if(m=T&-T,h.callbackPriority!==m){if(E!=null&&Qk(E),m===1)h.tag===0?nQ(mD.bind(null,h)):eL(mD.bind(null,h)),Le?G(function(){Vt===0&&Xa()}):UE(FE,Xa),E=null;else{switch(Zk(T)){case 1:E=FE;break;case 4:E=ZZ;break;case 16:E=BE;break;case 536870912:E=QZ;break;default:E=BE}E=ED(E,pD.bind(null,h))}h.callbackPriority=m,h.callbackNode=E}}function pD(h,m){if(J0=-1,Z0=0,Vt&6)throw Error(a(327));var E=h.callbackNode;if(su()&&h.callbackNode!==E)return null;var T=h0(h,h===rr?Br:0);if(T===0)return null;if(T&30||T&h.expiredLanes||m)m=ex(h,T);else{m=T;var O=Vt;Vt|=2;var L=yD();(rr!==h||Br!==m)&&(tf(),ou(h,m));do try{EQ();break}catch(re){vD(h,re)}while(!0);HE(),G0.current=L,Vt=O,ir!==null?m=0:(rr=null,Br=0,m=fr)}if(m!==0){if(m===2&&(O=LE(h),O!==0&&(T=O,m=RA(h,O))),m===1)throw E=_m,ou(h,0),Ol(h,T),Ui(h,Mr()),E;if(m===6)Ol(h,T);else{if(O=h.current.alternate,!(T&30)&&!wQ(O)&&(m=ex(h,T),m===2&&(L=LE(h),L!==0&&(T=L,m=RA(h,L))),m===1))throw E=_m,ou(h,0),Ol(h,T),Ui(h,Mr()),E;switch(h.finishedWork=O,h.finishedLanes=T,m){case 0:case 1:throw Error(a(345));case 2:au(h,ji);break;case 3:if(Ol(h,T),(T&130023424)===T&&(m=MA+500-Mr(),10<m)){if(h0(h,0)!==0)break;if(O=h.suspendedLanes,(O&T)!==T){pi(),h.pingedLanes|=h.suspendedLanes&O;break}h.timeoutHandle=le(au.bind(null,h,ji),m);break}au(h,ji);break;case 4:if(Ol(h,T),(T&4194240)===T)break;for(m=h.eventTimes,O=-1;0<T;){var Q=31-to(T);L=1<<Q,Q=m[Q],Q>O&&(O=Q),T&=~L}if(T=O,T=Mr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*_Q(T/1960))-T,10<T){h.timeoutHandle=le(au.bind(null,h,ji),T);break}au(h,ji);break;case 5:au(h,ji);break;default:throw Error(a(329))}}}return Ui(h,Mr()),h.callbackNode===E?pD.bind(null,h):null}function RA(h,m){var E=wm;return h.current.memoizedState.isDehydrated&&(ou(h,m).flags|=256),h=ex(h,m),h!==2&&(m=ji,ji=E,m!==null&&NA(m)),h}function NA(h){ji===null?ji=h:ji.push.apply(ji,h)}function wQ(h){for(var m=h;;){if(m.flags&16384){var E=m.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var T=0;T<E.length;T++){var O=E[T],L=O.getSnapshot;O=O.value;try{if(!qa(L(),O))return!1}catch{return!1}}}if(E=m.child,m.subtreeFlags&16384&&E!==null)E.return=m,m=E;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Ol(h,m){for(m&=~TA,m&=~q0,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var E=31-to(m),T=1<<E;h[E]=-1,m&=~T}}function mD(h){if(Vt&6)throw Error(a(327));su();var m=h0(h,0);if(!(m&1))return Ui(h,Mr()),null;var E=ex(h,m);if(h.tag!==0&&E===2){var T=LE(h);T!==0&&(m=T,E=RA(h,T))}if(E===1)throw E=_m,ou(h,0),Ol(h,m),Ui(h,Mr()),E;if(E===6)throw Error(a(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,au(h,ji),Ui(h,Mr()),null}function gD(h){Pl!==null&&Pl.tag===0&&!(Vt&6)&&su();var m=Vt;Vt|=1;var E=Jn.transition,T=Yt;try{if(Jn.transition=null,Yt=1,h)return h()}finally{Yt=T,Jn.transition=E,Vt=m,!(Vt&6)&&Xa()}}function IA(){oo=Qd.current,bt(Qd)}function ou(h,m){h.finishedWork=null,h.finishedLanes=0;var E=h.timeoutHandle;if(E!==de&&(h.timeoutHandle=de,Re(E)),ir!==null)for(E=ir.return;E!==null;){var T=E;switch(YE(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Yn();break;case 3:Jd(),bt(zn),bt(Ht),rA();break;case 5:tA(T);break;case 4:Jd();break;case 13:bt(kn);break;case 19:bt(kn);break;case 10:VE(T.type._context);break;case 22:case 23:IA()}E=E.return}if(rr=h,ir=h=Rl(h.current,null),Br=oo=m,fr=0,_m=null,TA=q0=ef=0,ji=wm=null,Ka!==null){for(m=0;m<Ka.length;m++)if(E=Ka[m],T=E.interleaved,T!==null){E.interleaved=null;var O=T.next,L=E.pending;if(L!==null){var Q=L.next;L.next=O,T.next=Q}E.pending=T}Ka=null}return h}function vD(h,m){do{var E=ir;try{if(HE(),T0.current=N0,M0){for(var T=$n.memoizedState;T!==null;){var O=T.queue;O!==null&&(O.pending=null),T=T.next}M0=!1}if(Zd=0,Pr=Gr=$n=null,fm=!1,hm=0,AA.current=null,E===null||E.return===null){fr=1,_m=m,ir=null;break}e:{var L=h,Q=E.return,re=E,be=m;if(m=Br,re.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var Ie=be,et=re,Ot=et.tag;if(!(et.mode&1)&&(Ot===0||Ot===11||Ot===15)){var ft=et.alternate;ft?(et.updateQueue=ft.updateQueue,et.memoizedState=ft.memoizedState,et.lanes=ft.lanes):(et.updateQueue=null,et.memoizedState=null)}var mn=UL(Q);if(mn!==null){mn.flags&=-257,FL(mn,Q,re,L,m),mn.mode&1&&jL(L,Ie,m),m=mn,be=Ie;var at=m.updateQueue;if(at===null){var Kr=new Set;Kr.add(be),m.updateQueue=Kr}else at.add(be);break e}else{if(!(m&1)){jL(L,Ie,m),kA();break e}be=Error(a(426))}}else if(On&&re.mode&1){var Bo=UL(Q);if(Bo!==null){!(Bo.flags&65536)&&(Bo.flags|=256),FL(Bo,Q,re,L,m),QE(be);break e}}L=be,fr!==4&&(fr=2),wm===null?wm=[L]:wm.push(L),be=uA(be,re),re=Q;do{switch(re.tag){case 3:re.flags|=65536,m&=-m,re.lanes|=m;var ce=LL(re,be,m);rL(re,ce);break e;case 1:L=be;var ie=re.type,ge=re.stateNode;if(!(re.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(Ml===null||!Ml.has(ge)))){re.flags|=65536,m&=-m,re.lanes|=m;var Ve=DL(re,L,m);rL(re,Ve);break e}}re=re.return}while(re!==null)}bD(E)}catch(it){m=it,ir===E&&E!==null&&(ir=E=E.return);continue}break}while(!0)}function yD(){var h=G0.current;return G0.current=N0,h===null?N0:h}function kA(){(fr===0||fr===3||fr===2)&&(fr=4),rr===null||!(ef&268435455)&&!(q0&268435455)||Ol(rr,Br)}function ex(h,m){var E=Vt;Vt|=2;var T=yD();rr===h&&Br===m||ou(h,m);do try{SQ();break}catch(O){vD(h,O)}while(!0);if(HE(),Vt=E,G0.current=T,ir!==null)throw Error(a(261));return rr=null,Br=0,fr}function SQ(){for(;ir!==null;)xD(ir)}function EQ(){for(;ir!==null&&!YZ();)xD(ir)}function xD(h){var m=SD(h.alternate,h,oo);h.memoizedProps=h.pendingProps,m===null?bD(h):ir=m,AA.current=null}function bD(h){var m=h;do{var E=m.alternate;if(h=m.return,m.flags&32768){if(E=gQ(E,m),E!==null){E.flags&=32767,ir=E;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{fr=6,ir=null;return}}else if(E=hQ(E,m,oo),E!==null){ir=E;return}if(m=m.sibling,m!==null){ir=m;return}ir=m=h}while(m!==null);fr===0&&(fr=5)}function au(h,m){var E=Yt,T=Jn.transition;try{Jn.transition=null,Yt=1,AQ(h,m,E)}finally{Jn.transition=T,Yt=E}return null}function AQ(h,m,E){do su();while(Pl!==null);if(Vt&6)throw Error(a(327));var T=h.finishedWork,O=h.finishedLanes;if(T===null)return null;if(h.finishedWork=null,h.finishedLanes=0,T===h.current)throw Error(a(177));h.callbackNode=null,h.callbackPriority=0;var L=T.lanes|T.childLanes;if(KZ(h,L),h===rr&&(ir=rr=null,Br=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||K0||(K0=!0,ED(BE,function(){return su(),null})),L=(T.flags&15990)!==0,T.subtreeFlags&15990||L){L=Jn.transition,Jn.transition=null;var Q=Yt;Yt=1;var re=Vt;Vt|=4,AA.current=null,yQ(h,T),xQ(h,T),$(h.containerInfo),h.current=T,bQ(T),JZ(),Vt=re,Yt=Q,Jn.transition=L}else h.current=T;if(K0&&(K0=!1,Pl=h,Y0=O),L=h.pendingLanes,L===0&&(Ml=null),eQ(T.stateNode),Ui(h,Mr()),m!==null)for(E=h.onRecoverableError,T=0;T<m.length;T++)E(m[T]);if(X0)throw X0=!1,h=CA,CA=null,h;return Y0&1&&h.tag!==0&&su(),L=h.pendingLanes,L&1?h===OA?Sm++:(Sm=0,OA=h):Sm=0,Xa(),null}function su(){if(Pl!==null){var h=Zk(Y0),m=Jn.transition,E=Yt;try{if(Jn.transition=null,Yt=16>h?16:h,Pl===null)var T=!1;else{if(h=Pl,Pl=null,Y0=0,Vt&6)throw Error(a(331));var O=Vt;for(Vt|=4,$e=h.current;$e!==null;){var L=$e,Q=L.child;if($e.flags&16){var re=L.deletions;if(re!==null){for(var be=0;be<re.length;be++){var Ie=re[be];for($e=Ie;$e!==null;){var et=$e;switch(et.tag){case 0:case 11:case 15:iu(8,et,L)}var Ot=et.child;if(Ot!==null)Ot.return=et,$e=Ot;else for(;$e!==null;){et=$e;var ft=et.sibling,mn=et.return;if(iD(et),et===Ie){$e=null;break}if(ft!==null){ft.return=mn,$e=ft;break}$e=mn}}}var at=L.alternate;if(at!==null){var Kr=at.child;if(Kr!==null){at.child=null;do{var Bo=Kr.sibling;Kr.sibling=null,Kr=Bo}while(Kr!==null)}}$e=L}}if(L.subtreeFlags&2064&&Q!==null)Q.return=L,$e=Q;else e:for(;$e!==null;){if(L=$e,L.flags&2048)switch(L.tag){case 0:case 11:case 15:iu(9,L,L.return)}var ce=L.sibling;if(ce!==null){ce.return=L.return,$e=ce;break e}$e=L.return}}var ie=h.current;for($e=ie;$e!==null;){Q=$e;var ge=Q.child;if(Q.subtreeFlags&2064&&ge!==null)ge.return=Q,$e=ge;else e:for(Q=ie;$e!==null;){if(re=$e,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:xm(9,re)}}catch(it){Fi(re,re.return,it)}if(re===Q){$e=null;break e}var Ve=re.sibling;if(Ve!==null){Ve.return=re.return,$e=Ve;break e}$e=re.return}}if(Vt=O,Xa(),Ga&&typeof Ga.onPostCommitFiberRoot=="function")try{Ga.onPostCommitFiberRoot(p0,h)}catch{}T=!0}return T}finally{Yt=E,Jn.transition=m}}return!1}function _D(h,m,E){m=uA(E,m),m=LL(h,m,1),Tl(h,m),m=pi(),h=Q0(h,1),h!==null&&(am(h,1,m),Ui(h,m))}function Fi(h,m,E){if(h.tag===3)_D(h,h,E);else for(;m!==null;){if(m.tag===3){_D(m,h,E);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Ml===null||!Ml.has(T))){h=uA(E,h),h=DL(m,h,1),Tl(m,h),h=pi(),m=Q0(m,1),m!==null&&(am(m,1,h),Ui(m,h));break}}m=m.return}}function TQ(h,m,E){var T=h.pingCache;T!==null&&T.delete(m),m=pi(),h.pingedLanes|=h.suspendedLanes&E,rr===h&&(Br&E)===E&&(fr===4||fr===3&&(Br&130023424)===Br&&500>Mr()-MA?ou(h,0):TA|=E),Ui(h,m)}function wD(h,m){m===0&&(h.mode&1?(m=f0,f0<<=1,!(f0&130023424)&&(f0=4194304)):m=1);var E=pi();h=Q0(h,m),h!==null&&(am(h,m,E),Ui(h,E))}function MQ(h){var m=h.memoizedState,E=0;m!==null&&(E=m.retryLane),wD(h,E)}function PQ(h,m){var E=0;switch(h.tag){case 13:var T=h.stateNode,O=h.memoizedState;O!==null&&(E=O.retryLane);break;case 19:T=h.stateNode;break;default:throw Error(a(314))}T!==null&&T.delete(m),wD(h,E)}var SD;SD=function(h,m,E){if(h!==null)if(h.memoizedProps!==m.pendingProps||zn.current)io=!0;else{if(!(h.lanes&E)&&!(m.flags&128))return io=!1,mQ(h,m,E);io=!!(h.flags&131072)}else io=!1,On&&m.flags&1048576&&cL(m,S0,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps;var O=No(m,Ht.current);Wd(m,E),O=oA(null,m,T,h,O,E);var L=aA();return m.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Tr(T)?(L=!0,Fr(m)):L=!1,m.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,GE(m),O.updater=_0,m.stateNode=O,O._reactInternals=m,XE(m,T,h,E),m=hA(null,m,T,!0,L,E)):(m.tag=0,On&&L&&KE(m),hi(null,m,O,E),m=m.child),m;case 16:T=m.elementType;e:{switch(h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps,O=T._init,T=O(T._payload),m.type=T,O=m.tag=OQ(T),h=ua(T,h),O){case 0:m=fA(null,m,T,h,E);break e;case 1:m=qL(null,m,T,h,E);break e;case 11:m=$L(null,m,T,h,E);break e;case 14:m=HL(null,m,T,ua(T.type,h),E);break e}throw Error(a(306,T,""))}return m;case 0:return T=m.type,O=m.pendingProps,O=m.elementType===T?O:ua(T,O),fA(h,m,T,O,E);case 1:return T=m.type,O=m.pendingProps,O=m.elementType===T?O:ua(T,O),qL(h,m,T,O,E);case 3:e:{if(XL(m),h===null)throw Error(a(387));T=m.pendingProps,L=m.memoizedState,O=L.element,nL(h,m),b0(m,T,null,E);var Q=m.memoizedState;if(T=Q.element,ve&&L.isDehydrated)if(L={element:T,isDehydrated:!1,cache:Q.cache,transitions:Q.transitions},m.updateQueue.baseState=L,m.memoizedState=L,m.flags&256){O=Error(a(423)),m=KL(h,m,T,E,O);break e}else if(T!==O){O=Error(a(424)),m=KL(h,m,T,E,O);break e}else for(ve&&(ro=l0(m.stateNode.containerInfo),no=m,On=!0,da=null,sm=!1),E=mL(m,null,T,E),m.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Xd(),T===O){m=Ns(h,m,E);break e}hi(h,m,T,E)}m=m.child}return m;case 5:return gL(m),h===null&&ZE(m),T=m.type,O=m.pendingProps,L=h!==null?h.memoizedProps:null,Q=O.children,ye(T,O)?Q=null:L!==null&&ye(T,L)&&(m.flags|=32),GL(h,m),hi(h,m,Q,E),m.child;case 6:return h===null&&ZE(m),null;case 13:return YL(h,m,E);case 4:return eA(m,m.stateNode.containerInfo),T=m.pendingProps,h===null?m.child=Kd(m,null,T,E):hi(h,m,T,E),m.child;case 11:return T=m.type,O=m.pendingProps,O=m.elementType===T?O:ua(T,O),$L(h,m,T,O,E);case 7:return hi(h,m,m.pendingProps,E),m.child;case 8:return hi(h,m,m.pendingProps.children,E),m.child;case 12:return hi(h,m,m.pendingProps.children,E),m.child;case 10:e:{if(T=m.type._context,O=m.pendingProps,L=m.memoizedProps,Q=O.value,tL(m,T,Q),L!==null)if(qa(L.value,Q)){if(L.children===O.children&&!zn.current){m=Ns(h,m,E);break e}}else for(L=m.child,L!==null&&(L.return=m);L!==null;){var re=L.dependencies;if(re!==null){Q=L.child;for(var be=re.firstContext;be!==null;){if(be.context===T){if(L.tag===1){be=Ps(-1,E&-E),be.tag=2;var Ie=L.updateQueue;if(Ie!==null){Ie=Ie.shared;var et=Ie.pending;et===null?be.next=be:(be.next=et.next,et.next=be),Ie.pending=be}}L.lanes|=E,be=L.alternate,be!==null&&(be.lanes|=E),WE(L.return,E,m),re.lanes|=E;break}be=be.next}}else if(L.tag===10)Q=L.type===m.type?null:L.child;else if(L.tag===18){if(Q=L.return,Q===null)throw Error(a(341));Q.lanes|=E,re=Q.alternate,re!==null&&(re.lanes|=E),WE(Q,E,m),Q=L.sibling}else Q=L.child;if(Q!==null)Q.return=L;else for(Q=L;Q!==null;){if(Q===m){Q=null;break}if(L=Q.sibling,L!==null){L.return=Q.return,Q=L;break}Q=Q.return}L=Q}hi(h,m,O.children,E),m=m.child}return m;case 9:return O=m.type,T=m.pendingProps.children,Wd(m,E),O=Io(O),T=T(O),m.flags|=1,hi(h,m,T,E),m.child;case 14:return T=m.type,O=ua(T,m.pendingProps),O=ua(T.type,O),HL(h,m,T,O,E);case 15:return VL(h,m,m.type,m.pendingProps,E);case 17:return T=m.type,O=m.pendingProps,O=m.elementType===T?O:ua(T,O),h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Tr(T)?(h=!0,Fr(m)):h=!1,Wd(m,E),sL(m,T,O),XE(m,T,O,E),hA(null,m,T,!0,h,E);case 19:return eD(h,m,E);case 22:return WL(h,m,E)}throw Error(a(156,m.tag))};function ED(h,m){return UE(h,m)}function CQ(h,m,E,T){this.tag=h,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fo(h,m,E,T){return new CQ(h,m,E,T)}function LA(h){return h=h.prototype,!(!h||!h.isReactComponent)}function OQ(h){if(typeof h=="function")return LA(h)?1:0;if(h!=null){if(h=h.$$typeof,h===y)return 11;if(h===b)return 14}return 2}function Rl(h,m){var E=h.alternate;return E===null?(E=Fo(h.tag,m,h.key,h.mode),E.elementType=h.elementType,E.type=h.type,E.stateNode=h.stateNode,E.alternate=h,h.alternate=E):(E.pendingProps=m,E.type=h.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=h.flags&14680064,E.childLanes=h.childLanes,E.lanes=h.lanes,E.child=h.child,E.memoizedProps=h.memoizedProps,E.memoizedState=h.memoizedState,E.updateQueue=h.updateQueue,m=h.dependencies,E.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},E.sibling=h.sibling,E.index=h.index,E.ref=h.ref,E}function tx(h,m,E,T,O,L){var Q=2;if(T=h,typeof h=="function")LA(h)&&(Q=1);else if(typeof h=="string")Q=5;else e:switch(h){case u:return lu(E.children,O,L,m);case d:Q=8,O|=8;break;case f:return h=Fo(12,E,m,O|2),h.elementType=f,h.lanes=L,h;case x:return h=Fo(13,E,m,O),h.elementType=x,h.lanes=L,h;case v:return h=Fo(19,E,m,O),h.elementType=v,h.lanes=L,h;case S:return nx(E,O,L,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:Q=10;break e;case g:Q=9;break e;case y:Q=11;break e;case b:Q=14;break e;case _:Q=16,T=null;break e}throw Error(a(130,h==null?h:typeof h,""))}return m=Fo(Q,E,m,O),m.elementType=h,m.type=T,m.lanes=L,m}function lu(h,m,E,T){return h=Fo(7,h,T,m),h.lanes=E,h}function nx(h,m,E,T){return h=Fo(22,h,T,m),h.elementType=S,h.lanes=E,h.stateNode={},h}function DA(h,m,E){return h=Fo(6,h,null,m),h.lanes=E,h}function jA(h,m,E){return m=Fo(4,h.children!==null?h.children:[],h.key,m),m.lanes=E,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function RQ(h,m,E,T,O){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=de,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=DE(0),this.expirationTimes=DE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=DE(0),this.identifierPrefix=T,this.onRecoverableError=O,ve&&(this.mutableSourceEagerHydrationData=null)}function AD(h,m,E,T,O,L,Q,re,be){return h=new RQ(h,m,E,re,be),m===1?(m=1,L===!0&&(m|=8)):m=0,L=Fo(3,null,null,m),h.current=L,L.stateNode=h,L.memoizedState={element:T,isDehydrated:E,cache:null,transitions:null},GE(L),h}function TD(h){if(!h)return Ro;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(a(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Tr(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(a(171))}if(h.tag===1){var E=h.type;if(Tr(E))return $d(h,E,m)}return m}function MD(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(a(188)):(h=Object.keys(h).join(","),Error(a(268,h)));return h=U(m),h===null?null:h.stateNode}function PD(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var E=h.retryLane;h.retryLane=E!==0&&E<m?E:m}}function UA(h,m){PD(h,m),(h=h.alternate)&&PD(h,m)}function NQ(h){return h=U(h),h===null?null:h.stateNode}function IQ(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var m=pi();Uo(h,134217728,m),UA(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var m=pi(),E=Cl(h);Uo(h,E,m),UA(h,E)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var E=om(m.pendingLanes);E!==0&&(jE(m,E|1),Ui(m,Mr()),!(Vt&6)&&(tf(),Xa()))}break;case 13:var T=pi();gD(function(){return Uo(h,1,T)}),UA(h,1)}},n.batchedUpdates=function(h,m){var E=Vt;Vt|=1;try{return h(m)}finally{Vt=E,Vt===0&&(tf(),m0&&Xa())}},n.createComponentSelector=function(h){return{$$typeof:z0,value:h}},n.createContainer=function(h,m,E,T,O,L,Q){return AD(h,m,!1,null,E,T,O,L,Q)},n.createHasPseudoClassSelector=function(h){return{$$typeof:$0,value:h}},n.createHydrationContainer=function(h,m,E,T,O,L,Q,re,be){return h=AD(E,T,!0,h,O,L,Q,re,be),h.context=TD(null),E=h.current,T=pi(),O=Cl(E),L=Ps(T,O),L.callback=m??null,Tl(E,L),h.current.lanes=O,am(h,O,T),Ui(h,T),h},n.createPortal=function(h,m,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:h,containerInfo:m,implementation:E}},n.createRoleSelector=function(h){return{$$typeof:H0,value:h}},n.createTestNameSelector=function(h){return{$$typeof:V0,value:h}},n.createTextSelector=function(h){return{$$typeof:W0,value:h}},n.deferredUpdates=function(h){var m=Yt,E=Jn.transition;try{return Jn.transition=null,Yt=16,h()}finally{Yt=m,Jn.transition=E}},n.discreteUpdates=function(h,m,E,T,O){var L=Yt,Q=Jn.transition;try{return Jn.transition=null,Yt=1,h(m,E,T,O)}finally{Yt=L,Jn.transition=Q,Vt===0&&tf()}},n.findAllNodes=EA,n.findBoundingRects=function(h,m){if(!B)throw Error(a(363));m=EA(h,m),h=[];for(var E=0;E<m.length;E++)h.push(Ce(m[E]));for(m=h.length-1;0<m;m--){E=h[m];for(var T=E.x,O=T+E.width,L=E.y,Q=L+E.height,re=m-1;0<=re;re--)if(m!==re){var be=h[re],Ie=be.x,et=Ie+be.width,Ot=be.y,ft=Ot+be.height;if(T>=Ie&&L>=Ot&&O<=et&&Q<=ft){h.splice(m,1);break}else if(T!==Ie||E.width!==be.width||ft<L||Ot>Q){if(!(L!==Ot||E.height!==be.height||et<T||Ie>O)){Ie>T&&(be.width+=Ie-T,be.x=T),et<O&&(be.width=O-Ie),h.splice(m,1);break}}else{Ot>L&&(be.height+=Ot-L,be.y=L),ft<Q&&(be.height=Q-Ot),h.splice(m,1);break}}}return h},n.findHostInstance=MD,n.findHostInstanceWithNoPortals=function(h){return h=D(h),h=h!==null?j(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return MD(h)},n.flushControlled=function(h){var m=Vt;Vt|=1;var E=Jn.transition,T=Yt;try{Jn.transition=null,Yt=1,h()}finally{Yt=T,Jn.transition=E,Vt=m,Vt===0&&(tf(),Xa())}},n.flushPassiveEffects=su,n.flushSync=gD,n.focusWithin=function(h,m){if(!B)throw Error(a(363));for(h=_A(h),m=hD(h,m),m=Array.from(m),h=0;h<m.length;){var E=m[h++];if(!Ee(E)){if(E.tag===5&&je(E.stateNode))return!0;for(E=E.child;E!==null;)m.push(E),E=E.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Yt},n.getFindAllNodesFailureDescription=function(h,m){if(!B)throw Error(a(363));var E=0,T=[];h=[_A(h),0];for(var O=0;O<h.length;){var L=h[O++],Q=h[O++],re=m[Q];if((L.tag!==5||!Ee(L))&&(wA(L,re)&&(T.push(SA(re)),Q++,Q>E&&(E=Q)),Q<m.length))for(L=L.child;L!==null;)h.push(L,Q),L=L.sibling}if(E<m.length){for(h=[];E<m.length;E++)h.push(SA(m[E]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return H(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:NQ,findFiberByHostInstance:h.findFiberByHostInstance||IQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{p0=m.inject(h),Ga=m}catch{}h=!!m.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,m,E,T){if(!B)throw Error(a(363));h=EA(h,m);var O=He(h,E,T).disconnect;return{disconnect:function(){O()}}},n.registerMutableSourceForHydration=function(h,m){var E=m._getVersion;E=E(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,E]:h.mutableSourceEagerHydrationData.push(m,E)},n.runWithPriority=function(h,m){var E=Yt;try{return Yt=h,m()}finally{Yt=E}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,m,E,T){var O=m.current,L=pi(),Q=Cl(O);return E=TD(E),m.context===null?m.context=E:m.pendingContext=E,m=Ps(L,Q),m.payload={element:h},T=T===void 0?null:T,T!==null&&(m.callback=T),Tl(O,m),h=Uo(O,Q,L),h!==null&&x0(h,O,Q),Q},n};g7.exports=hye;var pye=g7.exports;const mye=rn(pye);var v7={exports:{}},y7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,F){var $=k.length;k.push(F);e:for(;0<$;){var q=$-1>>>1,Z=k[q];if(0<i(Z,F))k[q]=F,k[$]=Z,$=q;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var F=k[0],$=k.pop();if($!==F){k[0]=$;e:for(var q=0,Z=k.length,ee=Z>>>1;q<ee;){var ne=2*(q+1)-1,ye=k[ne],xe=ne+1,le=k[xe];if(0>i(ye,$))xe<Z&&0>i(le,ye)?(k[q]=le,k[xe]=$,q=xe):(k[q]=ye,k[ne]=$,q=ne);else if(xe<Z&&0>i(le,$))k[q]=le,k[xe]=$,q=xe;else break e}}return F}function i(k,F){var $=k.sortIndex-F.sortIndex;return $!==0?$:k.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(k){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=k)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function S(k){if(y=!1,_(k),!g)if(n(l)!==null)g=!0,H(A);else{var F=n(c);F!==null&&Y(S,F.startTime-k)}}function A(k,F){g=!1,y&&(y=!1,v(N),N=-1),p=!0;var $=f;try{for(_(F),d=n(l);d!==null&&(!(d.expirationTime>F)||k&&!D());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var Z=q(d.expirationTime<=F);F=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),_(F)}else r(l);d=n(l)}if(d!==null)var ee=!0;else{var ne=n(c);ne!==null&&Y(S,ne.startTime-F),ee=!1}return ee}finally{d=null,f=$,p=!1}}var M=!1,P=null,N=-1,R=5,I=-1;function D(){return!(t.unstable_now()-I<R)}function U(){if(P!==null){var k=t.unstable_now();I=k;var F=!0;try{F=P(!0,k)}finally{F?X():(M=!1,P=null)}}else M=!1}var X;if(typeof b=="function")X=function(){b(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,W=j.port2;j.port1.onmessage=U,X=function(){W.postMessage(null)}}else X=function(){x(U,0)};function H(k){P=k,M||(M=!0,X())}function Y(k,F){N=x(function(){k(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,H(A))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var $=f;f=F;try{return k()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=f;f=k;try{return F()}finally{f=$}},t.unstable_scheduleCallback=function(k,F,$){var q=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?q+$:q):$=q,k){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=$+Z,k={id:u++,callback:F,priorityLevel:k,startTime:$,expirationTime:Z,sortIndex:-1},$>q?(k.sortIndex=$,e(c,k),n(l)===null&&k===n(c)&&(y?(v(N),N=-1):y=!0,Y(S,$-q))):(k.sortIndex=Z,e(l,k),g||p||(g=!0,H(A))),k},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(k){var F=f;return function(){var $=f;f=F;try{return k.apply(this,arguments)}finally{f=$}}}})(y7);v7.exports=y7;var lF=v7.exports;const TI={},gye=t=>void Object.assign(TI,t);function vye(t,e){function n(u,{args:d=[],attach:f,...p},g){let y=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=p.object;x=Bf(v,{type:u,root:g,attach:f,primitive:!0})}else{const v=TI[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=Bf(new v(...d),{type:u,root:g,attach:f,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),y!=="inject"&&yM(x,p),x}function r(u,d){let f=!1;if(d){var p,g;(p=d.__r3f)!=null&&p.attach?vM(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||Bf(d,{}),d.__r3f.parent=u,hO(d),zf(d)}}function i(u,d,f){let p=!1;if(d){var g,y;if((g=d.__r3f)!=null&&g.attach)vM(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const x=u.children.filter(b=>b!==d),v=x.indexOf(f);u.children=[...x.slice(0,v),d,...x.slice(v)],p=!0}p||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||Bf(d,{}),d.__r3f.parent=u,hO(d),zf(d)}}function o(u,d,f=!1){u&&[...u].forEach(p=>a(d,p,f))}function a(u,d,f){if(d){var p,g,y;if(d.__r3f&&(d.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==d)),(g=d.__r3f)!=null&&g.attach)hF(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var x;u.remove(d),(x=d.__r3f)!=null&&x.root&&Aye(w_(d),d)}const b=(y=d.__r3f)==null?void 0:y.primitive,_=!b&&(f===void 0?d.dispose!==null:f);if(!b){var v;o((v=d.__r3f)==null?void 0:v.objects,d,_),o(d.children,d,_)}if(delete d.__r3f,_&&d.dispose&&d.type!=="Scene"){const S=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?lF.unstable_scheduleCallback(lF.unstable_IdlePriority,S):S()}zf(u)}}function s(u,d,f,p){var g;const y=(g=u.__r3f)==null?void 0:g.parent;if(!y)return;const x=n(d,f,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&r(x,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>r(x,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(y,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(y,x),x.raycast&&x.__r3f.eventCount&&w_(x).getState().internal.interaction.push(x),[p,p.alternate].forEach(v=>{v!==null&&(v.stateNode=x,v.ref&&(typeof v.ref=="function"?v.ref(x):v.ref.current=x))})}const l=()=>{};return{reconciler:mye({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,d))},removeChildFromContainer:(u,d)=>{d&&a(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const p=u.getState().scene;p.__r3f&&i(p,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,f,p){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&p.object&&p.object!==u)return[!0];{const{args:x=[],children:v,...b}=p,{args:_=[],children:S,...A}=f;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((P,N)=>P!==_[N]))return[!0];const M=A7(u,b,A,!0);return M.changes.length?[!1,M]:null}},commitUpdate(u,[d,f],p,g,y,x){d?s(u,p,y,x):yM(u,f)},commitMount(u,d,f,p){var g;const y=(g=u.__r3f)!=null?g:{};u.raycast&&y.handlers&&y.eventCount&&w_(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Bf(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:p}=(d=u.__r3f)!=null?d:{};f&&p&&hF(p,u,f),u.isObject3D&&(u.visible=!1),zf(u)},unhideInstance(u,d){var f;const{attach:p,parent:g}=(f=u.__r3f)!=null?f:{};p&&g&&vM(g,u,p),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),zf(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():sh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Mn.fun(performance.now)?performance.now:Mn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Mn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Mn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:yM}}var cF,uF;const gM=t=>"colorSpace"in t||"outputColorSpace"in t,x7=()=>{var t;return(t=TI.ColorManagement)!=null?t:null},b7=t=>t&&t.isOrthographicCamera,yye=t=>t&&t.hasOwnProperty("current"),Gy=typeof window<"u"&&((cF=window.document)!=null&&cF.createElement||((uF=window.navigator)==null?void 0:uF.product)==="ReactNative")?C.useLayoutEffect:C.useEffect;function _7(t){const e=C.useRef(t);return Gy(()=>void(e.current=t),[t]),e}function xye({set:t}){return Gy(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class w7 extends C.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}w7.getDerivedStateFromError=()=>({error:!0});const S7="__default",dF=new Map,bye=t=>t&&!!t.memoized&&!!t.changes;function E7(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Wm=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function w_(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Mn={obj:t=>t===Object(t)&&!Mn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Mn.str(t)||Mn.num(t)||Mn.boo(t))return t===e;const o=Mn.obj(t);if(o&&r==="reference")return t===e;const a=Mn.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!Mn.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(Mn.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function _ye(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Bf(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function fO(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const fF=/-\d+$/;function vM(t,e,n){if(Mn.str(n)){if(fF.test(n)){const o=n.replace(fF,""),{target:a,key:s}=fO(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=fO(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function hF(t,e,n){var r,i;if(Mn.str(n)){const{target:o,key:a}=fO(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function A7(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},c=!1){const u=t.__r3f,d=Object.entries(i),f=[];if(c){const g=Object.keys(l);for(let y=0;y<g.length;y++)i.hasOwnProperty(g[y])||d.unshift([g[y],S7+"remove"])}d.forEach(([g,y])=>{var x;if((x=t.__r3f)!=null&&x.primitive&&g==="object"||Mn.equ(y,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return f.push([g,y,!0,[]]);let v=[];g.includes("-")&&(v=g.split("-")),f.push([g,y,!1,v]);for(const b in i){const _=i[b];b.startsWith(`${g}-`)&&f.push([b,_,!1,b.split("-")])}});const p={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(p.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(p.attach=u.memoizedProps.attach),{memoized:p,changes:f}}const wye=typeof process<"u"&&!1;function yM(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:s}=bye(e)?e:A7(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let f=0;f<s.length;f++){let[p,g,y,x]=s[f];if(gM(t)){const S="srgb",A="srgb-linear";p==="encoding"?(p="colorSpace",g=g===3001?S:A):p==="outputEncoding"&&(p="outputColorSpace",g=g===3001?S:A)}let v=t,b=v[p];if(x.length&&(b=x.reduce((_,S)=>_[S],t),!(b&&b.set))){const[_,...S]=x.reverse();v=S.reverse().reduce((A,M)=>A[M],t),p=_}if(g===S7+"remove")if(v.constructor){let _=dF.get(v.constructor);_||(_=new v.constructor,dF.set(v.constructor,_)),g=_[p]}else g=0;if(y&&r)g?r.handlers[p]=g:delete r.handlers[p],r.eventCount=Object.keys(r.handlers).length;else if(b&&b.set&&(b.copy||b instanceof rd)){if(Array.isArray(g))b.fromArray?b.fromArray(g):b.set(...g);else if(b.copy&&g&&g.constructor&&(wye?b.constructor.name===g.constructor.name:b.constructor===g.constructor))b.copy(g);else if(g!==void 0){var c;const _=(c=b)==null?void 0:c.isColor;!_&&b.setScalar?b.setScalar(g):b instanceof rd&&g instanceof rd?b.mask=g.mask:b.set(g),!x7()&&o&&!o.linear&&_&&b.convertSRGBToLinear()}}else{var u;if(v[p]=g,(u=v[p])!=null&&u.isTexture&&v[p].format===Ei&&v[p].type===fs&&o){const _=v[p];gM(_)&&gM(o.gl)?_.colorSpace=o.gl.outputColorSpace:_.encoding=o.gl.outputEncoding}}zf(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const f=w_(t).getState().internal,p=f.interaction.indexOf(t);p>-1&&f.interaction.splice(p,1),r.eventCount&&f.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&hO(t),t}function zf(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function hO(t){t.onUpdate==null||t.onUpdate(t)}function Sye(t,e){t.manual||(b7(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Sb(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Eye(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return sh.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return sh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return sh.ContinuousEventPriority;default:return sh.DefaultEventPriority}}function T7(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Aye(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{T7(n.capturedMap,e,r,i)})}function Tye(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),d=new Set,f=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<p.length;v++){const b=Wm(p[v]);b&&(b.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(v){const b=Wm(v);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var _;b.events.compute==null||b.events.compute(l,b,(_=b.previousRoot)==null?void 0:_.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(v,!0):[]}let y=p.flatMap(g).sort((v,b)=>{const _=Wm(v.object),S=Wm(b.object);return!_||!S?v.distance-b.distance:S.events.priority-_.events.priority||v.distance-b.distance}).filter(v=>{const b=Sb(v);return d.has(b)?!1:(d.add(b),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const v of y){let b=v.object;for(;b;){var x;(x=b.__r3f)!=null&&x.eventCount&&f.push({...v,eventObject:b}),b=b.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())d.has(Sb(v.intersection))||f.push(v.intersection);return f}function i(l,c,u,d){const f=t.getState();if(l.length){const p={stopped:!1};for(const g of l){const y=Wm(g.object)||f,{raycaster:x,pointer:v,camera:b,internal:_}=y,S=new J(v.x,v.y,0).unproject(b),A=I=>{var D,U;return(D=(U=_.capturedMap.get(I))==null?void 0:U.has(g.eventObject))!=null?D:!1},M=I=>{const D={intersection:g,target:c.target};_.capturedMap.has(I)?_.capturedMap.get(I).set(g.eventObject,D):_.capturedMap.set(I,new Map([[g.eventObject,D]])),c.target.setPointerCapture(I)},P=I=>{const D=_.capturedMap.get(I);D&&T7(_.capturedMap,g.eventObject,D,I)};let N={};for(let I in c){let D=c[I];typeof D!="function"&&(N[I]=D)}let R={...g,...N,pointer:v,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:S,ray:x.ray,camera:b,stopPropagation(){const I="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!I||I.has(g.eventObject))&&(R.stopped=p.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(D=>D.eventObject===g.eventObject))){const D=l.slice(0,l.indexOf(g));o([...D,g])}},target:{hasPointerCapture:A,setPointerCapture:M,releasePointerCapture:P},currentTarget:{hasPointerCapture:A,setPointerCapture:M,releasePointerCapture:P},nativeEvent:c};if(d(R),p.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,p=f==null?void 0:f.handlers;if(c.hovered.delete(Sb(u)),f!=null&&f.eventCount){const g={...u,intersections:l};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function a(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),o([]))})}}return function(u){const{onPointerMissed:d,internal:f}=t.getState();f.lastEvent.current=u;const p=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(u,p?n:void 0),v=g?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=x.map(_=>_.eventObject)),g&&!x.length&&v<=2&&(a(u,f.interaction),d&&d(u)),p&&o(x);function b(_){const S=_.eventObject,A=S.__r3f,M=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(p){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const P=Sb(_),N=f.hovered.get(P);N?N.stopped&&_.stopPropagation():(f.hovered.set(P,_),M.onPointerOver==null||M.onPointerOver(_),M.onPointerEnter==null||M.onPointerEnter(_))}M.onPointerMove==null||M.onPointerMove(_)}else{const P=M[l];P?(!g||f.initialHits.includes(S))&&(a(u,f.interaction.filter(N=>!f.initialHits.includes(N))),P(_)):g&&f.initialHits.includes(S)&&a(u,f.interaction.filter(N=>!f.initialHits.includes(N)))}}i(x,u,v,b)}}return{handlePointer:s}}const M7=t=>!!(t!=null&&t.render),P7=C.createContext(null),Mye=(t,e)=>{const n=uye((s,l)=>{const c=new J,u=new J,d=new J;function f(v=l().camera,b=u,_=l().size){const{width:S,height:A,top:M,left:P}=_,N=S/A;b.isVector3?d.copy(b):d.set(...b);const R=v.getWorldPosition(c).distanceTo(d);if(b7(v))return{width:S/v.zoom,height:A/v.zoom,top:M,left:P,factor:1,distance:R,aspect:N};{const I=v.fov*Math.PI/180,D=2*Math.tan(I/2)*R,U=D*(S/A);return{width:U,height:D,top:M,left:P,factor:S/U,distance:R,aspect:N}}}let p;const g=v=>s(b=>({performance:{...b.performance,current:v}})),y=new Me;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,b)=>e(v,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new wI,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();p&&clearTimeout(p),v.performance.current!==v.performance.min&&g(v.performance.min),p=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:v=>s(b=>({...b,events:{...b.events,...v}})),setSize:(v,b,_,S,A)=>{const M=l().camera,P={width:v,height:b,top:S||0,left:A||0,updateStyle:_};s(N=>({size:P,viewport:{...N.viewport,...f(M,u,P)}}))},setDpr:v=>s(b=>{const _=E7(v);return{viewport:{...b.viewport,dpr:_,initialDpr:b.viewport.initialDpr||_}}}),setFrameloop:(v="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,v!=="never"&&(b.start(),b.elapsedTime=0),s(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:C.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,b,_)=>{const S=l().internal;return S.priority=S.priority+(b>0?1:0),S.subscribers.push({ref:v,priority:b,store:_}),S.subscribers=S.subscribers.sort((A,M)=>A.priority-M.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(b>0?1:0),A.subscribers=A.subscribers.filter(M=>M.ref!==v))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:u,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var f;i=l,o=c.dpr,Sye(s,l),u.setPixelRatio(c.dpr);const p=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}s!==a&&(a=s,d(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let Eb,Pye=new Set,Cye=new Set,Oye=new Set;function xM(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Gm(t,e){switch(t){case"before":return xM(Pye,e);case"after":return xM(Cye,e);case"tail":return xM(Oye,e)}}let bM,_M;function wM(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),bM=e.internal.subscribers,Eb=0;Eb<bM.length;Eb++)_M=bM[Eb],_M.ref.current(_M.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Rye(t){let e=!1,n=!1,r,i,o;function a(c){i=requestAnimationFrame(a),e=!0,r=0,Gm("before",c),n=!0;for(const d of t.values()){var u;o=d.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((u=o.gl.xr)!=null&&u.isPresenting)&&(r+=wM(c,o))}if(n=!1,Gm("after",c),r===0)return Gm("tail",c),e=!1,cancelAnimationFrame(i)}function s(c,u=1){var d;if(!c)return t.forEach(f=>s(f.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,u=!0,d,f){if(u&&Gm("before",c),d)wM(c,d,f);else for(const p of t.values())wM(c,p.store.getState());u&&Gm("after",c)}return{loop:a,invalidate:s,advance:l}}function Nye(){const t=C.useContext(P7);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Iye(t,e=0){const n=Nye(),r=n.getState().internal.subscribe,i=_7(t);return Gy(()=>r(i,e,n),[e,r,n]),null}const Jh=new Map,{invalidate:pF,advance:mF}=Rye(Jh),{reconciler:dw,applyProps:Pf}=vye(Jh,Eye),Cf={objects:"shallow",strict:!1},kye=(t,e)=>{const n=typeof t=="function"?t(e):t;return M7(n)?n:new iI({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Lye(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Dye(t){const e=Jh.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||Mye(pF,mF),a=n||dw.createContainer(o,sh.ConcurrentRoot,null,!1,null,"",i,null);e||Jh.set(t,{fiber:a,store:o});let s,l=!1,c;return{configure(u={}){let{gl:d,size:f,scene:p,events:g,onCreated:y,shadows:x=!1,linear:v=!1,flat:b=!1,legacy:_=!1,orthographic:S=!1,frameloop:A="always",dpr:M=[1,2],performance:P,raycaster:N,camera:R,onPointerMissed:I}=u,D=o.getState(),U=D.gl;D.gl||D.set({gl:U=kye(d,t)});let X=D.raycaster;X||D.set({raycaster:X=new h7});const{params:j,...W}=N||{};if(Mn.equ(W,X,Cf)||Pf(X,{...W}),Mn.equ(j,X.params,Cf)||Pf(X,{params:{...X.params,...j}}),!D.camera||D.camera===c&&!Mn.equ(c,R,Cf)){c=R;const $=R instanceof jy,q=$?R:S?new zy(0,0,0,0,.1,1e3):new Ir(75,0,.1,1e3);$||(q.position.z=5,R&&(Pf(q,R),("aspect"in R||"left"in R||"right"in R||"bottom"in R||"top"in R)&&(q.manual=!0,q.updateProjectionMatrix())),!D.camera&&!(R!=null&&R.rotation)&&q.lookAt(0,0,0)),D.set({camera:q}),X.camera=q}if(!D.scene){let $;p!=null&&p.isScene?$=p:($=new oI,p&&Pf($,p)),D.set({scene:Bf($)})}if(!D.xr){var H;const $=(ee,ne)=>{const ye=o.getState();ye.frameloop!=="never"&&mF(ee,!0,ye,ne)},q=()=>{const ee=o.getState();ee.gl.xr.enabled=ee.gl.xr.isPresenting,ee.gl.xr.setAnimationLoop(ee.gl.xr.isPresenting?$:null),ee.gl.xr.isPresenting||pF(ee)},Z={connect(){const ee=o.getState().gl;ee.xr.addEventListener("sessionstart",q),ee.xr.addEventListener("sessionend",q)},disconnect(){const ee=o.getState().gl;ee.xr.removeEventListener("sessionstart",q),ee.xr.removeEventListener("sessionend",q)}};typeof((H=U.xr)==null?void 0:H.addEventListener)=="function"&&Z.connect(),D.set({xr:Z})}if(U.shadowMap){const $=U.shadowMap.enabled,q=U.shadowMap.type;if(U.shadowMap.enabled=!!x,Mn.boo(x))U.shadowMap.type=Eg;else if(Mn.str(x)){var Y;const Z={basic:oG,percentage:aS,soft:Eg,variance:wa};U.shadowMap.type=(Y=Z[x])!=null?Y:Eg}else Mn.obj(x)&&Object.assign(U.shadowMap,x);($!==U.shadowMap.enabled||q!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const k=x7();k&&("enabled"in k?k.enabled=!_:"legacyMode"in k&&(k.legacyMode=_)),l||Pf(U,{outputEncoding:v?3e3:3001,toneMapping:b?ds:jN}),D.legacy!==_&&D.set(()=>({legacy:_})),D.linear!==v&&D.set(()=>({linear:v})),D.flat!==b&&D.set(()=>({flat:b})),d&&!Mn.fun(d)&&!M7(d)&&!Mn.equ(d,U,Cf)&&Pf(U,d),g&&!D.events.handlers&&D.set({events:g(o)});const F=Lye(t,f);return Mn.equ(F,D.size,Cf)||D.setSize(F.width,F.height,F.updateStyle,F.top,F.left),M&&D.viewport.dpr!==E7(M)&&D.setDpr(M),D.frameloop!==A&&D.setFrameloop(A),D.onPointerMissed||D.set({onPointerMissed:I}),P&&!Mn.equ(P,D.performance,Cf)&&D.set($=>({performance:{...$.performance,...P}})),s=y,l=!0,this},render(u){return l||this.configure(),dw.updateContainer(w.jsx(jye,{store:o,children:u,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){C7(t)}}}function jye({store:t,children:e,onCreated:n,rootElement:r}){return Gy(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),w.jsx(P7.Provider,{value:t,children:e})}function C7(t,e){const n=Jh.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),dw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),_ye(i),Jh.delete(t)}catch{}},500)})}}dw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:C.version});const SM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Uye(t){const{handlePointer:e}=Tye(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(SM).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,c]=SM[a];n.addEventListener(l,s,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=SM[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}function gF(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Fye({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=C.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=C.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=C.useRef(!1);C.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[d,f,p]=C.useMemo(()=>{const v=()=>{if(!s.current.element)return;const{left:b,top:_,width:S,height:A,bottom:M,right:P,x:N,y:R}=s.current.element.getBoundingClientRect(),I={left:b,top:_,width:S,height:A,bottom:M,right:P,x:N,y:R};s.current.element instanceof HTMLElement&&r&&(I.height=s.current.element.offsetHeight,I.width=s.current.element.offsetWidth),Object.freeze(I),u.current&&!Hye(s.current.lastBounds,I)&&a(s.current.lastBounds=I)};return[v,c?gF(v,c):v,l?gF(v,l):v]},[a,r,l,c]);function g(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",p,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function y(){s.current.element&&(s.current.resizeObserver=new i(p),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(v=>v.addEventListener("scroll",p,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const x=v=>{!v||v===s.current.element||(g(),s.current.element=v,s.current.scrollContainers=O7(v),y())};return zye(p,!!e),Bye(f),C.useEffect(()=>{g(),y()},[e,p,f]),C.useEffect(()=>g,[]),[x,o,d]}function Bye(t){C.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function zye(t,e){C.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function O7(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...O7(t.parentElement)]}const $ye=["x","y","top","bottom","left","right","width","height"],Hye=(t,e)=>$ye.every(n=>t[n]===e[n]);var Vye=Object.defineProperty,Wye=Object.defineProperties,Gye=Object.getOwnPropertyDescriptors,vF=Object.getOwnPropertySymbols,qye=Object.prototype.hasOwnProperty,Xye=Object.prototype.propertyIsEnumerable,yF=(t,e,n)=>e in t?Vye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xF=(t,e)=>{for(var n in e||(e={}))qye.call(e,n)&&yF(t,n,e[n]);if(vF)for(var n of vF(e))Xye.call(e,n)&&yF(t,n,e[n]);return t},Kye=(t,e)=>Wye(t,Gye(e)),bF,_F;typeof window<"u"&&((bF=window.document)!=null&&bF.createElement||((_F=window.navigator)==null?void 0:_F.product)==="ReactNative")?C.useLayoutEffect:C.useEffect;function R7(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=R7(r,e,n);if(i)return i;r=r.sibling}}function N7(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const wF=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=wF;return}return wF.apply(this,arguments)};const MI=N7(C.createContext(null));class I7 extends C.Component{render(){return C.createElement(MI.Provider,{value:this._reactInternals},this.props.children)}}function Yye(){const t=C.useContext(MI);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=C.useId();return C.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=R7(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function Jye(){const t=Yye(),[e]=C.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==MI&&!e.has(i)&&e.set(i,C.useContext(N7(i)))}n=n.return}return e}function Zye(){const t=Jye();return C.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>C.createElement(e,null,C.createElement(n.Provider,Kye(xF({},r),{value:t.get(n)}))),e=>C.createElement(I7,xF({},e))),[t])}const Qye=C.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=Uye,eventSource:s,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:p,frameloop:g,dpr:y,performance:x,raycaster:v,camera:b,scene:_,onPointerMissed:S,onCreated:A,...M},P){C.useMemo(()=>gye(sye),[]);const N=Zye(),[R,I]=Fye({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=C.useRef(null),U=C.useRef(null);C.useImperativeHandle(P,()=>D.current);const X=_7(S),[j,W]=C.useState(!1),[H,Y]=C.useState(!1);if(j)throw j;if(H)throw H;const k=C.useRef(null);Gy(()=>{const $=D.current;I.width>0&&I.height>0&&$&&(k.current||(k.current=Dye($)),k.current.configure({gl:o,events:a,shadows:c,linear:u,flat:d,legacy:f,orthographic:p,frameloop:g,dpr:y,performance:x,raycaster:v,camera:b,scene:_,size:I,onPointerMissed:(...q)=>X.current==null?void 0:X.current(...q),onCreated:q=>{q.events.connect==null||q.events.connect(s?yye(s)?s.current:s:U.current),l&&q.setEvents({compute:(Z,ee)=>{const ne=Z[l+"X"],ye=Z[l+"Y"];ee.pointer.set(ne/ee.size.width*2-1,-(ye/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),A==null||A(q)}}),k.current.render(w.jsx(N,{children:w.jsx(w7,{set:Y,children:w.jsx(C.Suspense,{fallback:w.jsx(xye,{set:W}),children:e??null})})})))}),C.useEffect(()=>{const $=D.current;if($)return()=>C7($)},[]);const F=s?"none":"auto";return w.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:F,...i},...M,children:w.jsx("div",{ref:R,style:{width:"100%",height:"100%"},children:w.jsx("canvas",{ref:D,style:{display:"block"},children:n})})})}),e0e=C.forwardRef(function(e,n){return w.jsx(I7,{children:w.jsx(Qye,{...e,ref:n})})});function t0e(){const t=C.useRef(null);return Iye(e=>{t.current&&(t.current.rotation.x=e.clock.getElapsedTime()*.2,t.current.rotation.y=e.clock.getElapsedTime()*.3)}),w.jsxs("mesh",{ref:t,scale:2.5,children:[w.jsx("sphereGeometry",{args:[1,32,32]}),w.jsx("meshStandardMaterial",{color:"#D4AF37",roughness:.2,metalness:.8,wireframe:!0})]})}const n0e=()=>w.jsx("div",{className:"absolute inset-0 opacity-30",children:w.jsxs(e0e,{camera:{position:[0,0,5],fov:75},children:[w.jsx("ambientLight",{intensity:.5}),w.jsx("directionalLight",{position:[10,10,5],intensity:1}),w.jsx("pointLight",{position:[-10,-10,-5],intensity:.5,color:"#D4AF37"}),w.jsx(t0e,{})]})});var k7="clover",r0e=function(e){return e===3?"v3":e},L7="https://js.stripe.com",i0e="".concat(L7,"/").concat(k7,"/stripe.js"),o0e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,a0e=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,SF="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",s0e=function(e){return o0e.test(e)||a0e.test(e)},l0e=function(){for(var e=document.querySelectorAll('script[src^="'.concat(L7,'"]')),n=0;n<e.length;n++){var r=e[n];if(s0e(r.src))return r}return null},EF=function(e){var n="",r=document.createElement("script");r.src="".concat(i0e).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},c0e=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.5.2",startTime:n})},qm=null,Ab=null,Tb=null,u0e=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},d0e=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},f0e=function(e){return qm!==null?qm:(qm=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(SF),window.Stripe){n(window.Stripe);return}try{var i=l0e();if(i&&e)console.warn(SF);else if(!i)i=EF(e);else if(i&&Tb!==null&&Ab!==null){var o;i.removeEventListener("load",Tb),i.removeEventListener("error",Ab),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=EF(e)}Tb=d0e(n,r),Ab=u0e(r),i.addEventListener("load",Tb),i.addEventListener("error",Ab)}catch(a){r(a);return}}),qm.catch(function(n){return qm=null,Promise.reject(n)}))},h0e=function(e,n,r){if(e===null)return null;var i=n[0],o=i.match(/^pk_test/),a=r0e(e.version),s=k7;o&&a!==s&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("8.5.2"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,n);return c0e(l,r),l},Xm,D7=!1,j7=function(){return Xm||(Xm=f0e(null).catch(function(e){return Xm=null,Promise.reject(e)}),Xm)};Promise.resolve().then(function(){return j7()}).catch(function(t){D7||console.warn(t)});var p0e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];D7=!0;var i=Date.now();return j7().then(function(o){return h0e(o,n,i)})},U7={exports:{}},m0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",g0e=m0e,v0e=g0e;function F7(){}function B7(){}B7.resetWarningCache=F7;var y0e=function(){function t(r,i,o,a,s,l){if(l!==v0e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:B7,resetWarningCache:F7};return n.PropTypes=n,n};U7.exports=y0e();var x0e=U7.exports;const Ge=rn(x0e);function AF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(n),!0).forEach(function(r){z7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S_(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S_=function(e){return typeof e}:S_=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S_(t)}function z7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _0e(t,e){if(t==null)return{};var n=b0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $7(t,e){return w0e(t)||S0e(t,e)||E0e(t,e)||A0e()}function w0e(t){if(Array.isArray(t))return t}function S0e(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function E0e(t,e){if(t){if(typeof t=="string")return MF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MF(t,e)}}function MF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gi=function(e,n,r){var i=!!r,o=V.useRef(r);V.useEffect(function(){o.current=r},[r]),V.useEffect(function(){if(!i||!e)return function(){};var a=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,a),function(){e.off(n,a)}},[i,n,e,o])},pO=function(e){var n=V.useRef(e);return V.useEffect(function(){n.current=e},[e]),n.current},Zh=function(e){return e!==null&&S_(e)==="object"},T0e=function(e){return Zh(e)&&typeof e.then=="function"},M0e=function(e){return Zh(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},PF="[object Object]",P0e=function t(e,n){if(!Zh(e)||!Zh(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===PF,a=Object.prototype.toString.call(n)===PF;if(o!==a)return!1;if(!o&&!r)return e===n;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(var c={},u=0;u<s.length;u+=1)c[s[u]]=!0;for(var d=0;d<l.length;d+=1)c[l[d]]=!0;var f=Object.keys(c);if(f.length!==s.length)return!1;var p=e,g=n,y=function(v){return t(p[v],g[v])};return f.every(y)},H7=function(e,n,r){return Zh(e)?Object.keys(e).reduce(function(i,o){var a=!Zh(n)||!P0e(e[o],n[o]);return r.includes(o)?(a&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):a?TF(TF({},i||{}),{},z7({},o,e[o])):i},null):null},V7="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",CF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V7;if(e===null||M0e(e))return e;throw new Error(n)},C0e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V7;if(T0e(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return CF(i,n)})};var r=CF(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},O0e=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},IS=V.createContext(null);IS.displayName="ElementsContext";var W7=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},G7=function(e){var n=e.stripe,r=e.options,i=e.children,o=V.useMemo(function(){return C0e(n)},[n]),a=V.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),s=$7(a,2),l=s[0],c=s[1];V.useEffect(function(){var f=!0,p=function(y){c(function(x){return x.stripe?x:{stripe:y,elements:y.elements(r)}})};return o.tag==="async"&&!l.stripe?o.stripePromise.then(function(g){g&&f&&p(g)}):o.tag==="sync"&&!l.stripe&&p(o.stripe),function(){f=!1}},[o,l,r]);var u=pO(n);V.useEffect(function(){u!==null&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,n]);var d=pO(r);return V.useEffect(function(){if(l.elements){var f=H7(r,d,["clientSecret","fonts"]);f&&l.elements.update(f)}},[r,d,l.elements]),V.useEffect(function(){O0e(l.stripe)},[l.stripe]),V.createElement(IS.Provider,{value:l},i)};G7.propTypes={stripe:Ge.any,options:Ge.object};var R0e=function(e){var n=V.useContext(IS);return W7(n,e)},N0e=function(){var e=R0e("calls useElements()"),n=e.elements;return n};Ge.func.isRequired;var q7=V.createContext(null);q7.displayName="CheckoutContext";Ge.any,Ge.shape({clientSecret:Ge.oneOfType([Ge.string,Ge.instanceOf(Promise)]).isRequired,elementsOptions:Ge.object}).isRequired;var mO=function(e){var n=V.useContext(q7),r=V.useContext(IS);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n}else return W7(r,e)},I0e=["mode"],k0e=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Zi=function(e,n){var r="".concat(k0e(e),"Element"),i=function(l){var c=l.id,u=l.className,d=l.options,f=d===void 0?{}:d,p=l.onBlur,g=l.onFocus,y=l.onReady,x=l.onChange,v=l.onEscape,b=l.onClick,_=l.onLoadError,S=l.onLoaderStart,A=l.onNetworksChange,M=l.onConfirm,P=l.onCancel,N=l.onShippingAddressChange,R=l.onShippingRateChange,I=l.onSavedPaymentMethodRemove,D=l.onSavedPaymentMethodUpdate,U=mO("mounts <".concat(r,">")),X="elements"in U?U.elements:null,j="checkoutState"in U?U.checkoutState:null,W=(j==null?void 0:j.type)==="success"||(j==null?void 0:j.type)==="loading"?j.sdk:null,H=V.useState(null),Y=$7(H,2),k=Y[0],F=Y[1],$=V.useRef(null),q=V.useRef(null);gi(k,"blur",p),gi(k,"focus",g),gi(k,"escape",v),gi(k,"click",b),gi(k,"loaderror",_),gi(k,"loaderstart",S),gi(k,"networkschange",A),gi(k,"confirm",M),gi(k,"cancel",P),gi(k,"shippingaddresschange",N),gi(k,"shippingratechange",R),gi(k,"savedpaymentmethodremove",I),gi(k,"savedpaymentmethodupdate",D),gi(k,"change",x);var Z;y&&(e==="expressCheckout"?Z=y:Z=function(){y(k)}),gi(k,"ready",Z),V.useLayoutEffect(function(){if($.current===null&&q.current!==null&&(X||W)){var ne=null;if(W)switch(e){case"paymentForm":ne=W.createPaymentFormElement();break;case"payment":ne=W.createPaymentElement(f);break;case"address":if("mode"in f){var ye=f.mode,xe=_0e(f,I0e);if(ye==="shipping")ne=W.createShippingAddressElement(xe);else if(ye==="billing")ne=W.createBillingAddressElement(xe);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ne=W.createExpressCheckoutElement(f);break;case"currencySelector":ne=W.createCurrencySelectorElement();break;case"taxId":ne=W.createTaxIdElement(f);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else X&&(ne=X.create(e,f));$.current=ne,F(ne),ne&&ne.mount(q.current)}},[X,W,f]);var ee=pO(f);return V.useEffect(function(){if($.current){var ne=H7(f,ee,["paymentRequest"]);ne&&"update"in $.current&&$.current.update(ne)}},[f,ee]),V.useLayoutEffect(function(){return function(){if($.current&&typeof $.current.destroy=="function")try{$.current.destroy(),$.current=null}catch{}}},[]),V.createElement("div",{id:c,className:u,ref:q})},o=function(l){mO("mounts <".concat(r,">"));var c=l.id,u=l.className;return V.createElement("div",{id:c,className:u})},a=n?o:i;return a.propTypes={id:Ge.string,className:Ge.string,onChange:Ge.func,onBlur:Ge.func,onFocus:Ge.func,onReady:Ge.func,onEscape:Ge.func,onClick:Ge.func,onLoadError:Ge.func,onLoaderStart:Ge.func,onNetworksChange:Ge.func,onConfirm:Ge.func,onCancel:Ge.func,onShippingAddressChange:Ge.func,onShippingRateChange:Ge.func,onSavedPaymentMethodRemove:Ge.func,onSavedPaymentMethodUpdate:Ge.func,options:Ge.object},a.displayName=r,a.__elementType=e,a},Qi=typeof window>"u",L0e=V.createContext(null);L0e.displayName="EmbeddedCheckoutProviderContext";var D0e=function(){var e=mO("calls useStripe()"),n=e.stripe;return n};Zi("auBankAccount",Qi);var OF=Zi("card",Qi);Zi("cardNumber",Qi);Zi("cardExpiry",Qi);Zi("cardCvc",Qi);Zi("iban",Qi);Zi("payment",Qi);Zi("expressCheckout",Qi);Zi("paymentRequestButton",Qi);Zi("linkAuthentication",Qi);Zi("address",Qi);Zi("shippingAddress",Qi);Zi("paymentMethodMessaging",Qi);Zi("taxId",Qi);var PI="Dialog",[X7,p6e]=Fc(PI),[j0e,$a]=X7(PI),K7=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=C.useRef(null),l=C.useRef(null),[c=!1,u]=Pc({prop:r,defaultProp:i,onChange:o});return w.jsx(j0e,{scope:e,triggerRef:s,contentRef:l,contentId:us(),titleId:us(),descriptionId:us(),open:c,onOpenChange:u,onOpenToggle:C.useCallback(()=>u(d=>!d),[u]),modal:a,children:n})};K7.displayName=PI;var Y7="DialogTrigger",U0e=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$a(Y7,n),o=tn(e,i.triggerRef);return w.jsx(Et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":RI(i.open),...r,ref:o,onClick:ze(t.onClick,i.onOpenToggle)})});U0e.displayName=Y7;var CI="DialogPortal",[F0e,J7]=X7(CI,{forceMount:void 0}),Z7=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=$a(CI,e);return w.jsx(F0e,{scope:e,forceMount:n,children:C.Children.map(r,a=>w.jsx(sa,{present:n||o.open,children:w.jsx(My,{asChild:!0,container:i,children:a})}))})};Z7.displayName=CI;var fw="DialogOverlay",Q7=C.forwardRef((t,e)=>{const n=J7(fw,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=$a(fw,t.__scopeDialog);return o.modal?w.jsx(sa,{present:r||o.open,children:w.jsx(B0e,{...i,ref:e})}):null});Q7.displayName=fw;var B0e=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$a(fw,n);return w.jsx(tS,{as:Mc,allowPinchZoom:!0,shards:[i.contentRef],children:w.jsx(Et.div,{"data-state":RI(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),vd="DialogContent",eq=C.forwardRef((t,e)=>{const n=J7(vd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=$a(vd,t.__scopeDialog);return w.jsx(sa,{present:r||o.open,children:o.modal?w.jsx(z0e,{...i,ref:e}):w.jsx($0e,{...i,ref:e})})});eq.displayName=vd;var z0e=C.forwardRef((t,e)=>{const n=$a(vd,t.__scopeDialog),r=C.useRef(null),i=tn(e,n.contentRef,r);return C.useEffect(()=>{const o=r.current;if(o)return AN(o)},[]),w.jsx(tq,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ze(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:ze(t.onFocusOutside,o=>o.preventDefault())})}),$0e=C.forwardRef((t,e)=>{const n=$a(vd,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return w.jsx(tq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),tq=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=$a(vd,n),l=C.useRef(null),c=tn(e,l);return EN(),w.jsxs(w.Fragment,{children:[w.jsx(Y1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:w.jsx(Mp,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":RI(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(H0e,{titleId:s.titleId}),w.jsx(W0e,{contentRef:l,descriptionId:s.descriptionId})]})]})}),OI="DialogTitle",nq=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$a(OI,n);return w.jsx(Et.h2,{id:i.titleId,...r,ref:e})});nq.displayName=OI;var rq="DialogDescription",iq=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$a(rq,n);return w.jsx(Et.p,{id:i.descriptionId,...r,ref:e})});iq.displayName=rq;var oq="DialogClose",aq=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=$a(oq,n);return w.jsx(Et.button,{type:"button",...r,ref:e,onClick:ze(t.onClick,()=>i.onOpenChange(!1))})});aq.displayName=oq;function RI(t){return t?"open":"closed"}var sq="DialogTitleWarning",[m6e,lq]=yne(sq,{contentName:vd,titleName:OI,docsSlug:"dialog"}),H0e=({titleId:t})=>{const e=lq(sq),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},V0e="DialogDescriptionWarning",W0e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lq(V0e).contentName}}.`;return C.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},G0e=K7,q0e=Z7,cq=Q7,uq=eq,dq=nq,fq=iq,X0e=aq;const K0e=G0e,Y0e=q0e,hq=C.forwardRef(({className:t,...e},n)=>w.jsx(cq,{ref:n,className:ut("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));hq.displayName=cq.displayName;const pq=C.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(Y0e,{children:[w.jsx(hq,{}),w.jsxs(uq,{ref:r,className:ut("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,w.jsxs(X0e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[w.jsx(hV,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pq.displayName=uq.displayName;const mq=({className:t,...e})=>w.jsx("div",{className:ut("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});mq.displayName="DialogHeader";const gq=C.forwardRef(({className:t,...e},n)=>w.jsx(dq,{ref:n,className:ut("text-lg font-semibold leading-none tracking-tight",t),...e}));gq.displayName=dq.displayName;const vq=C.forwardRef(({className:t,...e},n)=>w.jsx(fq,{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));vq.displayName=fq.displayName;const J0e=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class NI extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Z0e extends NI{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class RF extends NI{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class NF extends NI{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gO;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(gO||(gO={}));class Q0e{constructor(e,{headers:n={},customFetch:r,region:i=gO.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=J0e(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return rt(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:c,signal:u,timeout:d}=r;let f={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(f["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(f["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;let x=u;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),u?(x=a.signal,u.addEventListener("abort",()=>a.abort())):x=a.signal);const v=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),s),body:y,signal:x}).catch(A=>{throw new Z0e(A)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new RF(v);if(!v.ok)throw new NF(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield v.json():_==="application/octet-stream"||_==="application/pdf"?S=yield v.blob():_==="text/event-stream"?S=v:_==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof NF||s instanceof RF?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var Si={};const Fp=LQ(lle);var Mb={},Pb={},Cb={},Ob={},Rb={},Nb={},IF;function yq(){if(IF)return Nb;IF=1,Object.defineProperty(Nb,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Nb.default=t,Nb}var kF;function xq(){if(kF)return Rb;kF=1,Object.defineProperty(Rb,"__esModule",{value:!0});const e=Fp.__importDefault(yq());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,d,f;let p=null,g=null,y=null,x=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const A=await l.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?g=A:g=JSON.parse(A))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&S&&S.length>1&&(y=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,x=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const _=await l.text();try{p=JSON.parse(_),Array.isArray(p)&&l.status===404&&(g=[],p=null,x=200,v="OK")}catch{l.status===404&&_===""?(x=204,v="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,x=200,v="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:g,count:y,status:x,statusText:v}});return this.shouldThrowOnError||(s=s.catch(l=>{var c,u,d;return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(u=l==null?void 0:l.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(d=l==null?void 0:l.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return Rb.default=n,Rb}var LF;function bq(){if(LF)return Ob;LF=1,Object.defineProperty(Ob,"__esModule",{value:!0});const e=Fp.__importDefault(xq());class n extends e.default{select(i){let o=!1;const a=(i??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${o?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:a=o}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,o,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,o?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Ob.default=n,Ob}var DF;function II(){if(DF)return Cb;DF=1,Object.defineProperty(Cb,"__esModule",{value:!0});const e=Fp.__importDefault(bq()),n=new RegExp("[,()]");class r extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${s})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(o,`${c}fts${u}.${a}`),this}match(o){return Object.entries(o).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(o,a,s){return this.url.searchParams.append(o,`not.${a}.${s}`),this}or(o,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,a,s){return this.url.searchParams.append(o,`${a}.${s}`),this}}return Cb.default=r,Cb}var jF;function _q(){if(jF)return Pb;jF=1,Object.defineProperty(Pb,"__esModule",{value:!0});const e=Fp.__importDefault(II());class n{constructor(i,{headers:o={},schema:a,fetch:s}){this.url=i,this.headers=new Headers(o),this.schema=a,this.fetch=s}select(i,o){const{head:a=!1,count:s}=o??{},l=a?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:a=!0}={}){var s;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:o}={}){var a;const s="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var o;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Pb.default=n,Pb}var UF;function exe(){if(UF)return Mb;UF=1,Object.defineProperty(Mb,"__esModule",{value:!0});const t=Fp,e=t.__importDefault(_q()),n=t.__importDefault(II());class r{constructor(o,{headers:a={},schema:s,fetch:l}={}){this.url=o,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:s=!1,get:l=!1,count:c}={}){var u;let d;const f=new URL(`${this.url}/rpc/${o}`);let p;s||l?(d=s?"HEAD":"GET",Object.entries(a).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{f.searchParams.append(y,x)})):(d="POST",p=a);const g=new Headers(this.headers);return c&&g.set("Prefer",`count=${c}`),new n.default({method:d,url:f,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Mb.default=r,Mb}Object.defineProperty(Si,"__esModule",{value:!0});var wq=Si.PostgrestError=Nq=Si.PostgrestBuilder=Oq=Si.PostgrestTransformBuilder=Pq=Si.PostgrestFilterBuilder=Tq=Si.PostgrestQueryBuilder=Eq=Si.PostgrestClient=void 0;const Bp=Fp,Sq=Bp.__importDefault(exe());var Eq=Si.PostgrestClient=Sq.default;const Aq=Bp.__importDefault(_q());var Tq=Si.PostgrestQueryBuilder=Aq.default;const Mq=Bp.__importDefault(II());var Pq=Si.PostgrestFilterBuilder=Mq.default;const Cq=Bp.__importDefault(bq());var Oq=Si.PostgrestTransformBuilder=Cq.default;const Rq=Bp.__importDefault(xq());var Nq=Si.PostgrestBuilder=Rq.default;const Iq=Bp.__importDefault(yq());wq=Si.PostgrestError=Iq.default;var kq=Si.default={PostgrestClient:Sq.default,PostgrestQueryBuilder:Aq.default,PostgrestFilterBuilder:Mq.default,PostgrestTransformBuilder:Cq.default,PostgrestBuilder:Rq.default,PostgrestError:Iq.default};const txe=m5({__proto__:null,get PostgrestBuilder(){return Nq},get PostgrestClient(){return Eq},get PostgrestError(){return wq},get PostgrestFilterBuilder(){return Pq},get PostgrestQueryBuilder(){return Tq},get PostgrestTransformBuilder(){return Oq},default:kq},[Si]),{PostgrestClient:nxe,PostgrestQueryBuilder:g6e,PostgrestFilterBuilder:v6e,PostgrestTransformBuilder:y6e,PostgrestBuilder:x6e,PostgrestError:b6e}=kq||txe;class rxe{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ixe="2.81.0",oxe=`realtime-js/${ixe}`,Lq="1.0.0",axe="2.0.0",FF=Lq,vO=1e4,sxe=1e3,lxe=100;var Iu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Iu||(Iu={}));var pr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pr||(pr={}));var Go;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Go||(Go={}));var yO;(function(t){t.websocket="websocket"})(yO||(yO={}));var ku;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ku||(ku={}));class cxe{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:n,ref:r,event:i,topic:o,payload:a}=e,s=this.META_LENGTH+n.length+r.length+o.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+s);let c=new DataView(l),u=0;c.setUint8(u++,this.KINDS.push),c.setUint8(u++,n.length),c.setUint8(u++,r.length),c.setUint8(u++,o.length),c.setUint8(u++,i.length),Array.from(n,f=>c.setUint8(u++,f.charCodeAt(0))),Array.from(r,f=>c.setUint8(u++,f.charCodeAt(0))),Array.from(o,f=>c.setUint8(u++,f.charCodeAt(0))),Array.from(i,f=>c.setUint8(u++,f.charCodeAt(0)));var d=new Uint8Array(l.byteLength+a.byteLength);return d.set(new Uint8Array(l),0),d.set(new Uint8Array(a),l.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const{join_ref:i,ref:o,topic:a}=e,s=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),c=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+a.length+s.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let d=new DataView(u),f=0;d.setUint8(f++,this.KINDS.userBroadcastPush),d.setUint8(f++,i.length),d.setUint8(f++,o.length),d.setUint8(f++,a.length),d.setUint8(f++,s.length),d.setUint8(f++,this.BINARY_ENCODING),Array.from(i,g=>d.setUint8(f++,g.charCodeAt(0))),Array.from(o,g=>d.setUint8(f++,g.charCodeAt(0))),Array.from(a,g=>d.setUint8(f++,g.charCodeAt(0))),Array.from(s,g=>d.setUint8(f++,g.charCodeAt(0)));var p=new Uint8Array(u.byteLength+l.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(l),u.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var n,r;const{join_ref:i,ref:o,topic:a}=e,s=e.payload.event,l=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+o.length+a.length+s.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,i.length),p.setUint8(g++,o.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,this.JSON_ENCODING),Array.from(i,x=>p.setUint8(g++,x.charCodeAt(0))),Array.from(o,x=>p.setUint8(g++,x.charCodeAt(0))),Array.from(a,x=>p.setUint8(g++,x.charCodeAt(0))),Array.from(s,x=>p.setUint8(g++,x.charCodeAt(0)));var y=new Uint8Array(f.byteLength+u.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(u),f.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,i);case this.KINDS.reply:return this._decodeReply(e,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodePush(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3);let s=this.HEADER_LENGTH+this.META_LENGTH-1;const l=r.decode(e.slice(s,s+i));s=s+i;const c=r.decode(e.slice(s,s+o));s=s+o;const u=r.decode(e.slice(s,s+a));s=s+a;const d=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:l,ref:null,topic:c,event:u,payload:d}}_decodeReply(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const c=r.decode(e.slice(l,l+i));l=l+i;const u=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const f=r.decode(e.slice(l,l+s));l=l+s;const p=JSON.parse(r.decode(e.slice(l,e.byteLength))),g={status:f,response:p};return{join_ref:c,ref:u,topic:d,event:Go.reply,payload:g}}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const s=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+o));a=a+o;const c=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:null,ref:null,topic:s,event:l,payload:c}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const u=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+a));l=l+a;const f=e.slice(l,e.byteLength),p=s===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,g={type:this.BROADCAST,event:u,payload:p};return a>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Dq{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(vn||(vn={}));const BF=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=uxe(a,t,e,i),o),{}):{}},uxe=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?jq(o,a):xO(a)},jq=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return pxe(e,n)}switch(t){case vn.bool:return dxe(e);case vn.float4:case vn.float8:case vn.int2:case vn.int4:case vn.int8:case vn.numeric:case vn.oid:return fxe(e);case vn.json:case vn.jsonb:return hxe(e);case vn.timestamp:return mxe(e);case vn.abstime:case vn.date:case vn.daterange:case vn.int4range:case vn.int8range:case vn.money:case vn.reltime:case vn.text:case vn.time:case vn.timestamptz:case vn.timetz:case vn.tsrange:case vn.tstzrange:return xO(e);default:return xO(e)}},xO=t=>t,dxe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fxe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hxe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pxe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>jq(e,s))}return t},mxe=t=>typeof t=="string"?t.replace(" ","T"):t,Uq=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class EM{constructor(e,n,r={},i=vO){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zF;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zF||(zF={}));class Og{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Og.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Og.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Og.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=o[c];if(d){const f=u.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),g=u.filter(x=>p.indexOf(x.presence_ref)<0),y=d.filter(x=>f.indexOf(x.presence_ref)<0);g.length>0&&(s[c]=g),y.length>0&&(l[c]=y)}else s[c]=u}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var c;const u=(c=e[s])!==null&&c!==void 0?c:[];if(e[s]=this.cloneDeep(l),u.length>0){const d=e[s].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);e[s].unshift(...f)}r(s,u,l)}),this.map(a,(s,l)=>{let c=e[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[s]=c,i(s,c,l),c.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $F;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($F||($F={}));var Rg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Rg||(Rg={}));var Hs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Hs||(Hs={}));class kI{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new EM(this,Go.join,this.params,this.timeout),this.rejoinTimer=new Dq(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Go.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Og(this),this.broadcastEndpointURL=Uq(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==pr.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Rg.PRESENCE]&&this.bindings[Rg.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Hs.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Hs.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e==null||e(Hs.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,v=[];for(let b=0;b<x;b++){const _=y[b],{filter:{event:S,schema:A,table:M,filter:P}}=_,N=p&&p[b];if(N&&N.event===S&&N.schema===A&&N.table===M&&N.filter===P)v.push(Object.assign(Object.assign({},_),{id:N.id}));else{this.unsubscribe(),this.state=pr.errored,e==null||e(Hs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Hs.SUBSCRIBED);return}}).receive("error",p=>{this.state=pr.errored,e==null||e(Hs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Hs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===pr.joined&&e===Rg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Go.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new EM(this,Go.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new EM(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>lxe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=Go;if(r&&[s,l,c,u].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,y,x;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(y=p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(f,r)):(o=this.bindings[a])===null||o===void 0||o.filter(p=>{var g,y,x,v,b,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,A=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((y=n.ids)===null||y===void 0?void 0:y.includes(S))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:x,commit_timestamp:v,type:b,errors:_}=g;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:v,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(g))}p.callback(f,r)})}_isClosed(){return this.state===pr.closed}_isJoined(){return this.state===pr.joined}_isJoining(){return this.state===pr.joining}_isLeaving(){return this.state===pr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&kI.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Go.close,{},e)}_onError(e){this._on(Go.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=BF(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=BF(e.columns,e.old_record)),n}}const AM=()=>{},Ib={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gxe=[1e3,2e3,5e3,1e4],vxe=1e4,yxe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xxe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vO,this.transport=null,this.heartbeatIntervalMs=Ib.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=AM,this.ref=0,this.reconnectTimer=null,this.vsn=FF,this.logger=AM,this.conn=null,this.sendBuffer=[],this.serializer=new cxe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${yO.websocket}`,this.httpEndpoint=Uq(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rxe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Iu.connecting:return ku.Connecting;case Iu.open:return ku.Open;case Iu.closing:return ku.Closing;default:return ku.Closed}}isConnected(){return this.connectionState()===ku.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new kI(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(sxe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ib.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Iu.open||this.conn.readyState===Iu.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Go.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([yxe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:oxe};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Go.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Dq(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ib.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,c,u,d,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:vO,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Ib.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:AM,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:FF,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>gxe[g-1]||vxe,this.vsn){case Lq:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(g,y)=>y(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(g,y)=>y(JSON.parse(g));break;case axe:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class LI extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ln(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bxe extends LI{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bO extends LI{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const DI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_xe=()=>Response,_O=t=>{if(Array.isArray(t))return t.map(n=>_O(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=_O(r)}),e},wxe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},TM=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Sxe=(t,e,n)=>rt(void 0,void 0,void 0,function*(){const r=yield _xe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const o=t.status||500,a=(i==null?void 0:i.statusCode)||o+"";e(new bxe(TM(i),o,a))}).catch(i=>{e(new bO(TM(i),i))}):e(new bO(TM(t),t))}),Exe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(wxe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function qy(t,e,n,r,i,o){return rt(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,Exe(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Sxe(l,s,r))})})}function Iv(t,e,n,r){return rt(this,void 0,void 0,function*(){return qy(t,"GET",e,n,r)})}function Sa(t,e,n,r,i){return rt(this,void 0,void 0,function*(){return qy(t,"POST",e,r,i,n)})}function wO(t,e,n,r,i){return rt(this,void 0,void 0,function*(){return qy(t,"PUT",e,r,i,n)})}function Axe(t,e,n,r){return rt(this,void 0,void 0,function*(){return qy(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function jI(t,e,n,r,i){return rt(this,void 0,void 0,function*(){return qy(t,"DELETE",e,r,i,n)})}class Txe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return rt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ln(e))return{data:null,error:e};throw e}})}}var Fq;class Mxe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Fq]="BlobDownloadBuilder",this.promise=null}asStream(){return new Txe(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return rt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ln(e))return{data:null,error:e};throw e}})}}Fq=Symbol.toStringTag;const Pxe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cxe{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=DI(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return rt(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},HF),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?wO:Sa)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ln(o))return{data:null,error:o};throw o}})}upload(e,n,r){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return rt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:HF.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield wO(this.fetch,s.toString(),l,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ln(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return rt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Sa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new LI("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}update(e,n,r){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return rt(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ln(i))return{data:null,error:i};throw i}})}copy(e,n,r){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield Sa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ln(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return rt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Sa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ln(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return rt(this,void 0,void 0,function*(){try{const i=yield Sa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ln(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"",s=this._getFinalPath(e),l=()=>Iv(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new Mxe(l,this.shouldThrowOnError)}info(e){return rt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Iv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_O(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}exists(e){return rt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Axe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r)&&r instanceof bO){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${c}`)}}}remove(e){return rt(this,void 0,void 0,function*(){try{return{data:yield jI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}list(e,n,r){return rt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Pxe),n),{prefix:e||""});return{data:yield Sa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ln(i))return{data:null,error:i};throw i}})}listV2(e,n){return rt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Sa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Bq="2.81.0",zq={"X-Client-Info":`storage-js/${Bq}`};class Oxe{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zq),n),this.fetch=DI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return rt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Iv(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}getBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:yield Iv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}createBucket(e){return rt(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Sa(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ln(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return rt(this,void 0,void 0,function*(){try{return{data:yield wO(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}emptyBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}deleteBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:yield jI(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Rxe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zq),n),this.fetch=DI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}listBuckets(e){return rt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Iv(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}deleteBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:yield jI(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}}const UI={"X-Client-Info":`storage-js/${Bq}`,"Content-Type":"application/json"};class $q extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function yo(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class MM extends $q{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nxe extends $q{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var VF;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(VF||(VF={}));const FI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ixe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},WF=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kxe=(t,e,n)=>rt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,o=t;if(typeof o.json=="function")o.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new MM(WF(a),i,s))}).catch(()=>{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new MM(s,i,a))});else{const a=i+"",s=o.statusText||`HTTP ${i} error`;e(new MM(s,i,a))}}else e(new Nxe(WF(t),t))}),Lxe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(Ixe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function Dxe(t,e,n,r,i,o){return rt(this,void 0,void 0,function*(){return new Promise((a,s)=>{t(n,Lxe(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>kxe(l,s,r))})})}function xo(t,e,n,r,i){return rt(this,void 0,void 0,function*(){return Dxe(t,"POST",e,r,i,n)})}class jxe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},UI),n),this.fetch=FI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return rt(this,void 0,void 0,function*(){try{return{data:(yield xo(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}getIndex(e,n){return rt(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yo(r))return{data:null,error:r};throw r}})}listIndexes(e){return rt(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return rt(this,void 0,void 0,function*(){try{return{data:(yield xo(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yo(r))return{data:null,error:r};throw r}})}}class Uxe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},UI),n),this.fetch=FI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return rt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield xo(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}getVectors(e){return rt(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}listVectors(e){return rt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield xo(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}queryVectors(e){return rt(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}deleteVectors(e){return rt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield xo(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}}class Fxe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},UI),n),this.fetch=FI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:(yield xo(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}getBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}listBuckets(){return rt(this,arguments,void 0,function*(e={}){try{return{data:yield xo(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}deleteBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:(yield xo(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yo(n))return{data:null,error:n};throw n}})}}class Bxe extends Fxe{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new zxe(this.url,this.headers,e,this.fetch)}}class zxe extends jxe{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return rt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return rt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return rt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return rt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new $xe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class $xe extends Uxe{constructor(e,n,r,i,o){super(e,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return rt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return rt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return rt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return rt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return rt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Hxe extends Oxe{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new Cxe(this.url,this.headers,e,this.fetch)}get vectors(){return new Bxe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Rxe(this.url+"/iceberg",this.headers,this.fetch)}}const Vxe="2.81.0";let dg="";typeof Deno<"u"?dg="deno":typeof document<"u"?dg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dg="react-native":dg="node";const Wxe={"X-Client-Info":`supabase-js-${dg}/${Vxe}`},Gxe={headers:Wxe},qxe={schema:"public"},Xxe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kxe={},Yxe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Jxe=()=>Headers,Zxe=(t,e,n)=>{const r=Yxe(n),i=Jxe();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},a),{headers:c}))}};function Qxe(t){return t.endsWith("/")?t:t+"/"}function ebe(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function tbe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qxe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Hq="2.81.0",$f=30*1e3,SO=3,PM=SO*$f,nbe="http://localhost:9999",rbe="supabase.auth.token",ibe={"X-Client-Info":`gotrue-js/${Hq}`},EO="X-Supabase-Api-Version",Vq={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},obe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,abe=10*60*1e3;class kv extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function st(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class sbe extends kv{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function lbe(t){return st(t)&&t.name==="AuthApiError"}class Lu extends kv{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Gc extends kv{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class va extends Gc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cbe(t){return st(t)&&t.name==="AuthSessionMissingError"}class Of extends Gc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kb extends Gc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Lb extends Gc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ube(t){return st(t)&&t.name==="AuthImplicitGrantRedirectError"}class GF extends Gc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AO extends Gc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function CM(t){return st(t)&&t.name==="AuthRetryableFetchError"}class qF extends Gc{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class TO extends Gc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),XF=` 	
\r=`.split(""),dbe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<XF.length;e+=1)t[XF[e].charCodeAt(0)]=-2;for(let e=0;e<hw.length;e+=1)t[hw[e].charCodeAt(0)]=e;return t})();function KF(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hw[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hw[r]),e.queuedBits-=6}}function Wq(t,e,n){const r=dbe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function YF(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{pbe(a,r,n)};for(let a=0;a<t.length;a+=1)Wq(t.charCodeAt(a),i,o);return e.join("")}function fbe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hbe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}fbe(r,e)}}function pbe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function wh(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Wq(t.charCodeAt(i),n,r);return new Uint8Array(e)}function mbe(t){const e=[];return hbe(t,n=>e.push(n)),new Uint8Array(e)}function Vu(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>KF(i,n,r)),KF(null,n,r),e.join("")}function gbe(t){return Math.round(Date.now()/1e3)+t}function vbe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ni=()=>typeof window<"u"&&typeof document<"u",xu={tested:!1,writable:!1},Gq=()=>{if(!ni())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xu.tested)return xu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xu.tested=!0,xu.writable=!0}catch{xu.tested=!0,xu.writable=!1}return xu.writable};function ybe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const qq=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xbe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Hf=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},bu=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Hl=async(t,e)=>{await t.removeItem(e)};class kS{constructor(){this.promise=new kS.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}kS.promiseConstructor=Promise;function OM(t){const e=t.split(".");if(e.length!==3)throw new TO("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!obe.test(e[r]))throw new TO("JWT not in base64url format");return{header:JSON.parse(YF(e[0])),payload:JSON.parse(YF(e[1])),signature:wh(e[2]),raw:{header:e[0],payload:e[1]}}}async function bbe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _be(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function wbe(t){return("0"+t.toString(16)).substr(-2)}function Sbe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,wbe).join("")}async function Ebe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Abe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Ebe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rf(t,e,n=!1){const r=Sbe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Hf(t,`${e}-code-verifier`,i);const o=await Abe(r);return[o,r===o?"plain":"s256"]}const Tbe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mbe(t){const e=t.headers.get(EO);if(!e||!e.match(Tbe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Pbe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Cbe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Obe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nf(t){if(!Obe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function RM(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rbe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function JF(t){return JSON.parse(JSON.stringify(t))}const Pu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Nbe=[502,503,504];async function ZF(t){var e;if(!xbe(t))throw new AO(Pu(t),0);if(Nbe.includes(t.status))throw new AO(Pu(t),t.status);let n;try{n=await t.json()}catch(o){throw new Lu(Pu(o),o)}let r;const i=Mbe(t);if(i&&i.getTime()>=Vq["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new qF(Pu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new va}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new qF(Pu(n),t.status,n.weak_password.reasons);throw new sbe(Pu(n),t.status||500,r)}const Ibe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function St(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[EO]||(o[EO]=Vq["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await kbe(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function kbe(t,e,n,r,i,o){const a=Ibe(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new AO(Pu(l),0)}if(s.ok||await ZF(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await ZF(l)}}function ya(t){var e;let n=null;jbe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=gbe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function QF(t){const e=ya(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ql(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Lbe(t){return{data:t,error:null}}function Dbe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=Bc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function eB(t){return t}function jbe(t){return t.access_token&&t.refresh_token&&t.expires_in}const NM=["global","local","others"];class Ube{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=qq(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=NM[0]){if(NM.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${NM.join(", ")}`);try{return await St(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await St(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ql})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Bc(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Dbe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(st(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await St(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ql})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:eB});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(st(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Nf(e);try{return await St(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ql})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Nf(e);try{return await St(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ql})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Nf(e);try{return await St(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ql})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Nf(e.userId);try{const{data:n,error:r}=await St(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(st(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Nf(e.userId),Nf(e.id);try{return{data:await St(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await St(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:eB});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(st(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await St(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await St(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await St(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await St(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}}function tB(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const If={debug:!!(globalThis&&Gq()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xq extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fbe extends Xq{}async function Bbe(t,e,n){If.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),If.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){If.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{If.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw If.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Fbe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(If.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function zbe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kq(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function $be(t){return parseInt(t,16)}function Hbe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Vbe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Kq(t.address),g=u?`${u}://${r}`:r,y=t.statement?`${t.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${p}

${y}`;let v=`URI: ${d}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}v+=b}return`${x}
${v}`}class sr extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class pw extends sr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Wbe({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new sr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new sr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new sr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new sr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new sr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new sr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new sr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new sr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Yq(a)){if(o.rp.id!==a)return new sr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new sr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new sr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Gbe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new sr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new sr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Yq(r)){if(n.rpId!==r)return new sr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new sr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class qbe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Xbe=new qbe;function Kbe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Bc(t,["challenge","user","excludeCredentials"]),o=wh(e).buffer,a=Object.assign(Object.assign({},n),{id:wh(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:wh(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function Ybe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Bc(t,["challenge","allowCredentials"]),i=wh(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:wh(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function Jbe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Vu(new Uint8Array(t.response.attestationObject)),clientDataJSON:Vu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Zbe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Vu(new Uint8Array(i.authenticatorData)),clientDataJSON:Vu(new Uint8Array(i.clientDataJSON)),signature:Vu(new Uint8Array(i.signature)),userHandle:i.userHandle?Vu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yq(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function nB(){var t,e;return!!(ni()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Qbe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pw("Browser returned unexpected credential type",e)}:{data:null,error:new pw("Empty credential response",e)}}catch(e){return{data:null,error:Wbe({error:e,options:t})}}}async function e_e(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pw("Browser returned unexpected credential type",e)}:{data:null,error:new pw("Empty credential response",e)}}catch(e){return{data:null,error:Gbe({error:e,options:t})}}}const t_e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},n_e={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mw(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=mw(s,a):r[o]=mw(a)}else r[o]=a}return r}function r_e(t,e){return mw(t_e,t,e||{})}function i_e(t,e){return mw(n_e,t,e||{})}class o_e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??Xbe.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=r_e(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:u,error:d}=await Qbe({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=i_e(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:u,error:d}=await e_e(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(a){return st(a)?{data:null,error:a}:{data:null,error:new Lu("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new kv("rpId is required for WebAuthn authentication")};try{if(!nB())return{data:null,error:new Lu("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return st(a)?{data:null,error:a}:{data:null,error:new Lu("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new kv("rpId is required for WebAuthn registration")};try{if(!nB())return{data:null,error:new Lu("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return st(a)?{data:null,error:a}:{data:null,error:new Lu("Unexpected error in register",a)}}}}zbe();const a_e={url:nbe,storageKey:rbe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ibe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function rB(t,e,n){return await n()}const kf={};class Lv{get jwks(){var e,n;return(n=(e=kf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){kf[this.storageKey]=Object.assign(Object.assign({},kf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=kf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kf[this.storageKey]=Object.assign(Object.assign({},kf[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},a_e),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Lv.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Lv.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ni()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Ube({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=qq(o.fetch),this.lock=o.lock||rB,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:ni()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Bbe:this.lock=rB,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new o_e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Gq()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tB(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=tB(this.memoryStorage)),ni()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hq}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ni()&&(n=ybe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ni()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ube(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return st(n)?this._returnResult({error:n}):this._returnResult({error:new Lu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ya}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(st(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:u,password:d,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Rf(this.storage,this.storageKey)),o=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:ya})}else if("phone"in e){const{phone:u,password:d,options:f}=e;o=await St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ya})}else throw new kb("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(st(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:QF})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:QF})}else throw new kb("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Of;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(st(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,c,u,d,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:y,wallet:x,statement:v,options:b}=e;let _;if(ni())if(typeof x=="object")_=x;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")_=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),A=await _.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Kq(A[0]);let P=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!P){const R=await _.request({method:"eth_chainId"});P=$be(R)}const N={domain:S.host,address:M,statement:v,uri:S.href,version:"1",chainId:P,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=Vbe(N),g=await _.request({method:"personal_sign",params:[Hbe(p),M]})}try{const{data:y,error:x}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ya});if(x)throw x;if(!y||!y.session||!y.user){const v=new Of;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(st(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,c,u,d,f,p;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:x,wallet:v,statement:b,options:_}=e;let S;if(ni())if(typeof v=="object")S=v;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))S=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const A=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const M=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),b?{statement:b}:null));let P;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")P=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)P=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),y=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${A.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const M=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=M}}try{const{data:x,error:v}=await St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Vu(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ya});if(v)throw v;if(!x||!x.session||!x.user){const b=new Of;return this._returnResult({data:{user:null,session:null},error:b})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(st(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await bu(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:a}=await St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ya});if(await Hl(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Of;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(st(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ya}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Of;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(st(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Rf(this.storage,this.storageKey));const{error:d}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:s,options:l}=e,{data:c,error:u}=await St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new kb("You must provide either an email or phone number.")}catch(s){if(st(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:ya});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(st(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i;try{let o=null,a=null;this.flowType==="pkce"&&([o,a]=await Rf(this.storage,this.storageKey));const s=await St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:Lbe});return this._returnResult(s)}catch(o){if(st(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new va;const{error:i}=await St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(st(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await St(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await St(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new kb("You must provide either an email or phone number and a type")}catch(n){if(st(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await bu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<PM:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await bu(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=RM()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Rbe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ql}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new va}:await St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ql})})}catch(n){if(st(n))return cbe(n)&&(await this._removeSession(),await Hl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new va;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Rf(this.storage,this.storageKey));const{data:c,error:u}=await St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Ql});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(st(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new va;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=OM(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(st(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new va;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(st(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ni())throw new Lb("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Lb(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new GF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lb("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new GF("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:c}=e;if(!o||!s||!a||!c)throw new Lb("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=$f&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:y,error:x}=await this._getUser(o);if(x)throw x;const v={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(st(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await bu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(lbe(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Hl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=vbe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Rf(this.storage,this.storageKey,!0));try{return await St(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(st(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,c,u;const{data:d,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await St(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ni()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(st(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:c,nonce:u}=e,d=await St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ya}),{data:f,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Of}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(st(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await St(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _be(async i=>(i>0&&await bbe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ya})),(i,o)=>{const a=200*Math.pow(2,i);return o&&CM(o)&&Date.now()+a-r<$f})}catch(r){if(this._debug(n,"error",r),st(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ni()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await bu(this.storage,this.storageKey);if(i&&this.userStorage){let a=await bu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Hf(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:RM()}else if(i&&!i.user&&!i.user){const a=await bu(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Hl(this.storage,this.storageKey+"-user"),await Hf(this.storage,this.storageKey,i)):i.user=RM()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<PM;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${PM}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),CM(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new va;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new kS;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new va;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),st(o)){const a={data:null,error:o};return CM(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Hf(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=JF(i);await Hf(this.storage,this.storageKey,o)}else{const i=JF(n);await Hf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Hl(this.storage,this.storageKey),await Hl(this.storage,this.storageKey+"-code-verifier"),await Hl(this.storage,this.storageKey+"-user"),this.userStorage&&await Hl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ni()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$f);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/$f);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$f}ms, refresh threshold is ${SO} ticks`),i<=SO&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xq)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ni()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Rf(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await St(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await St(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Jbe(e.webauthn.credential_response):Zbe(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Kbe(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Ybe(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=OM(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await St(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new va})})}catch(n){if(st(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new va});const a=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&ni()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new va});const a=await St(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&ni()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+abe>i)return r;const{data:o,error:a}=await St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});r=p.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=OM(r);n!=null&&n.allowExpired||Pbe(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:i,signature:a},error:null}}const u=Cbe(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,mbe(`${s}.${l}`)))throw new TO("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}}Lv.nextInstanceID={};const s_e=Lv;class l_e extends s_e{constructor(e){super(e)}}class c_e{constructor(e,n,r){var i,o,a;this.supabaseUrl=e,this.supabaseKey=n;const s=tbe(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:qxe,realtime:Kxe,auth:Object.assign(Object.assign({},Xxe),{storageKey:l}),global:Gxe},u=ebe(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=Zxe(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new nxe(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Hxe(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Q0e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:a,flowType:s,lock:l,debug:c,throwOnError:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l_e({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:s,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new xxe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u_e=(t,e,n)=>new c_e(t,e,n);function d_e(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}d_e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f_e="https://daqqfhamsdjrhsbwnkll.supabase.co",h_e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRhcXFmaGFtc2RqcmhzYndua2xsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NTMwMzAsImV4cCI6MjA3ODQyOTAzMH0.ZXgIOfvfQfZutcUBoR3T6p2ee1FFSvHk12SH-rJrTZE",Dv=u_e(f_e,h_e,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),p_e=p0e("pk_test_51SWnVJBPMc5iRlarWAzXwLd79H4hqDuRoNG7Liz67kOhpyVw44gvMJJr62vYtYh1EUe08hX44faYa0d4kbtxe900ksMmQQhV"),m_e=({onSuccess:t,amount:e})=>{const n=D0e(),r=N0e(),{toast:i}=Ty(),[o,a]=C.useState(!1),[s,l]=C.useState(e),c=async u=>{if(u.preventDefault(),!(!n||!r)){a(!0);try{const{data:d,error:f}=await Dv.functions.invoke("create-payment-intent",{body:{amount:s}});if(f)throw f;const{clientSecret:p}=d,{error:g,paymentIntent:y}=await n.confirmCardPayment(p,{payment_method:{card:r.getElement(OF)}});g?i({title:"Eroare plat",description:g.message,variant:"destructive"}):y.status==="succeeded"&&(i({title:"Plat reuit!",description:"Investiia ta a fost procesat cu succes."}),t())}catch(d){console.error("Payment error:",d),i({title:"Eroare",description:"A aprut o eroare la procesarea plii.",variant:"destructive"})}finally{a(!1)}}};return w.jsxs("form",{onSubmit:c,className:"space-y-6",children:[w.jsx("div",{className:"p-6 border-2 border-input rounded-lg bg-background",children:w.jsx(OF,{options:{style:{base:{fontSize:"18px",color:"hsl(var(--foreground))",fontFamily:"system-ui, -apple-system, sans-serif",fontSmoothing:"antialiased","::placeholder":{color:"hsl(var(--muted-foreground))"}},invalid:{color:"#ef4444",iconColor:"#ef4444"}}}})}),w.jsx(Nt,{type:"submit",disabled:!n||o,className:"w-full",children:o?w.jsxs(w.Fragment,{children:[w.jsx(_re,{className:"mr-2 h-4 w-4 animate-spin"}),"Se proceseaz..."]}):`Pltete ${(s/100).toFixed(2)} RON`})]})},Jq=({open:t,onOpenChange:e,planName:n,amount:r})=>{const i=()=>{setTimeout(()=>{e(!1)},2e3)};return w.jsx(K0e,{open:t,onOpenChange:e,children:w.jsxs(pq,{className:"sm:max-w-[500px]",children:[w.jsxs(mq,{children:[w.jsxs(gq,{children:["Plan ",n]}),w.jsx(vq,{children:"Introdu detaliile cardului pentru a finaliza plata"})]}),w.jsx(G7,{stripe:p_e,children:w.jsx(m_e,{onSuccess:i,amount:r})})]})})},g_e=()=>{const[t,e]=C.useState("10.000"),[n,r]=C.useState("500"),[i,o]=C.useState("10"),[a,s]=C.useState("8"),[l,c]=C.useState(!0),[u,d]=C.useState("110.000+"),[f,p]=C.useState(!1),g=()=>{const y=parseFloat(t.replace(/\./g,"").replace(",",".")),x=parseFloat(n.replace(/\./g,"").replace(",",".")),v=parseInt(i),b=parseFloat(a.replace(",","."))/100;if(isNaN(y)||isNaN(x)||isNaN(v)||isNaN(b))return;let _;if(l){_=y;for(let S=0;S<v*12;S++)_=_*(1+b/12)+x}else{const S=v*12,A=y*b*v,M=x*S,P=x*S*b*v/2;_=y+A+M+P}d(Math.round(_).toLocaleString("ro-RO")+" lei")};return w.jsxs("section",{className:"bg-black text-white pt-28 pb-20 relative overflow-hidden",children:[w.jsx(n0e,{}),w.jsx("div",{className:"container mx-auto px-4 relative z-10",children:w.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[w.jsxs("div",{className:"md:w-1/2 mb-10 md:mb-0 animate-fade-in",children:[w.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:["Investiii pentru ",w.jsx("span",{className:"text-gold-500",children:"fiecare"}),", indiferent de buget"]}),w.jsx("p",{className:"text-lg md:text-xl mb-8 text-gray-300 max-w-xl",children:"Markets4all promoveaz educaia financiar i o nou viziune asupra banilor. Te ajutm s ncepi s investeti corect, fie c ai 50 de lei sau 50.000."}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[w.jsxs(Nt,{size:"lg",className:"bg-gold-500 hover:bg-gold-600 text-black font-semibold",onClick:()=>p(!0),children:["ncepe s investeti ",w.jsx(vs,{className:"ml-2 h-5 w-5"})]}),w.jsx("a",{href:"#services",children:w.jsxs(Nt,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",children:["Descoper serviciile ",w.jsx(bre,{className:"ml-2 h-5 w-5"})]})})]})]}),w.jsx("div",{className:"md:w-1/2 flex justify-center animate-slide-up relative",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute -left-6 -top-6 w-64 h-64 bg-gold-500/20 rounded-full blur-3xl"}),w.jsx("div",{className:"absolute -right-10 -bottom-10 w-72 h-72 bg-gold-500/20 rounded-full blur-3xl"}),w.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl p-8 relative z-10",children:[w.jsxs("div",{className:"text-center text-white mb-6",children:[w.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Calculator de investiii"}),w.jsx("p",{className:"text-gray-300",children:"Vezi cum pot crete banii ti"})]}),w.jsxs("div",{className:"space-y-4 text-white",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Investiie iniial (lei)"}),w.jsx("input",{type:"text",value:t,onChange:y=>e(y.target.value),className:"w-full border border-gray-700 rounded-md px-4 py-2 bg-gray-800"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contribuie lunar (lei)"}),w.jsx("input",{type:"text",value:n,onChange:y=>r(y.target.value),className:"w-full border border-gray-700 rounded-md px-4 py-2 bg-gray-800"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Perioad de timp (ani)"}),w.jsx("input",{type:"text",value:i,onChange:y=>o(y.target.value),className:"w-full border border-gray-700 rounded-md px-4 py-2 bg-gray-800"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rat dobnd anual (%)"}),w.jsx("input",{type:"text",value:a,onChange:y=>s(y.target.value),className:"w-full border border-gray-700 rounded-md px-4 py-2 bg-gray-800"})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx(iS,{id:"compound",checked:l,onCheckedChange:y=>c(y===!0)}),w.jsx(Yo,{htmlFor:"compound",className:"text-sm font-medium cursor-pointer",children:"Dobnd compus"})]}),w.jsx(Nt,{className:"w-full bg-gold-500 hover:bg-gold-600 text-black",onClick:g,children:"Calculeaz"}),w.jsxs("p",{className:"text-sm text-gray-300 text-center mt-2",children:["Cretere potenial: ",w.jsxs("span",{className:"font-bold text-gold-500",children:[u," lei"]})]})]})]})]})})]})}),w.jsx(Jq,{open:f,onOpenChange:p,planName:"Investiie",amount:1e4})]})},Un=C.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:ut("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Un.displayName="Card";const Ri=C.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:ut("flex flex-col space-y-1.5 p-6",t),...e}));Ri.displayName="CardHeader";const Ni=C.forwardRef(({className:t,...e},n)=>w.jsx("h3",{ref:n,className:ut("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ni.displayName="CardTitle";const ra=C.forwardRef(({className:t,...e},n)=>w.jsx("p",{ref:n,className:ut("text-sm text-muted-foreground",t),...e}));ra.displayName="CardDescription";const Xn=C.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:ut("p-6 pt-0",t),...e}));Xn.displayName="CardContent";const Sh=C.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:ut("flex items-center p-6 pt-0",t),...e}));Sh.displayName="CardFooter";const v_e=U1("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jv({className:t,variant:e,...n}){return w.jsx("div",{className:ut(v_e({variant:e}),t),...n})}const y_e=[{title:"Tranzacionare CFD",description:"Acceseaz peste 1000+ instrumente CFD: Forex, Mrfuri, Aciuni, Crypto, Indici i ETF-uri. Spread-uri competitive i execuie rapid.",icon:w.jsx(aN,{className:"h-12 w-12"}),features:["Forex - 50+ perechi valutare","Mrfuri - Aur, Petrol, Argint","Indici - S&P 500, DAX, FTSE","Leverage pn la 1:30"],badge:"Popular",tier:"Bronze+"},{title:"Tranzacionare Crypto",description:"Platform avansat pentru trading cripto. Stablecoins, Altcoins, integrare cu wallet-uri securizate i platforme de ncredere.",icon:w.jsx(sre,{className:"h-12 w-12"}),features:["Bitcoin, Ethereum, Altcoins","Stablecoins (USDT, USDC)","Wallet-uri integrate","Trading 24/7"],badge:"Nou",tier:"Silver+"},{title:"Aciuni Clasice",description:"Investiii n aciuni de pe bursele internaionale. Acces la NYSE, NASDAQ, LSE i piee europene. Portofoliu diversificat.",icon:w.jsx(Ks,{className:"h-12 w-12"}),features:["NYSE & NASDAQ","Burse Europene","Dividende automate","Analiz avansat"],badge:"",tier:"Bronze+"},{title:"Fonduri de Investiii",description:"Fonduri mutuale gestionate profesional. Diversificare automat, risc controlat i randamente consistente pe termen lung.",icon:w.jsx(sV,{className:"h-12 w-12"}),features:["Management profesional","Diversificare automat","Investiie minim redus","Rapoarte lunare"],badge:"",tier:"Bronze+"},{title:"Asigurri Financiare",description:"Protejeaz-i investiiile i viitorul. Asigurri de via, asigurri de avere (Wealth) i asigurri pentru active.",icon:w.jsx(lre,{className:"h-12 w-12"}),features:["Asigurare de via","Asigurare Wealth","Protecie active","Planificare succesoral"],badge:"Protecie",tier:"Gold"},{title:"Planificare Pensie",description:"Construiete-i un viitor financiar securizat. Planuri personalizate de pensie cu avantaje fiscale i cretere pe termen lung.",icon:w.jsx(B1,{className:"h-12 w-12"}),features:["Avantaje fiscale","Contribuii flexibile","Pensie privat","Consultan gratuit"],badge:"",tier:"Bronze+"}],x_e=()=>{const t=Ip();return w.jsx("section",{id:"services",className:"py-20 bg-background",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-primary",children:"Servicii de Tranzacionare i Investiii"}),w.jsx("p",{className:"text-lg text-muted-foreground",children:"Platform complet de trading cu acces la peste 1000+ instrumente financiare. De la CFD-uri i crypto pn la aciuni clasice i fonduri de investiii - totul ntr-un singur loc."})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y_e.map((e,n)=>w.jsxs(Un,{className:"border-border bg-card hover:border-primary transition-all duration-300 group",children:[w.jsxs(Ri,{children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("div",{className:"text-primary group-hover:scale-110 transition-transform",children:e.icon}),e.badge&&w.jsx(jv,{variant:"secondary",className:"bg-primary text-primary-foreground",children:e.badge})]}),w.jsx(Ni,{className:"text-xl font-bold text-card-foreground",children:e.title}),w.jsx(ra,{className:"text-muted-foreground mt-2",children:e.description})]}),w.jsxs(Xn,{className:"space-y-4",children:[w.jsx("div",{className:"space-y-2",children:e.features.map((r,i)=>w.jsxs("div",{className:"flex items-start text-sm text-muted-foreground",children:[w.jsx("span",{className:"text-primary mr-2",children:""}),w.jsx("span",{children:r})]},i))}),w.jsxs("div",{className:"pt-4 border-t border-border",children:[w.jsxs("div",{className:"flex justify-between items-center mb-3",children:[w.jsx("span",{className:"text-sm text-muted-foreground",children:"Nivel necesar:"}),w.jsx(jv,{variant:"outline",className:"border-primary text-primary",children:e.tier})]}),w.jsx(Nt,{variant:"default",className:"w-full",onClick:()=>t("/subscriptions"),children:"Acceseaz Serviciul"})]})]})]},n))}),w.jsxs("div",{className:"text-center mt-12",children:[w.jsx("p",{className:"text-muted-foreground mb-4",children:"* Pentru a accesa serviciile de tranzacionare este necesar un abonament activ"}),w.jsx(Nt,{size:"lg",onClick:()=>t("/register"),className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"nregistreaz-te Acum"})]})]})})},b_e=[{title:"Tranzacionare CFD",description:"nva s tranzacionezi instrumente financiare cu efect de levier",icon:Ks,topics:["Forex","Mrfuri","Aciuni","Crypto","Indici","ETF"],color:"from-blue-500 to-cyan-500"},{title:"Tranzacionare Crypto",description:"Stpnete lumea criptomonedelor i a platformelor de trading",icon:B1,topics:["Stable Coin vs Altcoin","Wallets","Trading Platforms","Blockchain Basics"],color:"from-purple-500 to-pink-500"},{title:"Aciuni Clasice",description:"Fundamentele investiiilor n piaa de capital",icon:ure,topics:["Analiza fundamental","Analiza tehnic","Dividend investing","Growth stocks"],color:"from-green-500 to-emerald-500"},{title:"Fonduri de Investiii",description:"Diversific-i portofoliul prin investiii colective",icon:Sre,topics:["Fonduri mutuale","ETF-uri","Index funds","Managed portfolios"],color:"from-orange-500 to-red-500"},{title:"Asigurri Financiare",description:"Protejeaz-i averea i construiete un viitor sigur",icon:Ere,topics:["Asigurri de via","Asigurri asset","Wealth protection","Planificare financiar"],color:"from-indigo-500 to-purple-500"}],__e=()=>{const t=Ip();return w.jsx("section",{id:"learning",className:"py-20 bg-gradient-to-b from-background to-secondary/20",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[w.jsx(jv,{className:"mb-4 bg-primary/10 text-primary border-primary/20",children:"Educaie Financiar"}),w.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent",children:"Vreau S nv Despre..."}),w.jsx("p",{className:"text-lg text-muted-foreground",children:"Alege domeniul care te intereseaz i ncepe cltoria ta n lumea investiiilor. nregistreaz-te pentru acces complet la toate resursele educaionale."})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:b_e.map((e,n)=>{const r=e.icon;return w.jsxs(Un,{className:"group hover:shadow-2xl transition-all duration-300 border-2 hover:border-primary/50 bg-card/50 backdrop-blur",children:[w.jsxs(Ri,{children:[w.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${e.color} p-3 mb-4 group-hover:scale-110 transition-transform duration-300`,children:w.jsx(r,{className:"w-full h-full text-white"})}),w.jsx(Ni,{className:"text-xl mb-2",children:e.title}),w.jsx(ra,{className:"text-base",children:e.description})]}),w.jsxs(Xn,{children:[w.jsx("div",{className:"space-y-3 mb-6",children:e.topics.map((i,o)=>w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),w.jsx("span",{className:"text-sm text-foreground/80",children:i})]},o))}),w.jsx(Nt,{onClick:()=>t("/register"),className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:"Acceseaz Cursurile"})]})]},n)})}),w.jsxs("div",{className:"text-center mt-12",children:[w.jsx("p",{className:"text-muted-foreground mb-4",children:"Ai nevoie de acces complet pentru a vizualiza toate cursurile i materialele educaionale"}),w.jsx(Nt,{onClick:()=>t("/register"),size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"nregistreaz-te Acum"})]})]})})},w_e=()=>{const t=[{title:"Educaie Financiar",description:"Program complet de nvare pentru toi nivelurile de experien",icon:gT,color:"from-blue-500 to-cyan-500",features:[{icon:F1,text:"Cursuri complete"},{icon:mT,text:"Lecii interactive"},{icon:gT,text:"Testri de cunotine"},{icon:mT,text:"Articole specializate"},{icon:xre,text:"Joc interactiv educaional"}]},{title:"Mentoring Personalizat",description:"Suport direct de la experi n trading i investiii",icon:fV,color:"from-purple-500 to-pink-500",features:[{icon:d_,text:"edine 1:1 personalizate"},{icon:Mre,text:"Sesiuni n echip"},{icon:Pre,text:"Video-uri custom speciale"},{icon:Ks,text:"Trading mpreun"}]},{title:"Consultan & Parteneri",description:"Alegem mpreun cei mai buni parteneri pentru tine",icon:vT,color:"from-green-500 to-emerald-500",features:[{icon:vT,text:"Parteneri serioi cu reputaie"},{icon:mT,text:"Companii reglementate"},{icon:d_,text:"Consultan personalizat"},{icon:Ks,text:"Alegere bazat pe obiective"}]},{title:"Prop Trading Pass",description:"Consultanii notri trec fazele provocrii pentru tine",icon:Ks,color:"from-orange-500 to-red-500",features:[{icon:Ks,text:"Echip de traderi experi"},{icon:gT,text:"Strategii dovedite"},{icon:d_,text:"Suport continuu"},{icon:vT,text:"Parteneri prop verificai"}]}];return w.jsx("section",{id:"services",className:"py-20 bg-gradient-to-b from-background to-secondary/20",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[w.jsx(jv,{className:"mb-4 bg-primary/10 text-primary border-primary/20",children:"Serviciile Noastre"}),w.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent",children:"Servicii Markets4All"}),w.jsx("p",{className:"text-lg text-muted-foreground",children:"Soluii complete pentru educaie, mentoring i succes n trading i investiii"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto",children:t.map((e,n)=>{const r=e.icon;return w.jsxs(Un,{className:"group hover:shadow-2xl transition-all duration-300 border-2 hover:border-primary/50 bg-card/50 backdrop-blur",children:[w.jsxs(Ri,{children:[w.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${e.color} p-3 mb-4 group-hover:scale-110 transition-transform duration-300`,children:w.jsx(r,{className:"w-full h-full text-white"})}),w.jsx(Ni,{className:"text-2xl mb-2",children:e.title}),w.jsx(ra,{className:"text-base",children:e.description})]}),w.jsx(Xn,{children:w.jsx("ul",{className:"space-y-3",children:e.features.map((i,o)=>{const a=i.icon;return w.jsxs("li",{className:"flex items-center gap-3 text-foreground/80",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:w.jsx(a,{className:"w-4 h-4 text-primary"})}),w.jsx("span",{children:i.text})]},o)})})})]},n)})})]})})},S_e=[{name:"Mihai Ionescu",role:"Investitor retail",quote:"WealthPathway m-a ajutat s gsesc firma de investiii perfect pentru nevoile mele. Ca nceptor, eram copleit de opiuni, dar ndrumarea lor a fcut procesul simplu.",rating:5,investmentType:"Fonduri Mutuale",returns:"+12% n 8 luni"},{name:"Ana Popescu",role:"Profesionist IT",quote:"Aveam nite economii, dar nu tiam cum s investesc eficient. Instrumentul de comparaie m-a ajutat s aleg un serviciu aliniat cu tolerana mea la risc i obiectivele mele.",rating:5,investmentType:"ETF-uri tech",returns:"+18% n 1 an"},{name:"Robert Popa",role:"Proprietar de afacere mic",quote:"Ca cineva cu timp limitat pentru a cerceta investiiile, serviciul de consultan WealthPathway a fost inestimabil. M-au conectat cu o firm care a neles nevoile afacerii mele.",rating:4,investmentType:"Aciuni cu dividende",returns:"+10% n 6 luni"}],E_e=()=>w.jsx("section",{className:"py-20 bg-gray-900",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-gold-500",children:"Povetile de Succes ale Clienilor"}),w.jsx("p",{className:"text-lg text-gray-300",children:"Ascult de la investitorii care i-au gsit potrivirea perfect prin serviciile noastre de consultan. Am ajutat mii de clieni de toate nivelurile de experien s-i dezvolte averea."})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:S_e.map((t,e)=>w.jsx(Un,{className:"bg-black border border-gray-800 hover:border-gold-500 transition-all duration-300",children:w.jsxs(Xn,{className:"p-6",children:[w.jsx("div",{className:"flex mb-4",children:[...Array(5)].map((n,r)=>w.jsx(Are,{className:`h-5 w-5 ${r<t.rating?"fill-gold-500 text-gold-500":"text-gray-700"}`},r))}),w.jsxs("blockquote",{className:"text-gray-300 italic mb-6",children:['"',t.quote,'"']}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-white",children:t.name}),w.jsx("p",{className:"text-sm text-gray-400",children:t.role})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-sm text-gray-400",children:t.investmentType}),w.jsx("p",{className:"font-medium text-gold-500",children:t.returns})]})]})]})},e))})]})});var BI="Tabs",[A_e,_6e]=Fc(BI,[Z1]),Zq=Z1(),[T_e,zI]=A_e(BI),Qq=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=t,u=K1(s),[d,f]=Pc({prop:r,onChange:i,defaultProp:o});return w.jsx(T_e,{scope:n,baseId:us(),value:d,onValueChange:f,orientation:a,dir:u,activationMode:l,children:w.jsx(Et.div,{dir:u,"data-orientation":a,...c,ref:e})})});Qq.displayName=BI;var eX="TabsList",tX=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=zI(eX,n),a=Zq(n);return w.jsx(w6,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:w.jsx(Et.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});tX.displayName=eX;var nX="TabsTrigger",rX=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,a=zI(nX,n),s=Zq(n),l=aX(a.baseId,r),c=sX(a.baseId,r),u=r===a.value;return w.jsx(S6,{asChild:!0,...s,focusable:!i,active:u,children:w.jsx(Et.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:ze(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:ze(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:ze(t.onFocus,()=>{const d=a.activationMode!=="manual";!u&&!i&&d&&a.onValueChange(r)})})})});rX.displayName=nX;var iX="TabsContent",oX=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=t,s=zI(iX,n),l=aX(s.baseId,r),c=sX(s.baseId,r),u=r===s.value,d=C.useRef(u);return C.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),w.jsx(sa,{present:i||u,children:({present:f})=>w.jsx(Et.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&o})})});oX.displayName=iX;function aX(t,e){return`${t}-trigger-${e}`}function sX(t,e){return`${t}-content-${e}`}var M_e=Qq,lX=tX,cX=rX,uX=oX;const $I=M_e,LS=C.forwardRef(({className:t,...e},n)=>w.jsx(lX,{ref:n,className:ut("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));LS.displayName=lX.displayName;const yd=C.forwardRef(({className:t,...e},n)=>w.jsx(cX,{ref:n,className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));yd.displayName=cX.displayName;const xd=C.forwardRef(({className:t,...e},n)=>w.jsx(uX,{ref:n,className:ut("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));xd.displayName=uX.displayName;const lr=C.forwardRef(({className:t,type:e,...n},r)=>w.jsx("input",{type:e,className:ut("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));lr.displayName="Input";const dX=C.forwardRef(({className:t,...e},n)=>w.jsx("textarea",{className:ut("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));dX.displayName="Textarea";const P_e=()=>{const{toast:t}=Ty(),[e,n]=C.useState({firstName:"",lastName:"",email:"",phone:"",goals:""}),[r,i]=C.useState({amount:"",riskTolerance:"medium",experience:"beginner",email:""}),o=s=>{if(s.preventDefault(),!e.email||!e.firstName||!e.lastName){t({variant:"destructive",title:"Eroare",description:"Te rugm s completezi toate cmpurile obligatorii."});return}const l=`mailto:contact@markets4all.ro?subject=Solicitare consultan - ${e.firstName} ${e.lastName}&body=Nume: ${e.firstName} ${e.lastName}%0D%0AEmail: ${e.email}%0D%0ATelefon: ${e.phone}%0D%0AObiecte investiii: ${e.goals}`;window.open(l),t({title:"Solicitare trimis!",description:"Te vom contacta n curnd pentru programarea consultanei."}),n({firstName:"",lastName:"",email:"",phone:"",goals:""})},a=s=>{if(s.preventDefault(),!r.email||!r.amount){t({variant:"destructive",title:"Eroare",description:"Te rugm s completezi toate cmpurile obligatorii."});return}const l=`mailto:contact@markets4all.ro?subject=Potrivire rapid investiii&body=Email: ${r.email}%0D%0ASuma investiie: ${r.amount}%0D%0AToleranta risc: ${r.riskTolerance}%0D%0AExperien: ${r.experience}`;window.open(l),t({title:"Cerere trimis!",description:"i vom trimite recomandrile personalizate pe email n scurt timp."}),i({amount:"",riskTolerance:"medium",experience:"beginner",email:""})};return w.jsx("section",{id:"contact",className:"py-20 bg-gray-900 text-white",children:w.jsx("div",{className:"container mx-auto px-4",children:w.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12",children:[w.jsxs("div",{className:"lg:w-1/2",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-gold-500",children:"Pregtit s-i gseti potrivirea pentru investiii?"}),w.jsx("p",{className:"text-lg mb-8 text-gray-300 max-w-xl",children:"Consultanii notri experi vor analiza obiectivele tale financiare, tolerana la risc i resursele pentru a te conecta cu partenerul perfect de investiii."}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-start",children:[w.jsx("div",{className:"bg-black/50 p-3 rounded-full mr-4 border border-gold-500",children:w.jsx(Ks,{className:"h-6 w-6 text-gold-500"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Recomandri personalizate"}),w.jsx("p",{className:"text-gray-300",children:"Obine opiuni de investiii personalizate bazate pe situaia i obiectivele tale financiare unice."})]})]}),w.jsxs("div",{className:"flex items-start",children:[w.jsx("div",{className:"bg-black/50 p-3 rounded-full mr-4 border border-gold-500",children:w.jsx(sV,{className:"h-6 w-6 text-gold-500"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Fr taxe ascunse"}),w.jsx("p",{className:"text-gray-300",children:"Serviciul nostru de consultan este complet transparent, fr costuri ascunse sau obligaii."})]})]})]})]}),w.jsx("div",{className:"lg:w-1/2 w-full",children:w.jsx(Un,{className:"bg-black border border-gray-800",children:w.jsx(Xn,{className:"p-6",children:w.jsxs($I,{defaultValue:"consult",children:[w.jsxs(LS,{className:"grid w-full grid-cols-2 mb-6 bg-gray-800",children:[w.jsx(yd,{value:"consult",className:"data-[state=active]:bg-gold-500 data-[state=active]:text-black",children:"Solicit Consultan"}),w.jsx(yd,{value:"match",className:"data-[state=active]:bg-gold-500 data-[state=active]:text-black",children:"Potrivire Rapid"})]}),w.jsx(xd,{value:"consult",className:"space-y-4",children:w.jsxs("form",{onSubmit:o,className:"space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsx(lr,{placeholder:"Prenume",value:e.firstName,onChange:s=>n({...e,firstName:s.target.value}),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-400",required:!0}),w.jsx(lr,{placeholder:"Nume",value:e.lastName,onChange:s=>n({...e,lastName:s.target.value}),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-400",required:!0})]}),w.jsx(lr,{type:"email",placeholder:"Adres de email",value:e.email,onChange:s=>n({...e,email:s.target.value}),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-400",required:!0}),w.jsx(lr,{type:"tel",placeholder:"Numr de telefon",value:e.phone,onChange:s=>n({...e,phone:s.target.value}),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-400"}),w.jsx(dX,{placeholder:"Spune-ne despre obiectivele tale de investiii...",value:e.goals,onChange:s=>n({...e,goals:s.target.value}),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-400",rows:4}),w.jsxs(Nt,{type:"submit",className:"w-full bg-gold-500 hover:bg-gold-600 text-black font-semibold",children:["Programeaz consultan ",w.jsx(vs,{className:"ml-2 h-5 w-5"})]})]})}),w.jsx(xd,{value:"match",className:"space-y-4",children:w.jsxs("form",{onSubmit:a,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block mb-2 text-sm",children:"Suma de investit"}),w.jsx(lr,{placeholder:"1.000 lei",value:r.amount,onChange:s=>i({...r,amount:s.target.value}),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-400",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block mb-2 text-sm",children:"Toleran la risc"}),w.jsxs("select",{value:r.riskTolerance,onChange:s=>i({...r,riskTolerance:s.target.value}),className:"w-full bg-gray-800 border-gray-700 text-white rounded-md p-2",children:[w.jsx("option",{value:"low",children:"Conservator"}),w.jsx("option",{value:"medium",children:"Moderat"}),w.jsx("option",{value:"high",children:"Agresiv"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block mb-2 text-sm",children:"Experien n investiii"}),w.jsxs("select",{value:r.experience,onChange:s=>i({...r,experience:s.target.value}),className:"w-full bg-gray-800 border-gray-700 text-white rounded-md p-2",children:[w.jsx("option",{value:"beginner",children:"nceptor"}),w.jsx("option",{value:"intermediate",children:"Intermediar"}),w.jsx("option",{value:"advanced",children:"Avansat"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block mb-2 text-sm",children:"Adres de email"}),w.jsx(lr,{type:"email",placeholder:"email@tau.ro",value:r.email,onChange:s=>i({...r,email:s.target.value}),className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-400",required:!0})]}),w.jsxs(Nt,{type:"submit",className:"w-full bg-gold-500 hover:bg-gold-600 text-black font-semibold",children:["Gsete potrivirea mea ",w.jsx(vs,{className:"ml-2 h-5 w-5"})]})]})})]})})})})]})})})},C_e=()=>{const t=[{name:"Arman Cristian Hosseinzadeh",role:"Fondator & CEO",description:"Cu peste 10 ani de experien n domeniul investiiilor, Arman a fondat Markets4all cu misiunea de a democratiza accesul la educaie financiar i oportuniti de investiii pentru toat lumea.",image:"/lovable-uploads/fedca4a0-09b5-4aa2-a404-541005ccc0d6.png"},{name:"Ana Popescu",role:"Director Educaie Financiar",description:"Expert n educaie financiar cu peste 8 ani de experien n training i dezvoltare de programe educaionale personalizate pentru investitori de toate nivelurile.",image:"https://randomuser.me/api/portraits/women/45.jpg"},{name:"Mihai Dumitrescu",role:"Analist Financiar Senior",description:"Specialist n analiz tehnic i fundamental, cu expertiz n piaa valutar i aciuni internaionale. Certificat CFA nivel III.",image:"https://randomuser.me/api/portraits/men/32.jpg"}];return w.jsx("section",{id:"about",className:"py-20 bg-black",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 mb-16",children:[w.jsxs("div",{className:"lg:w-1/2",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-gold-500",children:"Despre Markets4all"}),w.jsx("p",{className:"text-lg mb-8 text-gray-300",children:"Markets4all a fost fondat n 2020 cu o misiune simpl: s demistifice investiiile i s conecteze oamenii cu partenerii financiari potrivii, n funcie de nevoile lor unice."}),w.jsxs("div",{className:"space-y-6 text-gray-300",children:[w.jsx("p",{children:"Echipa noastr de experi financiari are peste 50 de ani de experien combinat n industria investiiilor. Am verificat cu atenie fiecare dintre companiile noastre partenere pentru a ne asigura c ndeplinesc standardele noastre stricte de performan, transparen i servicii pentru clieni."}),w.jsx("p",{children:"Spre deosebire de firmele tradiionale de investiii, nu promovm o abordare universal. Credem c cltoria financiar a fiecruia este unic, iar serviciul nostru de consultan este conceput pentru a gsi potrivirea perfect pentru situaia ta specific."}),w.jsx("p",{children:"Fie c abia ncepi cu o sum mic pentru investiii sau caui s optimizezi un portofoliu substanial, Markets4all ofer ndrumarea i conexiunile de care ai nevoie pentru a reui."})]})]}),w.jsxs("div",{className:"lg:w-1/2 grid grid-cols-2 gap-4",children:[w.jsx(Un,{className:"bg-gray-900 border border-gray-800 hover:border-gold-500 transition-all duration-300",children:w.jsxs(Xn,{className:"p-6 text-center",children:[w.jsx("div",{className:"text-4xl font-bold text-gold-500 mb-2",children:"15+"}),w.jsx("p",{className:"text-gray-300",children:"Companii Partenere"})]})}),w.jsx(Un,{className:"bg-gray-900 border border-gray-800 hover:border-gold-500 transition-all duration-300",children:w.jsxs(Xn,{className:"p-6 text-center",children:[w.jsx("div",{className:"text-4xl font-bold text-gold-500 mb-2",children:"5,000+"}),w.jsx("p",{className:"text-gray-300",children:"Clieni Conectai"})]})}),w.jsx(Un,{className:"bg-gray-900 border border-gray-800 hover:border-gold-500 transition-all duration-300",children:w.jsxs(Xn,{className:"p-6 text-center",children:[w.jsx("div",{className:"text-4xl font-bold text-gold-500 mb-2",children:"250M+"}),w.jsx("p",{className:"text-gray-300",children:"Active Administrate"})]})}),w.jsx(Un,{className:"bg-gray-900 border border-gray-800 hover:border-gold-500 transition-all duration-300",children:w.jsxs(Xn,{className:"p-6 text-center",children:[w.jsx("div",{className:"text-4xl font-bold text-gold-500 mb-2",children:"98%"}),w.jsx("p",{className:"text-gray-300",children:"Satisfacia Clienilor"})]})})]})]}),w.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-10 text-gold-500 text-center",children:"Echipa Noastr"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,n)=>w.jsx(Un,{className:"bg-gray-900 border border-gray-800 hover:border-gold-500 transition-all duration-300",children:w.jsx(Xn,{className:"p-6",children:w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden mb-4 border-2 border-gold-500",children:w.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),w.jsx("h4",{className:"text-xl font-bold text-white mb-1",children:e.name}),w.jsx("p",{className:"text-gold-500 mb-3",children:e.role}),w.jsx("p",{className:"text-gray-300 text-center",children:e.description})]})})},n))})]})})};var O_e="Separator",iB="horizontal",R_e=["horizontal","vertical"],fX=C.forwardRef((t,e)=>{const{decorative:n,orientation:r=iB,...i}=t,o=N_e(r)?r:iB,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return w.jsx(Et.div,{"data-orientation":o,...s,...i,ref:e})});fX.displayName=O_e;function N_e(t){return R_e.includes(t)}var hX=fX;const HI=C.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>w.jsx(hX,{ref:i,decorative:n,orientation:e,className:ut("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));HI.displayName=hX.displayName;const qc=()=>w.jsx("footer",{className:"bg-black text-white py-12",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[w.jsxs("div",{children:[w.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Markets",w.jsx("span",{className:"text-gold-500",children:"4all"})]}),w.jsx("p",{className:"text-gray-400 mb-4",children:"Promovm educaia financiar i o nou viziune asupra banilor. Fiecare persoan merit s nvee cum s investeasc, indiferent de buget."}),w.jsxs("div",{className:"flex space-x-4",children:[w.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:[w.jsx("span",{className:"sr-only",children:"Facebook"}),w.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),w.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:[w.jsx("span",{className:"sr-only",children:"Twitter"}),w.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:w.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),w.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:[w.jsx("span",{className:"sr-only",children:"LinkedIn"}),w.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Servicii"}),w.jsxs("ul",{className:"space-y-2",children:[w.jsx("li",{children:w.jsx("a",{href:"#services",className:"text-gray-400 hover:text-gold-500",children:"Opiuni de Investiii"})}),w.jsx("li",{children:w.jsx("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:"Educaie Financiar"})}),w.jsx("li",{children:w.jsx("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:"Consultan Personalizat"})}),w.jsx("li",{children:w.jsx("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:"Planificare Portofoliu"})}),w.jsx("li",{children:w.jsx("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:"Analize de Pia"})})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Companii"}),w.jsxs("ul",{className:"space-y-2",children:[w.jsx("li",{children:w.jsx("a",{href:"#companies",className:"text-gray-400 hover:text-gold-500",children:"Partenerii Notri"})}),w.jsx("li",{children:w.jsx("a",{href:"#comparison",className:"text-gray-400 hover:text-gold-500",children:"Compar Servicii"})}),w.jsx("li",{children:w.jsx("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:"Devino Partener"})}),w.jsx("li",{children:w.jsx("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:"Poveti de Succes"})})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Cont"}),w.jsxs("ul",{className:"space-y-2",children:[w.jsx("li",{children:w.jsx(_i,{to:"/login",className:"text-gray-400 hover:text-gold-500",children:"Autentificare"})}),w.jsx("li",{children:w.jsx(_i,{to:"/register",className:"text-gray-400 hover:text-gold-500",children:"nregistrare"})}),w.jsx("li",{children:w.jsx("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:"Profil Personal"})}),w.jsx("li",{children:w.jsx("a",{href:"#",className:"text-gray-400 hover:text-gold-500",children:"Asisten"})})]})]})]}),w.jsx(HI,{className:"bg-gray-800 my-8"}),w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[w.jsx("p",{className:"text-gray-500 text-sm",children:" 2025 Markets4all. Toate drepturile rezervate."}),w.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[w.jsx("a",{href:"#",className:"text-gray-500 hover:text-gold-500 text-sm",children:"Politic de confidenialitate"}),w.jsx("a",{href:"#",className:"text-gray-500 hover:text-gold-500 text-sm",children:"Termeni i condiii"}),w.jsx("a",{href:"#",className:"text-gray-500 hover:text-gold-500 text-sm",children:"Politic de cookies"})]})]})]})}),I_e=[{id:1,title:"Bazele investiiilor n aciuni",description:"Afl cum s evaluezi i s selectezi aciuni pentru portofoliul tu de investiii.",icon:w.jsx(Ks,{className:"h-8 w-8 text-gold-500"}),category:"Aciuni",readTime:"8 min"},{id:2,title:"Analiza tehnic vs. fundamental",description:"Compar cele dou metode principale de analiz a pieei i afl care i se potrivete.",icon:w.jsx(aN,{className:"h-8 w-8 text-gold-500"}),category:"Forex",readTime:"10 min"},{id:3,title:"Investiii n ETF-uri",description:"Descoper avantajele investiiei n fonduri tranzacionate la burs i strategii de selecie.",icon:w.jsx(iV,{className:"h-8 w-8 text-gold-500"}),category:"ETF-uri",readTime:"7 min"},{id:4,title:"Piaa mrfurilor: Ghid pentru nceptori",description:"Exploreaz modul n care funcioneaz piaa mrfurilor i cum poi investi n aur, petrol i alte mrfuri.",icon:w.jsx(B1,{className:"h-8 w-8 text-gold-500"}),category:"Mrfuri",readTime:"9 min"},{id:5,title:"Criptomonede: Riscuri i oportuniti",description:"Analizeaz potenialul de cretere al criptomonedelor, precum i riscurile asociate.",icon:w.jsx(lV,{className:"h-8 w-8 text-gold-500"}),category:"Crypto",readTime:"12 min"},{id:6,title:"Construirea unui portofoliu diversificat",description:"nva cum s-i diversifici portofoliul pentru a maximiza profitul i a minimiza riscurile.",icon:w.jsx(F1,{className:"h-8 w-8 text-gold-500"}),category:"Portofoliu",readTime:"11 min"}],k_e=()=>w.jsx("section",{id:"educational",className:"py-20 bg-gradient-to-b from-black to-gray-900",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Educaie Financiar"}),w.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Descoper articolele noastre educaionale pentru a-i mbunti cunotinele despre investiii i piee financiare."})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I_e.map(t=>w.jsxs(Un,{className:"bg-gray-800 border-gray-700 hover:border-gold-500 transition-all card-hover",children:[w.jsxs(Ri,{children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.icon,w.jsxs("span",{className:"text-xs font-medium bg-gray-700 px-2 py-1 rounded-full text-gray-300",children:[t.category,"  ",t.readTime]})]}),w.jsx(Ni,{className:"text-white text-xl",children:t.title}),w.jsx(ra,{className:"text-gray-400",children:t.description})]}),w.jsx(Sh,{children:w.jsx(Nt,{variant:"outline",className:"w-full border-gold-500 text-gold-500 hover:bg-gold-500 hover:text-black",children:"Citete articolul"})})]},t.id))}),w.jsx("div",{className:"text-center mt-12",children:w.jsx(_i,{to:"/dashboard",children:w.jsxs(Nt,{className:"bg-gold-500 hover:bg-gold-600 text-black font-semibold",children:[w.jsx(F1,{className:"mr-2 h-4 w-4"}),"Acceseaz toate materialele educaionale"]})})})]})}),L_e=()=>w.jsx("section",{className:"py-20 bg-black text-white border-t border-gray-800",children:w.jsx("div",{className:"container mx-auto px-4",children:w.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-10",children:[w.jsxs("div",{className:"md:w-1/2",children:[w.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:["Altur-te echipei ",w.jsx("span",{className:"text-gold-500",children:"Markets4all"})]}),w.jsxs("div",{className:"space-y-6 text-gray-300",children:[w.jsx("p",{className:"text-lg",children:"Suntem n continu cretere i cutm talente care mprtesc viziunea noastr de a democratiza accesul la investiii pentru toi romnii."}),w.jsxs("div",{className:"flex items-start",children:[w.jsx("div",{className:"bg-gold-500/10 p-3 rounded-lg mr-4",children:w.jsx(fV,{className:"h-6 w-6 text-gold-500"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-semibold mb-1 text-white",children:"Cultur deschis i incluziv"}),w.jsx("p",{children:"Valorificm diversitatea de idei i promovm un mediu de lucru colaborativ."})]})]}),w.jsxs("div",{className:"flex items-start",children:[w.jsx("div",{className:"bg-gold-500/10 p-3 rounded-lg mr-4",children:w.jsx(rV,{className:"h-6 w-6 text-gold-500"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-semibold mb-1 text-white",children:"Dezvoltare continu"}),w.jsx("p",{children:"Oferim oportuniti de nvare i cretere profesional n domeniul financiar."})]})]}),w.jsx("div",{className:"pt-4",children:w.jsx(_i,{to:"/careers",children:w.jsxs(Nt,{size:"lg",className:"bg-gold-500 hover:bg-gold-600 text-black font-semibold",children:["Vezi poziiile disponibile ",w.jsx(vs,{className:"ml-2 h-5 w-5"})]})})})]})]}),w.jsx("div",{className:"md:w-1/2 bg-gray-900 rounded-xl overflow-hidden border border-gray-800",children:w.jsxs("div",{className:"p-8",children:[w.jsx("h3",{className:"text-2xl font-bold mb-4 text-gold-500",children:"Descoper-i viitoarea carier"}),w.jsx("p",{className:"mb-6 text-gray-300",children:"Indiferent dac eti expert n analiz financiar, pasionat de educaie n investiii sau specialist n marketing, avem o poziie potrivit pentru tine."}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"bg-black/50 p-4 rounded-lg border border-gray-800 hover:border-gold-500 transition-colors",children:[w.jsx("h4",{className:"font-semibold",children:"Analist Financiar"}),w.jsx("p",{className:"text-sm text-gray-400",children:"Bucureti | Full-time"})]}),w.jsxs("div",{className:"bg-black/50 p-4 rounded-lg border border-gray-800 hover:border-gold-500 transition-colors",children:[w.jsx("h4",{className:"font-semibold",children:"Consultant Investiii"}),w.jsx("p",{className:"text-sm text-gray-400",children:"Cluj-Napoca | Full-time"})]}),w.jsxs("div",{className:"bg-black/50 p-4 rounded-lg border border-gray-800 hover:border-gold-500 transition-colors",children:[w.jsx("h4",{className:"font-semibold",children:"Content Creator Educaie Financiar"}),w.jsx("p",{className:"text-sm text-gray-400",children:"Remote | Part-time"})]})]}),w.jsx("div",{className:"mt-6",children:w.jsx(_i,{to:"/careers",children:w.jsx(Nt,{variant:"outline",className:"w-full border-gold-500 text-white hover:bg-gold-500 hover:text-black",children:"Vezi toate poziiile disponibile"})})})]})})]})})}),D_e=()=>w.jsxs("div",{className:"min-h-screen bg-black text-white",children:[w.jsx(zc,{}),w.jsxs("main",{children:[w.jsx(g_e,{}),w.jsx(x_e,{}),w.jsx(__e,{}),w.jsx(w_e,{}),w.jsx(k_e,{}),w.jsx(E_e,{}),w.jsx(C_e,{}),w.jsx(L_e,{}),w.jsx(P_e,{})]}),w.jsx(qc,{})]}),j_e=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,o]=C.useState(!1),[a,s]=C.useState(!1),[l,c]=C.useState({}),u=Ip();Ty();const d=()=>{const p={};return t.trim()||(p.email="Email-ul este obligatoriu"),n||(p.password="Parola este obligatorie"),c(p),Object.keys(p).length===0},f=async p=>{if(p.preventDefault(),!!d()){s(!0);try{const{data:g,error:y}=await Dv.auth.signInWithPassword({email:t,password:n});if(y){c({login:"Email sau parol incorecte"});return}i?localStorage.setItem("rememberedEmail",t):localStorage.removeItem("rememberedEmail"),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userEmail",t),Wi("Autentificare reuit",{description:"Bine ai revenit la Markets4all!"}),u("/dashboard")}catch{c({login:"A aprut o eroare la autentificare. Te rugm s ncerci din nou."})}finally{s(!1)}}};return C.useEffect(()=>{const p=localStorage.getItem("rememberedEmail");p&&(e(p),o(!0))},[]),w.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[w.jsx(zc,{}),w.jsx("div",{className:"flex-grow flex items-center justify-center py-20",children:w.jsx("div",{className:"w-full max-w-md mx-auto px-4",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute -left-20 -top-20 w-64 h-64 bg-gold-500/10 rounded-full blur-3xl"}),w.jsx("div",{className:"absolute -right-20 -bottom-20 w-64 h-64 bg-gold-500/10 rounded-full blur-3xl"}),w.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-8 rounded-xl shadow-xl relative z-10",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Autentificare"}),w.jsx("p",{className:"text-gray-400",children:"Intr n contul tu Markets4all"})]}),l.login&&w.jsx("div",{className:"bg-red-900/30 border border-red-800 p-3 rounded-md mb-6 text-center",children:w.jsx("p",{className:"text-red-300",children:l.login})}),w.jsxs("form",{className:"space-y-6",onSubmit:f,children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yo,{htmlFor:"email",children:"Email"}),w.jsxs("div",{className:"relative",children:[w.jsx(lr,{id:"email",type:"email",placeholder:"nume@exemplu.com",className:"pl-10 bg-gray-800 border-gray-700 text-white",value:t,onChange:p=>e(p.target.value),disabled:a}),w.jsx(rv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]}),l.email&&w.jsx("p",{className:"text-red-500 text-sm",children:l.email})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx(Yo,{htmlFor:"password",children:"Parol"}),w.jsx(_i,{to:"/reset-password",className:"text-sm text-gold-500 hover:underline",children:"Ai uitat parola?"})]}),w.jsxs("div",{className:"relative",children:[w.jsx(lr,{id:"password",type:"password",placeholder:"",className:"pl-10 bg-gray-800 border-gray-700 text-white",value:n,onChange:p=>r(p.target.value),disabled:a}),w.jsx(cV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]}),l.password&&w.jsx("p",{className:"text-red-500 text-sm",children:l.password})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx(iS,{id:"remember",checked:i,onCheckedChange:p=>o(p===!0),disabled:a}),w.jsx("label",{htmlFor:"remember",className:"text-sm text-gray-300 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"ine-m autentificat"})]}),w.jsxs(Nt,{type:"submit",className:"w-full bg-gold-500 hover:bg-gold-600 text-black",disabled:a,children:[a?"Se proceseaz...":"Autentificare"," ",w.jsx(vs,{className:"ml-2 h-4 w-4"})]})]}),w.jsx("div",{className:"mt-6 text-center text-sm text-gray-400",children:w.jsxs("p",{children:["Nu ai un cont nc?"," ",w.jsx(_i,{to:"/register",className:"text-gold-500 hover:underline",children:"nregistreaz-te"})]})})]})]})})}),w.jsx(qc,{})]})},U_e=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,o]=C.useState(""),[a,s]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState(""),[f,p]=C.useState(!1),[g,y]=C.useState(!1),[x,v]=C.useState({}),b=Ip();Ty();const _=()=>{const A={};return t.trim()||(A.firstName="Prenumele este obligatoriu"),n.trim()||(A.lastName="Numele este obligatoriu"),i.trim()?/\S+@\S+\.\S+/.test(i)||(A.email="Adresa de email nu este valid"):A.email="Email-ul este obligatoriu",a.trim()?/^[+]?[\d\s-()]{10,}$/.test(a.replace(/\s/g,""))||(A.phone="Numrul de telefon nu este valid"):A.phone="Numrul de telefon este obligatoriu",l?l.length<6&&(A.password="Parola trebuie s aib cel puin 6 caractere"):A.password="Parola este obligatorie",l!==u&&(A.confirmPassword="Parolele nu corespund"),f||(A.terms="Trebuie s accepi termenii i condiiile"),v(A),Object.keys(A).length===0},S=async A=>{if(A.preventDefault(),!!_()){y(!0);try{const{data:M,error:P}=await Dv.auth.signUp({email:i,password:l,options:{emailRedirectTo:`${window.location.origin}/`,data:{first_name:t,last_name:n,phone:a}}});if(P){P.message.includes("already registered")?v({email:"Acest email este deja nregistrat"}):v({submit:P.message});return}Wi("nregistrare reuit!",{description:"Contul tu a fost creat cu succes."}),b("/login")}catch{v({submit:"A aprut o eroare la nregistrare. Te rugm s ncerci din nou."})}finally{y(!1)}}};return w.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[w.jsx(zc,{}),w.jsx("div",{className:"flex-grow flex items-center justify-center py-20",children:w.jsx("div",{className:"w-full max-w-md mx-auto px-4",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute -left-20 -top-20 w-64 h-64 bg-gold-500/10 rounded-full blur-3xl"}),w.jsx("div",{className:"absolute -right-20 -bottom-20 w-64 h-64 bg-gold-500/10 rounded-full blur-3xl"}),w.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-8 rounded-xl shadow-xl relative z-10",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Creeaz un cont"}),w.jsx("p",{className:"text-gray-400",children:"ncepe cltoria ta de investiii cu Markets4all"})]}),x.submit&&w.jsx("div",{className:"bg-red-900/30 border border-red-800 p-3 rounded-md mb-6 text-center",children:w.jsx("p",{className:"text-red-300",children:x.submit})}),w.jsxs("form",{className:"space-y-6",onSubmit:S,children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yo,{htmlFor:"firstName",children:"Prenume"}),w.jsxs("div",{className:"relative",children:[w.jsx(lr,{id:"firstName",type:"text",placeholder:"Ion",className:"pl-10 bg-gray-800 border-gray-700 text-white",value:t,onChange:A=>e(A.target.value),disabled:g}),w.jsx(oC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]}),x.firstName&&w.jsx("p",{className:"text-red-500 text-sm",children:x.firstName})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yo,{htmlFor:"lastName",children:"Nume"}),w.jsxs("div",{className:"relative",children:[w.jsx(lr,{id:"lastName",type:"text",placeholder:"Popescu",className:"pl-10 bg-gray-800 border-gray-700 text-white",value:n,onChange:A=>r(A.target.value),disabled:g}),w.jsx(oC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]}),x.lastName&&w.jsx("p",{className:"text-red-500 text-sm",children:x.lastName})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yo,{htmlFor:"email",children:"Email"}),w.jsxs("div",{className:"relative",children:[w.jsx(lr,{id:"email",type:"email",placeholder:"nume@exemplu.com",className:"pl-10 bg-gray-800 border-gray-700 text-white",value:i,onChange:A=>o(A.target.value),disabled:g}),w.jsx(rv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]}),x.email&&w.jsx("p",{className:"text-red-500 text-sm",children:x.email})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yo,{htmlFor:"phone",children:"Numr de telefon"}),w.jsxs("div",{className:"relative",children:[w.jsx(lr,{id:"phone",type:"tel",placeholder:"+40 123 456 789",className:"pl-10 bg-gray-800 border-gray-700 text-white",value:a,onChange:A=>s(A.target.value),disabled:g}),w.jsx(u_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]}),x.phone&&w.jsx("p",{className:"text-red-500 text-sm",children:x.phone})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yo,{htmlFor:"password",children:"Parol"}),w.jsxs("div",{className:"relative",children:[w.jsx(lr,{id:"password",type:"password",placeholder:"",className:"pl-10 bg-gray-800 border-gray-700 text-white",value:l,onChange:A=>c(A.target.value),disabled:g}),w.jsx(cV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]}),x.password&&w.jsx("p",{className:"text-red-500 text-sm",children:x.password})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yo,{htmlFor:"confirm-password",children:"Confirm parola"}),w.jsxs("div",{className:"relative",children:[w.jsx(lr,{id:"confirm-password",type:"password",placeholder:"",className:"pl-10 bg-gray-800 border-gray-700 text-white",value:u,onChange:A=>d(A.target.value),disabled:g}),w.jsx(d_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"})]}),x.confirmPassword&&w.jsx("p",{className:"text-red-500 text-sm",children:x.confirmPassword})]}),w.jsxs("div",{className:"flex items-start space-x-2",children:[w.jsx(iS,{id:"terms",checked:f,onCheckedChange:A=>p(A===!0),disabled:g}),w.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-300 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["Sunt de acord cu ",w.jsx("a",{href:"#",className:"text-gold-500 hover:underline",children:"Termenii i Condiiile"})]})]}),x.terms&&w.jsx("p",{className:"text-red-500 text-sm",children:x.terms}),w.jsxs(Nt,{type:"submit",className:"w-full bg-gold-500 hover:bg-gold-600 text-black",disabled:g,children:[g?"Se proceseaz...":"Creeaz cont"," ",w.jsx(vs,{className:"ml-2 h-4 w-4"})]})]}),w.jsx("div",{className:"mt-6 text-center text-sm text-gray-400",children:w.jsxs("p",{children:["Ai deja un cont?"," ",w.jsx(_i,{to:"/login",className:"text-gold-500 hover:underline",children:"Autentific-te"})]})})]})]})})}),w.jsx(qc,{})]})};function oB(t,[e,n]){return Math.min(n,Math.max(e,t))}var F_e=[" ","Enter","ArrowUp","ArrowDown"],B_e=[" ","Enter"],Xy="Select",[DS,jS,z_e]=L1(Xy),[zp,w6e]=Fc(Xy,[z_e,Rp]),US=Rp(),[$_e,Xc]=zp(Xy),[H_e,V_e]=zp(Xy),pX=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p,form:g}=t,y=US(e),[x,v]=C.useState(null),[b,_]=C.useState(null),[S,A]=C.useState(!1),M=K1(c),[P=!1,N]=Pc({prop:r,defaultProp:i,onChange:o}),[R,I]=Pc({prop:a,defaultProp:s,onChange:l}),D=C.useRef(null),U=x?g||!!x.closest("form"):!0,[X,j]=C.useState(new Set),W=Array.from(X).map(H=>H.props.value).join(";");return w.jsx(HV,{...y,children:w.jsxs($_e,{required:p,scope:e,trigger:x,onTriggerChange:v,valueNode:b,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:A,contentId:us(),value:R,onValueChange:I,open:P,onOpenChange:N,dir:M,triggerPointerDownPosRef:D,disabled:f,children:[w.jsx(DS.Provider,{scope:e,children:w.jsx(H_e,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(H=>{j(Y=>new Set(Y).add(H))},[]),onNativeOptionRemove:C.useCallback(H=>{j(Y=>{const k=new Set(Y);return k.delete(H),k})},[]),children:n})}),U?w.jsxs(FX,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:R,onChange:H=>I(H.target.value),disabled:f,form:g,children:[R===void 0?w.jsx("option",{value:""}):null,Array.from(X)]},W):null]})})};pX.displayName=Xy;var mX="SelectTrigger",gX=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=US(n),a=Xc(mX,n),s=a.disabled||r,l=tn(e,a.onTriggerChange),c=jS(n),u=C.useRef("touch"),[d,f,p]=BX(y=>{const x=c().filter(_=>!_.disabled),v=x.find(_=>_.value===a.value),b=zX(x,y,v);b!==void 0&&a.onValueChange(b.value)}),g=y=>{s||(a.onOpenChange(!0),p()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return w.jsx(gN,{asChild:!0,...o,children:w.jsx(Et.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":UX(a.value)?"":void 0,...i,ref:l,onClick:ze(i.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&g(y)}),onPointerDown:ze(i.onPointerDown,y=>{u.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:ze(i.onKeyDown,y=>{const x=d.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(x&&y.key===" ")&&F_e.includes(y.key)&&(g(),y.preventDefault())})})})});gX.displayName=mX;var vX="SelectValue",yX=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=t,l=Xc(vX,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,d=tn(e,l.onValueNodeChange);return di(()=>{c(u)},[c,u]),w.jsx(Et.span,{...s,ref:d,style:{pointerEvents:"none"},children:UX(l.value)?w.jsx(w.Fragment,{children:a}):o})});yX.displayName=vX;var W_e="SelectIcon",xX=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return w.jsx(Et.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});xX.displayName=W_e;var G_e="SelectPortal",bX=t=>w.jsx(My,{asChild:!0,...t});bX.displayName=G_e;var bd="SelectContent",_X=C.forwardRef((t,e)=>{const n=Xc(bd,t.__scopeSelect),[r,i]=C.useState();if(di(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Pd.createPortal(w.jsx(wX,{scope:t.__scopeSelect,children:w.jsx(DS.Slot,{scope:t.__scopeSelect,children:w.jsx("div",{children:t.children})})}),o):null}return w.jsx(SX,{...t,ref:e})});_X.displayName=bd;var xa=10,[wX,Kc]=zp(bd),q_e="SelectContentImpl",SX=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:x,...v}=t,b=Xc(bd,n),[_,S]=C.useState(null),[A,M]=C.useState(null),P=tn(e,le=>S(le)),[N,R]=C.useState(null),[I,D]=C.useState(null),U=jS(n),[X,j]=C.useState(!1),W=C.useRef(!1);C.useEffect(()=>{if(_)return AN(_)},[_]),EN();const H=C.useCallback(le=>{const[Re,...de]=U().map(z=>z.ref.current),[he]=de.slice(-1),_e=document.activeElement;for(const z of le)if(z===_e||(z==null||z.scrollIntoView({block:"nearest"}),z===Re&&A&&(A.scrollTop=0),z===he&&A&&(A.scrollTop=A.scrollHeight),z==null||z.focus(),document.activeElement!==_e))return},[U,A]),Y=C.useCallback(()=>H([N,_]),[H,N,_]);C.useEffect(()=>{X&&Y()},[X,Y]);const{onOpenChange:k,triggerPointerDownPosRef:F}=b;C.useEffect(()=>{if(_){let le={x:0,y:0};const Re=he=>{var _e,z;le={x:Math.abs(Math.round(he.pageX)-(((_e=F.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(he.pageY)-(((z=F.current)==null?void 0:z.y)??0))}},de=he=>{le.x<=10&&le.y<=10?he.preventDefault():_.contains(he.target)||k(!1),document.removeEventListener("pointermove",Re),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",de,{capture:!0})}}},[_,k,F]),C.useEffect(()=>{const le=()=>k(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[k]);const[$,q]=BX(le=>{const Re=U().filter(_e=>!_e.disabled),de=Re.find(_e=>_e.ref.current===document.activeElement),he=zX(Re,le,de);he&&setTimeout(()=>he.ref.current.focus())}),Z=C.useCallback((le,Re,de)=>{const he=!W.current&&!de;(b.value!==void 0&&b.value===Re||he)&&(R(le),he&&(W.current=!0))},[b.value]),ee=C.useCallback(()=>_==null?void 0:_.focus(),[_]),ne=C.useCallback((le,Re,de)=>{const he=!W.current&&!de;(b.value!==void 0&&b.value===Re||he)&&D(le)},[b.value]),ye=r==="popper"?MO:EX,xe=ye===MO?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:x}:{};return w.jsx(wX,{scope:n,content:_,viewport:A,onViewportChange:M,itemRefCallback:Z,selectedItem:N,onItemLeave:ee,itemTextRefCallback:ne,focusSelectedItem:Y,selectedItemText:I,position:r,isPositioned:X,searchRef:$,children:w.jsx(tS,{as:Mc,allowPinchZoom:!0,children:w.jsx(Y1,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:ze(i,le=>{var Re;(Re=b.trigger)==null||Re.focus({preventScroll:!0}),le.preventDefault()}),children:w.jsx(Mp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:w.jsx(ye,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),...v,...xe,onPlaced:()=>j(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ze(v.onKeyDown,le=>{const Re=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Re&&le.key.length===1&&q(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let he=U().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(le.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const _e=le.target,z=he.indexOf(_e);he=he.slice(z+1)}setTimeout(()=>H(he)),le.preventDefault()}})})})})})})});SX.displayName=q_e;var X_e="SelectItemAlignedPosition",EX=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Xc(bd,n),a=Kc(bd,n),[s,l]=C.useState(null),[c,u]=C.useState(null),d=tn(e,P=>u(P)),f=jS(n),p=C.useRef(!1),g=C.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:v,focusSelectedItem:b}=a,_=C.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&y&&x&&v){const P=o.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),I=v.getBoundingClientRect();if(o.dir!=="rtl"){const _e=I.left-N.left,z=R.left-_e,ve=P.left-z,se=P.width+ve,Se=Math.max(se,N.width),ue=window.innerWidth-xa,Be=oB(z,[xa,Math.max(xa,ue-Se)]);s.style.minWidth=se+"px",s.style.left=Be+"px"}else{const _e=N.right-I.right,z=window.innerWidth-R.right-_e,ve=window.innerWidth-P.right-z,se=P.width+ve,Se=Math.max(se,N.width),ue=window.innerWidth-xa,Be=oB(z,[xa,Math.max(xa,ue-Se)]);s.style.minWidth=se+"px",s.style.right=Be+"px"}const D=f(),U=window.innerHeight-xa*2,X=y.scrollHeight,j=window.getComputedStyle(c),W=parseInt(j.borderTopWidth,10),H=parseInt(j.paddingTop,10),Y=parseInt(j.borderBottomWidth,10),k=parseInt(j.paddingBottom,10),F=W+H+X+k+Y,$=Math.min(x.offsetHeight*5,F),q=window.getComputedStyle(y),Z=parseInt(q.paddingTop,10),ee=parseInt(q.paddingBottom,10),ne=P.top+P.height/2-xa,ye=U-ne,xe=x.offsetHeight/2,le=x.offsetTop+xe,Re=W+H+le,de=F-Re;if(Re<=ne){const _e=D.length>0&&x===D[D.length-1].ref.current;s.style.bottom="0px";const z=c.clientHeight-y.offsetTop-y.offsetHeight,ve=Math.max(ye,xe+(_e?ee:0)+z+Y),se=Re+ve;s.style.height=se+"px"}else{const _e=D.length>0&&x===D[0].ref.current;s.style.top="0px";const ve=Math.max(ne,W+y.offsetTop+(_e?Z:0)+xe)+de;s.style.height=ve+"px",y.scrollTop=Re-ne+y.offsetTop}s.style.margin=`${xa}px 0`,s.style.minHeight=$+"px",s.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,o.trigger,o.valueNode,s,c,y,x,v,o.dir,r]);di(()=>_(),[_]);const[S,A]=C.useState();di(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const M=C.useCallback(P=>{P&&g.current===!0&&(_(),b==null||b(),g.current=!1)},[_,b]);return w.jsx(Y_e,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:M,children:w.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:w.jsx(Et.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});EX.displayName=X_e;var K_e="SelectPopperPosition",MO=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=xa,...o}=t,a=US(n);return w.jsx(vN,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});MO.displayName=K_e;var[Y_e,VI]=zp(bd,{}),PO="SelectViewport",AX=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Kc(PO,n),a=VI(PO,n),s=tn(e,o.onViewportChange),l=C.useRef(0);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),w.jsx(DS.Slot,{scope:n,children:w.jsx(Et.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ze(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const g=window.innerHeight-xa*2,y=parseFloat(d.style.minHeight),x=parseFloat(d.style.height),v=Math.max(y,x);if(v<g){const b=v+p,_=Math.min(g,b),S=b-_;d.style.height=_+"px",d.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});AX.displayName=PO;var TX="SelectGroup",[J_e,Z_e]=zp(TX),Q_e=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=us();return w.jsx(J_e,{scope:n,id:i,children:w.jsx(Et.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Q_e.displayName=TX;var MX="SelectLabel",PX=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Z_e(MX,n);return w.jsx(Et.div,{id:i.id,...r,ref:e})});PX.displayName=MX;var gw="SelectItem",[ewe,CX]=zp(gw),OX=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,s=Xc(gw,n),l=Kc(gw,n),c=s.value===r,[u,d]=C.useState(o??""),[f,p]=C.useState(!1),g=tn(e,b=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,b,r,i)}),y=us(),x=C.useRef("touch"),v=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w.jsx(ewe,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:C.useCallback(b=>{d(_=>_||((b==null?void 0:b.textContent)??"").trim())},[]),children:w.jsx(DS.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:w.jsx(Et.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:ze(a.onFocus,()=>p(!0)),onBlur:ze(a.onBlur,()=>p(!1)),onClick:ze(a.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:ze(a.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:ze(a.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:ze(a.onPointerMove,b=>{var _;x.current=b.pointerType,i?(_=l.onItemLeave)==null||_.call(l):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(a.onPointerLeave,b=>{var _;b.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:ze(a.onKeyDown,b=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(B_e.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});OX.displayName=gw;var fg="SelectItemText",RX=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=Xc(fg,n),s=Kc(fg,n),l=CX(fg,n),c=V_e(fg,n),[u,d]=C.useState(null),f=tn(e,v=>d(v),l.onItemTextChange,v=>{var b;return(b=s.itemTextRefCallback)==null?void 0:b.call(s,v,l.value,l.disabled)}),p=u==null?void 0:u.textContent,g=C.useMemo(()=>w.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=c;return di(()=>(y(g),()=>x(g)),[y,x,g]),w.jsxs(w.Fragment,{children:[w.jsx(Et.span,{id:l.textId,...o,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Pd.createPortal(o.children,a.valueNode):null]})});RX.displayName=fg;var NX="SelectItemIndicator",IX=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return CX(NX,n).isSelected?w.jsx(Et.span,{"aria-hidden":!0,...r,ref:e}):null});IX.displayName=NX;var CO="SelectScrollUpButton",kX=C.forwardRef((t,e)=>{const n=Kc(CO,t.__scopeSelect),r=VI(CO,t.__scopeSelect),[i,o]=C.useState(!1),a=tn(e,r.onScrollButtonChange);return di(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?w.jsx(DX,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});kX.displayName=CO;var OO="SelectScrollDownButton",LX=C.forwardRef((t,e)=>{const n=Kc(OO,t.__scopeSelect),r=VI(OO,t.__scopeSelect),[i,o]=C.useState(!1),a=tn(e,r.onScrollButtonChange);return di(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?w.jsx(DX,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});LX.displayName=OO;var DX=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Kc("SelectScrollButton",n),a=C.useRef(null),s=jS(n),l=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),di(()=>{var u;const c=s().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),w.jsx(Et.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ze(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ze(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ze(i.onPointerLeave,()=>{l()})})}),twe="SelectSeparator",jX=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return w.jsx(Et.div,{"aria-hidden":!0,...r,ref:e})});jX.displayName=twe;var RO="SelectArrow",nwe=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=US(n),o=Xc(RO,n),a=Kc(RO,n);return o.open&&a.position==="popper"?w.jsx(yN,{...i,...r,ref:e}):null});nwe.displayName=RO;function UX(t){return t===""||t===void 0}var FX=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=C.useRef(null),o=tn(e,i),a=KW(n);return C.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&u){const d=new Event("change",{bubbles:!0});u.call(s,n),s.dispatchEvent(d)}},[a,n]),w.jsx(Py,{asChild:!0,children:w.jsx("select",{...r,ref:o,defaultValue:n})})});FX.displayName="BubbleSelect";function BX(t){const e=ui(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const s=n.current+a;e(s),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),o=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function zX(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=rwe(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function rwe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var iwe=pX,$X=gX,owe=yX,awe=xX,swe=bX,HX=_X,lwe=AX,VX=PX,WX=OX,cwe=RX,uwe=IX,GX=kX,qX=LX,XX=jX;const dwe=iwe,fwe=owe,KX=C.forwardRef(({className:t,children:e,...n},r)=>w.jsxs($X,{ref:r,className:ut("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,w.jsx(awe,{asChild:!0,children:w.jsx(oV,{className:"h-4 w-4 opacity-50"})})]}));KX.displayName=$X.displayName;const YX=C.forwardRef(({className:t,...e},n)=>w.jsx(GX,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:w.jsx(hre,{className:"h-4 w-4"})}));YX.displayName=GX.displayName;const JX=C.forwardRef(({className:t,...e},n)=>w.jsx(qX,{ref:n,className:ut("flex cursor-default items-center justify-center py-1",t),...e,children:w.jsx(oV,{className:"h-4 w-4"})}));JX.displayName=qX.displayName;const ZX=C.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>w.jsx(swe,{children:w.jsxs(HX,{ref:i,className:ut("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[w.jsx(YX,{}),w.jsx(lwe,{className:ut("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),w.jsx(JX,{})]})}));ZX.displayName=HX.displayName;const hwe=C.forwardRef(({className:t,...e},n)=>w.jsx(VX,{ref:n,className:ut("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));hwe.displayName=VX.displayName;const QX=C.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(WX,{ref:r,className:ut("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(uwe,{children:w.jsx(zr,{className:"h-4 w-4"})})}),w.jsx(cwe,{children:e})]}));QX.displayName=WX.displayName;const pwe=C.forwardRef(({className:t,...e},n)=>w.jsx(XX,{ref:n,className:ut("-mx-1 my-1 h-px bg-muted",t),...e}));pwe.displayName=XX.displayName;const eK=({tier:t})=>{const e={bronze:{icon:w.jsx(mre,{className:"h-4 w-4 mr-1"}),label:"Bronze",className:"bg-amber-700 hover:bg-amber-800"},silver:{icon:w.jsx(nV,{className:"h-4 w-4 mr-1"}),label:"Silver",className:"bg-gray-400 hover:bg-gray-500"},gold:{icon:w.jsx(aV,{className:"h-4 w-4 mr-1"}),label:"Gold",className:"bg-gold-500 hover:bg-gold-600"}},{icon:n,label:r,className:i}=e[t];return w.jsxs(jv,{variant:"outline",className:`flex items-center text-white ${i}`,children:[n,r]})};var mwe=Array.isArray,eo=mwe,gwe=typeof ix=="object"&&ix&&ix.Object===Object&&ix,tK=gwe,vwe=tK,ywe=typeof self=="object"&&self&&self.Object===Object&&self,xwe=vwe||ywe||Function("return this")(),As=xwe,bwe=As,_we=bwe.Symbol,Ky=_we,aB=Ky,nK=Object.prototype,wwe=nK.hasOwnProperty,Swe=nK.toString,Km=aB?aB.toStringTag:void 0;function Ewe(t){var e=wwe.call(t,Km),n=t[Km];try{t[Km]=void 0;var r=!0}catch{}var i=Swe.call(t);return r&&(e?t[Km]=n:delete t[Km]),i}var Awe=Ewe,Twe=Object.prototype,Mwe=Twe.toString;function Pwe(t){return Mwe.call(t)}var Cwe=Pwe,sB=Ky,Owe=Awe,Rwe=Cwe,Nwe="[object Null]",Iwe="[object Undefined]",lB=sB?sB.toStringTag:void 0;function kwe(t){return t==null?t===void 0?Iwe:Nwe:lB&&lB in Object(t)?Owe(t):Rwe(t)}var bl=kwe;function Lwe(t){return t!=null&&typeof t=="object"}var _l=Lwe,Dwe=bl,jwe=_l,Uwe="[object Symbol]";function Fwe(t){return typeof t=="symbol"||jwe(t)&&Dwe(t)==Uwe}var $p=Fwe,Bwe=eo,zwe=$p,$we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hwe=/^\w*$/;function Vwe(t,e){if(Bwe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||zwe(t)?!0:Hwe.test(t)||!$we.test(t)||e!=null&&t in Object(e)}var WI=Vwe;function Wwe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Yc=Wwe;const Hp=rn(Yc);var Gwe=bl,qwe=Yc,Xwe="[object AsyncFunction]",Kwe="[object Function]",Ywe="[object GeneratorFunction]",Jwe="[object Proxy]";function Zwe(t){if(!qwe(t))return!1;var e=Gwe(t);return e==Kwe||e==Ywe||e==Xwe||e==Jwe}var GI=Zwe;const Ct=rn(GI);var Qwe=As,e1e=Qwe["__core-js_shared__"],t1e=e1e,IM=t1e,cB=function(){var t=/[^.]+$/.exec(IM&&IM.keys&&IM.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function n1e(t){return!!cB&&cB in t}var r1e=n1e,i1e=Function.prototype,o1e=i1e.toString;function a1e(t){if(t!=null){try{return o1e.call(t)}catch{}try{return t+""}catch{}}return""}var rK=a1e,s1e=GI,l1e=r1e,c1e=Yc,u1e=rK,d1e=/[\\^$.*+?()[\]{}|]/g,f1e=/^\[object .+?Constructor\]$/,h1e=Function.prototype,p1e=Object.prototype,m1e=h1e.toString,g1e=p1e.hasOwnProperty,v1e=RegExp("^"+m1e.call(g1e).replace(d1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y1e(t){if(!c1e(t)||l1e(t))return!1;var e=s1e(t)?v1e:f1e;return e.test(u1e(t))}var x1e=y1e;function b1e(t,e){return t==null?void 0:t[e]}var _1e=b1e,w1e=x1e,S1e=_1e;function E1e(t,e){var n=S1e(t,e);return w1e(n)?n:void 0}var jd=E1e,A1e=jd,T1e=A1e(Object,"create"),FS=T1e,uB=FS;function M1e(){this.__data__=uB?uB(null):{},this.size=0}var P1e=M1e;function C1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var O1e=C1e,R1e=FS,N1e="__lodash_hash_undefined__",I1e=Object.prototype,k1e=I1e.hasOwnProperty;function L1e(t){var e=this.__data__;if(R1e){var n=e[t];return n===N1e?void 0:n}return k1e.call(e,t)?e[t]:void 0}var D1e=L1e,j1e=FS,U1e=Object.prototype,F1e=U1e.hasOwnProperty;function B1e(t){var e=this.__data__;return j1e?e[t]!==void 0:F1e.call(e,t)}var z1e=B1e,$1e=FS,H1e="__lodash_hash_undefined__";function V1e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$1e&&e===void 0?H1e:e,this}var W1e=V1e,G1e=P1e,q1e=O1e,X1e=D1e,K1e=z1e,Y1e=W1e;function Vp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vp.prototype.clear=G1e;Vp.prototype.delete=q1e;Vp.prototype.get=X1e;Vp.prototype.has=K1e;Vp.prototype.set=Y1e;var J1e=Vp;function Z1e(){this.__data__=[],this.size=0}var Q1e=Z1e;function eSe(t,e){return t===e||t!==t&&e!==e}var qI=eSe,tSe=qI;function nSe(t,e){for(var n=t.length;n--;)if(tSe(t[n][0],e))return n;return-1}var BS=nSe,rSe=BS,iSe=Array.prototype,oSe=iSe.splice;function aSe(t){var e=this.__data__,n=rSe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():oSe.call(e,n,1),--this.size,!0}var sSe=aSe,lSe=BS;function cSe(t){var e=this.__data__,n=lSe(e,t);return n<0?void 0:e[n][1]}var uSe=cSe,dSe=BS;function fSe(t){return dSe(this.__data__,t)>-1}var hSe=fSe,pSe=BS;function mSe(t,e){var n=this.__data__,r=pSe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var gSe=mSe,vSe=Q1e,ySe=sSe,xSe=uSe,bSe=hSe,_Se=gSe;function Wp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wp.prototype.clear=vSe;Wp.prototype.delete=ySe;Wp.prototype.get=xSe;Wp.prototype.has=bSe;Wp.prototype.set=_Se;var zS=Wp,wSe=jd,SSe=As,ESe=wSe(SSe,"Map"),XI=ESe,dB=J1e,ASe=zS,TSe=XI;function MSe(){this.size=0,this.__data__={hash:new dB,map:new(TSe||ASe),string:new dB}}var PSe=MSe;function CSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var OSe=CSe,RSe=OSe;function NSe(t,e){var n=t.__data__;return RSe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var $S=NSe,ISe=$S;function kSe(t){var e=ISe(this,t).delete(t);return this.size-=e?1:0,e}var LSe=kSe,DSe=$S;function jSe(t){return DSe(this,t).get(t)}var USe=jSe,FSe=$S;function BSe(t){return FSe(this,t).has(t)}var zSe=BSe,$Se=$S;function HSe(t,e){var n=$Se(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var VSe=HSe,WSe=PSe,GSe=LSe,qSe=USe,XSe=zSe,KSe=VSe;function Gp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gp.prototype.clear=WSe;Gp.prototype.delete=GSe;Gp.prototype.get=qSe;Gp.prototype.has=XSe;Gp.prototype.set=KSe;var KI=Gp,iK=KI,YSe="Expected a function";function YI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(YSe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(YI.Cache||iK),n}YI.Cache=iK;var oK=YI;const JSe=rn(oK);var ZSe=oK,QSe=500;function eEe(t){var e=ZSe(t,function(r){return n.size===QSe&&n.clear(),r}),n=e.cache;return e}var tEe=eEe,nEe=tEe,rEe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iEe=/\\(\\)?/g,oEe=nEe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rEe,function(n,r,i,o){e.push(i?o.replace(iEe,"$1"):r||n)}),e}),aEe=oEe;function sEe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var JI=sEe,fB=Ky,lEe=JI,cEe=eo,uEe=$p,dEe=1/0,hB=fB?fB.prototype:void 0,pB=hB?hB.toString:void 0;function aK(t){if(typeof t=="string")return t;if(cEe(t))return lEe(t,aK)+"";if(uEe(t))return pB?pB.call(t):"";var e=t+"";return e=="0"&&1/t==-dEe?"-0":e}var fEe=aK,hEe=fEe;function pEe(t){return t==null?"":hEe(t)}var sK=pEe,mEe=eo,gEe=WI,vEe=aEe,yEe=sK;function xEe(t,e){return mEe(t)?t:gEe(t,e)?[t]:vEe(yEe(t))}var lK=xEe,bEe=$p,_Ee=1/0;function wEe(t){if(typeof t=="string"||bEe(t))return t;var e=t+"";return e=="0"&&1/t==-_Ee?"-0":e}var HS=wEe,SEe=lK,EEe=HS;function AEe(t,e){e=SEe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[EEe(e[n++])];return n&&n==r?t:void 0}var ZI=AEe,TEe=ZI;function MEe(t,e,n){var r=t==null?void 0:TEe(t,e);return r===void 0?n:r}var cK=MEe;const Ao=rn(cK);function PEe(t){return t==null}var CEe=PEe;const It=rn(CEe);var OEe=bl,REe=eo,NEe=_l,IEe="[object String]";function kEe(t){return typeof t=="string"||!REe(t)&&NEe(t)&&OEe(t)==IEe}var LEe=kEe;const Yy=rn(LEe);var uK={exports:{}},dn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QI=Symbol.for("react.element"),ek=Symbol.for("react.portal"),VS=Symbol.for("react.fragment"),WS=Symbol.for("react.strict_mode"),GS=Symbol.for("react.profiler"),qS=Symbol.for("react.provider"),XS=Symbol.for("react.context"),DEe=Symbol.for("react.server_context"),KS=Symbol.for("react.forward_ref"),YS=Symbol.for("react.suspense"),JS=Symbol.for("react.suspense_list"),ZS=Symbol.for("react.memo"),QS=Symbol.for("react.lazy"),jEe=Symbol.for("react.offscreen"),dK;dK=Symbol.for("react.module.reference");function la(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case QI:switch(t=t.type,t){case VS:case GS:case WS:case YS:case JS:return t;default:switch(t=t&&t.$$typeof,t){case DEe:case XS:case KS:case QS:case ZS:case qS:return t;default:return e}}case ek:return e}}}dn.ContextConsumer=XS;dn.ContextProvider=qS;dn.Element=QI;dn.ForwardRef=KS;dn.Fragment=VS;dn.Lazy=QS;dn.Memo=ZS;dn.Portal=ek;dn.Profiler=GS;dn.StrictMode=WS;dn.Suspense=YS;dn.SuspenseList=JS;dn.isAsyncMode=function(){return!1};dn.isConcurrentMode=function(){return!1};dn.isContextConsumer=function(t){return la(t)===XS};dn.isContextProvider=function(t){return la(t)===qS};dn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===QI};dn.isForwardRef=function(t){return la(t)===KS};dn.isFragment=function(t){return la(t)===VS};dn.isLazy=function(t){return la(t)===QS};dn.isMemo=function(t){return la(t)===ZS};dn.isPortal=function(t){return la(t)===ek};dn.isProfiler=function(t){return la(t)===GS};dn.isStrictMode=function(t){return la(t)===WS};dn.isSuspense=function(t){return la(t)===YS};dn.isSuspenseList=function(t){return la(t)===JS};dn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===VS||t===GS||t===WS||t===YS||t===JS||t===jEe||typeof t=="object"&&t!==null&&(t.$$typeof===QS||t.$$typeof===ZS||t.$$typeof===qS||t.$$typeof===XS||t.$$typeof===KS||t.$$typeof===dK||t.getModuleId!==void 0)};dn.typeOf=la;uK.exports=dn;var fK=uK.exports,UEe=bl,FEe=_l,BEe="[object Number]";function zEe(t){return typeof t=="number"||FEe(t)&&UEe(t)==BEe}var hK=zEe;const $Ee=rn(hK);var HEe=hK;function VEe(t){return HEe(t)&&t!=+t}var WEe=VEe;const Jy=rn(WEe);var Ai=function(e){return e===0?0:e>0?1:-1},Wu=function(e){return Yy(e)&&e.indexOf("%")===e.length-1},De=function(e){return $Ee(e)&&!Jy(e)},br=function(e){return De(e)||Yy(e)},GEe=0,qp=function(e){var n=++GEe;return"".concat(e||"").concat(n)},Ti=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&!Yy(e))return r;var o;if(Wu(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Jy(o)&&(o=r),i&&o>n&&(o=n),o},ec=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},qEe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},go=function(e,n){return De(e)&&De(n)?function(r){return e+r*(n-e)}:function(){return n}};function vw(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ao(r,e))===n})}function Eh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function NO(t){"@babel/helpers - typeof";return NO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NO(t)}var XEe=["viewBox","children"],KEe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mB=["points","pathLength"],kM={svg:XEe,polygon:mB,polyline:mB},tk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yw=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!Hp(r))return null;var i={};return Object.keys(r).forEach(function(o){tk.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},YEe=function(e,n,r){return function(i){return e(n,r,i),null}},_d=function(e,n,r){if(!Hp(e)||NO(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];tk.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=YEe(a,n,r))}),i},JEe=["children"],ZEe=["children"];function gB(t,e){if(t==null)return{};var n=QEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IO(t){"@babel/helpers - typeof";return IO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IO(t)}var vB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},rl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yB=null,LM=null,nk=function t(e){if(e===yB&&Array.isArray(LM))return LM;var n=[];return C.Children.forEach(e,function(r){It(r)||(fK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),LM=n,yB=e,n};function To(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return rl(i)}):r=[rl(e)],nk(t).forEach(function(i){var o=Ao(i,"type.displayName")||Ao(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function po(t,e){var n=To(t,e);return n&&n[0]}var xB=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!De(r)||r<=0||!De(i)||i<=0)},eAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tAe=function(e){return e&&e.type&&Yy(e.type)&&eAe.indexOf(e.type)>=0},nAe=function(e){return e&&IO(e)==="object"&&"clipDot"in e},rAe=function(e,n,r,i){var o,a=(o=kM==null?void 0:kM[i])!==null&&o!==void 0?o:[];return!Ct(e)&&(i&&a.includes(n)||KEe.includes(n))||r&&tk.includes(n)},ht=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!Hp(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;rAe((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},kO=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return bB(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!bB(o,a))return!1}return!0},bB=function(e,n){if(It(e)&&It(n))return!0;if(!It(e)&&!It(n)){var r=e.props||{},i=r.children,o=gB(r,JEe),a=n.props||{},s=a.children,l=gB(a,ZEe);return i&&s?Eh(o,l)&&kO(i,s):!i&&!s?Eh(o,l):!1}return!1},_B=function(e,n){var r=[],i={};return nk(e).forEach(function(o,a){if(tAe(o))r.push(o);else if(o){var s=rl(o.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var d=c(o,s,a);r.push(d),i[s]=!0}}}),r},iAe=function(e){var n=e&&e.type;return n&&vB[n]?vB[n]:null},oAe=function(e,n){return nk(n).indexOf(e)},aAe=["children","width","height","viewBox","className","style","title","desc"];function LO(){return LO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LO.apply(this,arguments)}function sAe(t,e){if(t==null)return{};var n=lAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DO(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=sAe(t,aAe),u=i||{width:n,height:r,x:0,y:0},d=Lt("recharts-surface",o);return V.createElement("svg",LO({},ht(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),V.createElement("title",null,s),V.createElement("desc",null,l),e)}var cAe=["children","className"];function jO(){return jO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jO.apply(this,arguments)}function uAe(t,e){if(t==null)return{};var n=dAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qt=V.forwardRef(function(t,e){var n=t.children,r=t.className,i=uAe(t,cAe),o=Lt("recharts-layer",r);return V.createElement("g",jO({className:o},ht(i,!0),{ref:e}),n)}),La=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function fAe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var hAe=fAe,pAe=hAe;function mAe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:pAe(t,e,n)}var gAe=mAe,vAe="\\ud800-\\udfff",yAe="\\u0300-\\u036f",xAe="\\ufe20-\\ufe2f",bAe="\\u20d0-\\u20ff",_Ae=yAe+xAe+bAe,wAe="\\ufe0e\\ufe0f",SAe="\\u200d",EAe=RegExp("["+SAe+vAe+_Ae+wAe+"]");function AAe(t){return EAe.test(t)}var pK=AAe;function TAe(t){return t.split("")}var MAe=TAe,mK="\\ud800-\\udfff",PAe="\\u0300-\\u036f",CAe="\\ufe20-\\ufe2f",OAe="\\u20d0-\\u20ff",RAe=PAe+CAe+OAe,NAe="\\ufe0e\\ufe0f",IAe="["+mK+"]",UO="["+RAe+"]",FO="\\ud83c[\\udffb-\\udfff]",kAe="(?:"+UO+"|"+FO+")",gK="[^"+mK+"]",vK="(?:\\ud83c[\\udde6-\\uddff]){2}",yK="[\\ud800-\\udbff][\\udc00-\\udfff]",LAe="\\u200d",xK=kAe+"?",bK="["+NAe+"]?",DAe="(?:"+LAe+"(?:"+[gK,vK,yK].join("|")+")"+bK+xK+")*",jAe=bK+xK+DAe,UAe="(?:"+[gK+UO+"?",UO,vK,yK,IAe].join("|")+")",FAe=RegExp(FO+"(?="+FO+")|"+UAe+jAe,"g");function BAe(t){return t.match(FAe)||[]}var zAe=BAe,$Ae=MAe,HAe=pK,VAe=zAe;function WAe(t){return HAe(t)?VAe(t):$Ae(t)}var GAe=WAe,qAe=gAe,XAe=pK,KAe=GAe,YAe=sK;function JAe(t){return function(e){e=YAe(e);var n=XAe(e)?KAe(e):void 0,r=n?n[0]:e.charAt(0),i=n?qAe(n,1).join(""):e.slice(1);return r[t]()+i}}var ZAe=JAe,QAe=ZAe,eTe=QAe("toUpperCase"),tTe=eTe;const eE=rn(tTe);function bn(t){return function(){return t}}const _K=Math.cos,xw=Math.sin,Ha=Math.sqrt,bw=Math.PI,tE=2*bw,BO=Math.PI,zO=2*BO,Cu=1e-6,nTe=zO-Cu;function wK(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function rTe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wK;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class iTe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wK:rTe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,u=a-e,d=s-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Cu)if(!(Math.abs(d*l-c*u)>Cu)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-s,y=l*l+c*c,x=p*p+g*g,v=Math.sqrt(y),b=Math.sqrt(f),_=o*Math.tan((BO-Math.acos((y+f-x)/(2*v*b)))/2),S=_/b,A=_/v;Math.abs(S-1)>Cu&&this._append`L${e+S*u},${n+S*d}`,this._append`A${o},${o},0,0,${+(d*p>u*g)},${this._x1=e+A*l},${this._y1=n+A*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,d=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Cu||Math.abs(this._y1-u)>Cu)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%zO+zO),f>nTe?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>Cu&&this._append`A${r},${r},0,${+(f>=BO)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function rk(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new iTe(e)}function ik(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SK(t){this._context=t}SK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function nE(t){return new SK(t)}function EK(t){return t[0]}function AK(t){return t[1]}function TK(t,e){var n=bn(!0),r=null,i=nE,o=null,a=rk(s);t=typeof t=="function"?t:t===void 0?EK:bn(t),e=typeof e=="function"?e:e===void 0?AK:bn(e);function s(l){var c,u=(l=ik(l)).length,d,f=!1,p;for(r==null&&(o=i(p=a())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(d,c,l),+e(d,c,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:bn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:bn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:bn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Db(t,e,n){var r=null,i=bn(!0),o=null,a=nE,s=null,l=rk(c);t=typeof t=="function"?t:t===void 0?EK:bn(+t),e=typeof e=="function"?e:bn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?AK:bn(+n);function c(d){var f,p,g,y=(d=ik(d)).length,x,v=!1,b,_=new Array(y),S=new Array(y);for(o==null&&(s=a(b=l())),f=0;f<=y;++f){if(!(f<y&&i(x=d[f],f,d))===v)if(v=!v)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=f-1;g>=p;--g)s.point(_[g],S[g]);s.lineEnd(),s.areaEnd()}v&&(_[f]=+t(x,f,d),S[f]=+e(x,f,d),s.point(r?+r(x,f,d):_[f],n?+n(x,f,d):S[f]))}if(b)return s=null,b+""||null}function u(){return TK().defined(i).curve(a).context(o)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:bn(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:bn(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:bn(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:bn(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:bn(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:bn(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:bn(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),c):a},c.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),c):o},c}class MK{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function oTe(t){return new MK(t,!0)}function aTe(t){return new MK(t,!1)}const ok={draw(t,e){const n=Ha(e/bw);t.moveTo(n,0),t.arc(0,0,n,0,tE)}},sTe={draw(t,e){const n=Ha(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},PK=Ha(1/3),lTe=PK*2,cTe={draw(t,e){const n=Ha(e/lTe),r=n*PK;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},uTe={draw(t,e){const n=Ha(e),r=-n/2;t.rect(r,r,n,n)}},dTe=.8908130915292852,CK=xw(bw/10)/xw(7*bw/10),fTe=xw(tE/10)*CK,hTe=-_K(tE/10)*CK,pTe={draw(t,e){const n=Ha(e*dTe),r=fTe*n,i=hTe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=tE*o/5,s=_K(a),l=xw(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},DM=Ha(3),mTe={draw(t,e){const n=-Ha(e/(DM*3));t.moveTo(0,n*2),t.lineTo(-DM*n,-n),t.lineTo(DM*n,-n),t.closePath()}},$o=-.5,Ho=Ha(3)/2,$O=1/Ha(12),gTe=($O/2+1)*3,vTe={draw(t,e){const n=Ha(e/gTe),r=n/2,i=n*$O,o=r,a=n*$O+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo($o*r-Ho*i,Ho*r+$o*i),t.lineTo($o*o-Ho*a,Ho*o+$o*a),t.lineTo($o*s-Ho*l,Ho*s+$o*l),t.lineTo($o*r+Ho*i,$o*i-Ho*r),t.lineTo($o*o+Ho*a,$o*a-Ho*o),t.lineTo($o*s+Ho*l,$o*l-Ho*s),t.closePath()}};function yTe(t,e){let n=null,r=rk(i);t=typeof t=="function"?t:bn(t||ok),e=typeof e=="function"?e:bn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:bn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:bn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function _w(){}function ww(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function OK(t){this._context=t}OK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ww(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ww(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xTe(t){return new OK(t)}function RK(t){this._context=t}RK.prototype={areaStart:_w,areaEnd:_w,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ww(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bTe(t){return new RK(t)}function NK(t){this._context=t}NK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ww(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Te(t){return new NK(t)}function IK(t){this._context=t}IK.prototype={areaStart:_w,areaEnd:_w,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wTe(t){return new IK(t)}function wB(t){return t<0?-1:1}function SB(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(wB(o)+wB(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function EB(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jM(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Sw(t){this._context=t}Sw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jM(this,this._t0,EB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jM(this,EB(this,n=SB(this,t,e)),n);break;default:jM(this,this._t0,n=SB(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function kK(t){this._context=new LK(t)}(kK.prototype=Object.create(Sw.prototype)).point=function(t,e){Sw.prototype.point.call(this,e,t)};function LK(t){this._context=t}LK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function STe(t){return new Sw(t)}function ETe(t){return new kK(t)}function DK(t){this._context=t}DK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AB(t),i=AB(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AB(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function ATe(t){return new DK(t)}function rE(t,e){this._context=t,this._t=e}rE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function TTe(t){return new rE(t,.5)}function MTe(t){return new rE(t,0)}function PTe(t){return new rE(t,1)}function Qh(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function HO(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function CTe(t,e){return t[e]}function OTe(t){const e=[];return e.key=t,e}function RTe(){var t=bn([]),e=HO,n=Qh,r=CTe;function i(o){var a=Array.from(t.apply(this,arguments),OTe),s,l=a.length,c=-1,u;for(const d of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(d,a[s].key,c,o)]).data=d;for(s=0,u=ik(e(a));s<l;++s)a[u[s]].index=s;return n(a,u),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:bn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:bn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?HO:typeof o=="function"?o:bn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Qh,i):n},i}function NTe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Qh(t,e)}}function ITe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Qh(t,e)}}function kTe(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=t[e[s]],d=u[r][1]||0,f=u[r-1][1]||0,p=(d-f)/2,g=0;g<s;++g){var y=t[e[g]],x=y[r][1]||0,v=y[r-1][1]||0;p+=x-v}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Qh(t,e)}}function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}var LTe=["type","size","sizeType"];function VO(){return VO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VO.apply(this,arguments)}function TB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(n),!0).forEach(function(r){DTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DTe(t,e,n){return e=jTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jTe(t){var e=UTe(t,"string");return Uv(e)=="symbol"?e:e+""}function UTe(t,e){if(Uv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FTe(t,e){if(t==null)return{};var n=BTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jK={symbolCircle:ok,symbolCross:sTe,symbolDiamond:cTe,symbolSquare:uTe,symbolStar:pTe,symbolTriangle:mTe,symbolWye:vTe},zTe=Math.PI/180,$Te=function(e){var n="symbol".concat(eE(e));return jK[n]||ok},HTe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*zTe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VTe=function(e,n){jK["symbol".concat(eE(e))]=n},ak=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=FTe(e,LTe),c=MB(MB({},l),{},{type:r,size:o,sizeType:s}),u=function(){var x=$Te(r),v=yTe().type(x).size(HTe(o,s,r));return v()},d=c.className,f=c.cx,p=c.cy,g=ht(c,!0);return f===+f&&p===+p&&o===+o?V.createElement("path",VO({},g,{className:Lt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};ak.registerSymbol=VTe;function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function WO(){return WO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WO.apply(this,arguments)}function PB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(n),!0).forEach(function(r){Fv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FK(r.key),r)}}function XTe(t,e,n){return e&&qTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KTe(t,e,n){return e=Ew(e),YTe(t,UK()?Reflect.construct(e,n||[],Ew(t).constructor):e.apply(t,n))}function YTe(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JTe(t)}function JTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UK=function(){return!!t})()}function Ew(t){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ew(t)}function ZTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GO(t,e)}function GO(t,e){return GO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GO(t,e)}function Fv(t,e,n){return e=FK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FK(t){var e=QTe(t,"string");return ep(e)=="symbol"?e:e+""}function QTe(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vo=32,sk=function(t){function e(){return GTe(this,e),KTe(this,e,arguments)}return ZTe(e,t),XTe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Vo/2,a=Vo/6,s=Vo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Vo,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Vo,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Vo/8,"h").concat(Vo,"v").concat(Vo*3/4,"h").concat(-Vo,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var c=WTe({},r);return delete c.legendIcon,V.cloneElement(r.legendIcon,c)}return V.createElement(ak,{fill:l,cx:o,cy:o,size:Vo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Vo,height:Vo},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var y=p.formatter||l,x=Lt(Fv(Fv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Ct(p.value)?null:p.value;La(!Ct(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return V.createElement("li",WO({className:x,style:d,key:"legend-item-".concat(g)},_d(r.props,p,g)),V.createElement(DO,{width:a,height:a,viewBox:u,style:f},r.renderIcon(p)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(v,p,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(C.PureComponent);Fv(sk,"displayName","Legend");Fv(sk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eMe=zS;function tMe(){this.__data__=new eMe,this.size=0}var nMe=tMe;function rMe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var iMe=rMe;function oMe(t){return this.__data__.get(t)}var aMe=oMe;function sMe(t){return this.__data__.has(t)}var lMe=sMe,cMe=zS,uMe=XI,dMe=KI,fMe=200;function hMe(t,e){var n=this.__data__;if(n instanceof cMe){var r=n.__data__;if(!uMe||r.length<fMe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new dMe(r)}return n.set(t,e),this.size=n.size,this}var pMe=hMe,mMe=zS,gMe=nMe,vMe=iMe,yMe=aMe,xMe=lMe,bMe=pMe;function Xp(t){var e=this.__data__=new mMe(t);this.size=e.size}Xp.prototype.clear=gMe;Xp.prototype.delete=vMe;Xp.prototype.get=yMe;Xp.prototype.has=xMe;Xp.prototype.set=bMe;var BK=Xp,_Me="__lodash_hash_undefined__";function wMe(t){return this.__data__.set(t,_Me),this}var SMe=wMe;function EMe(t){return this.__data__.has(t)}var AMe=EMe,TMe=KI,MMe=SMe,PMe=AMe;function Aw(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new TMe;++e<n;)this.add(t[e])}Aw.prototype.add=Aw.prototype.push=MMe;Aw.prototype.has=PMe;var zK=Aw;function CMe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var $K=CMe;function OMe(t,e){return t.has(e)}var HK=OMe,RMe=zK,NMe=$K,IMe=HK,kMe=1,LMe=2;function DMe(t,e,n,r,i,o){var a=n&kMe,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,p=n&LMe?new RMe:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var g=t[d],y=e[d];if(r)var x=a?r(y,g,d,e,t,o):r(g,y,d,t,e,o);if(x!==void 0){if(x)continue;f=!1;break}if(p){if(!NMe(e,function(v,b){if(!IMe(p,b)&&(g===v||i(g,v,n,r,o)))return p.push(b)})){f=!1;break}}else if(!(g===y||i(g,y,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var VK=DMe,jMe=As,UMe=jMe.Uint8Array,FMe=UMe;function BMe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var zMe=BMe;function $Me(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var lk=$Me,CB=Ky,OB=FMe,HMe=qI,VMe=VK,WMe=zMe,GMe=lk,qMe=1,XMe=2,KMe="[object Boolean]",YMe="[object Date]",JMe="[object Error]",ZMe="[object Map]",QMe="[object Number]",ePe="[object RegExp]",tPe="[object Set]",nPe="[object String]",rPe="[object Symbol]",iPe="[object ArrayBuffer]",oPe="[object DataView]",RB=CB?CB.prototype:void 0,UM=RB?RB.valueOf:void 0;function aPe(t,e,n,r,i,o,a){switch(n){case oPe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case iPe:return!(t.byteLength!=e.byteLength||!o(new OB(t),new OB(e)));case KMe:case YMe:case QMe:return HMe(+t,+e);case JMe:return t.name==e.name&&t.message==e.message;case ePe:case nPe:return t==e+"";case ZMe:var s=WMe;case tPe:var l=r&qMe;if(s||(s=GMe),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=XMe,a.set(t,e);var u=VMe(s(t),s(e),r,i,o,a);return a.delete(t),u;case rPe:if(UM)return UM.call(t)==UM.call(e)}return!1}var sPe=aPe;function lPe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var WK=lPe,cPe=WK,uPe=eo;function dPe(t,e,n){var r=e(t);return uPe(t)?r:cPe(r,n(t))}var fPe=dPe;function hPe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var pPe=hPe;function mPe(){return[]}var gPe=mPe,vPe=pPe,yPe=gPe,xPe=Object.prototype,bPe=xPe.propertyIsEnumerable,NB=Object.getOwnPropertySymbols,_Pe=NB?function(t){return t==null?[]:(t=Object(t),vPe(NB(t),function(e){return bPe.call(t,e)}))}:yPe,wPe=_Pe;function SPe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var EPe=SPe,APe=bl,TPe=_l,MPe="[object Arguments]";function PPe(t){return TPe(t)&&APe(t)==MPe}var CPe=PPe,IB=CPe,OPe=_l,GK=Object.prototype,RPe=GK.hasOwnProperty,NPe=GK.propertyIsEnumerable,IPe=IB(function(){return arguments}())?IB:function(t){return OPe(t)&&RPe.call(t,"callee")&&!NPe.call(t,"callee")},ck=IPe,Tw={exports:{}};function kPe(){return!1}var LPe=kPe;Tw.exports;(function(t,e){var n=As,r=LPe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(Tw,Tw.exports);var qK=Tw.exports,DPe=9007199254740991,jPe=/^(?:0|[1-9]\d*)$/;function UPe(t,e){var n=typeof t;return e=e??DPe,!!e&&(n=="number"||n!="symbol"&&jPe.test(t))&&t>-1&&t%1==0&&t<e}var uk=UPe,FPe=9007199254740991;function BPe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FPe}var dk=BPe,zPe=bl,$Pe=dk,HPe=_l,VPe="[object Arguments]",WPe="[object Array]",GPe="[object Boolean]",qPe="[object Date]",XPe="[object Error]",KPe="[object Function]",YPe="[object Map]",JPe="[object Number]",ZPe="[object Object]",QPe="[object RegExp]",eCe="[object Set]",tCe="[object String]",nCe="[object WeakMap]",rCe="[object ArrayBuffer]",iCe="[object DataView]",oCe="[object Float32Array]",aCe="[object Float64Array]",sCe="[object Int8Array]",lCe="[object Int16Array]",cCe="[object Int32Array]",uCe="[object Uint8Array]",dCe="[object Uint8ClampedArray]",fCe="[object Uint16Array]",hCe="[object Uint32Array]",Tn={};Tn[oCe]=Tn[aCe]=Tn[sCe]=Tn[lCe]=Tn[cCe]=Tn[uCe]=Tn[dCe]=Tn[fCe]=Tn[hCe]=!0;Tn[VPe]=Tn[WPe]=Tn[rCe]=Tn[GPe]=Tn[iCe]=Tn[qPe]=Tn[XPe]=Tn[KPe]=Tn[YPe]=Tn[JPe]=Tn[ZPe]=Tn[QPe]=Tn[eCe]=Tn[tCe]=Tn[nCe]=!1;function pCe(t){return HPe(t)&&$Pe(t.length)&&!!Tn[zPe(t)]}var mCe=pCe;function gCe(t){return function(e){return t(e)}}var XK=gCe,Mw={exports:{}};Mw.exports;(function(t,e){var n=tK,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Mw,Mw.exports);var vCe=Mw.exports,yCe=mCe,xCe=XK,kB=vCe,LB=kB&&kB.isTypedArray,bCe=LB?xCe(LB):yCe,KK=bCe,_Ce=EPe,wCe=ck,SCe=eo,ECe=qK,ACe=uk,TCe=KK,MCe=Object.prototype,PCe=MCe.hasOwnProperty;function CCe(t,e){var n=SCe(t),r=!n&&wCe(t),i=!n&&!r&&ECe(t),o=!n&&!r&&!i&&TCe(t),a=n||r||i||o,s=a?_Ce(t.length,String):[],l=s.length;for(var c in t)(e||PCe.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ACe(c,l)))&&s.push(c);return s}var OCe=CCe,RCe=Object.prototype;function NCe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||RCe;return t===n}var ICe=NCe;function kCe(t,e){return function(n){return t(e(n))}}var YK=kCe,LCe=YK,DCe=LCe(Object.keys,Object),jCe=DCe,UCe=ICe,FCe=jCe,BCe=Object.prototype,zCe=BCe.hasOwnProperty;function $Ce(t){if(!UCe(t))return FCe(t);var e=[];for(var n in Object(t))zCe.call(t,n)&&n!="constructor"&&e.push(n);return e}var HCe=$Ce,VCe=GI,WCe=dk;function GCe(t){return t!=null&&WCe(t.length)&&!VCe(t)}var Zy=GCe,qCe=OCe,XCe=HCe,KCe=Zy;function YCe(t){return KCe(t)?qCe(t):XCe(t)}var iE=YCe,JCe=fPe,ZCe=wPe,QCe=iE;function eOe(t){return JCe(t,QCe,ZCe)}var tOe=eOe,DB=tOe,nOe=1,rOe=Object.prototype,iOe=rOe.hasOwnProperty;function oOe(t,e,n,r,i,o){var a=n&nOe,s=DB(t),l=s.length,c=DB(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var f=s[d];if(!(a?f in e:iOe.call(e,f)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var y=!0;o.set(t,e),o.set(e,t);for(var x=a;++d<l;){f=s[d];var v=t[f],b=e[f];if(r)var _=a?r(b,v,f,e,t,o):r(v,b,f,t,e,o);if(!(_===void 0?v===b||i(v,b,n,r,o):_)){y=!1;break}x||(x=f=="constructor")}if(y&&!x){var S=t.constructor,A=e.constructor;S!=A&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof A=="function"&&A instanceof A)&&(y=!1)}return o.delete(t),o.delete(e),y}var aOe=oOe,sOe=jd,lOe=As,cOe=sOe(lOe,"DataView"),uOe=cOe,dOe=jd,fOe=As,hOe=dOe(fOe,"Promise"),pOe=hOe,mOe=jd,gOe=As,vOe=mOe(gOe,"Set"),JK=vOe,yOe=jd,xOe=As,bOe=yOe(xOe,"WeakMap"),_Oe=bOe,qO=uOe,XO=XI,KO=pOe,YO=JK,JO=_Oe,ZK=bl,Kp=rK,jB="[object Map]",wOe="[object Object]",UB="[object Promise]",FB="[object Set]",BB="[object WeakMap]",zB="[object DataView]",SOe=Kp(qO),EOe=Kp(XO),AOe=Kp(KO),TOe=Kp(YO),MOe=Kp(JO),Ou=ZK;(qO&&Ou(new qO(new ArrayBuffer(1)))!=zB||XO&&Ou(new XO)!=jB||KO&&Ou(KO.resolve())!=UB||YO&&Ou(new YO)!=FB||JO&&Ou(new JO)!=BB)&&(Ou=function(t){var e=ZK(t),n=e==wOe?t.constructor:void 0,r=n?Kp(n):"";if(r)switch(r){case SOe:return zB;case EOe:return jB;case AOe:return UB;case TOe:return FB;case MOe:return BB}return e});var POe=Ou,FM=BK,COe=VK,OOe=sPe,ROe=aOe,$B=POe,HB=eo,VB=qK,NOe=KK,IOe=1,WB="[object Arguments]",GB="[object Array]",jb="[object Object]",kOe=Object.prototype,qB=kOe.hasOwnProperty;function LOe(t,e,n,r,i,o){var a=HB(t),s=HB(e),l=a?GB:$B(t),c=s?GB:$B(e);l=l==WB?jb:l,c=c==WB?jb:c;var u=l==jb,d=c==jb,f=l==c;if(f&&VB(t)){if(!VB(e))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new FM),a||NOe(t)?COe(t,e,n,r,i,o):OOe(t,e,l,n,r,i,o);if(!(n&IOe)){var p=u&&qB.call(t,"__wrapped__"),g=d&&qB.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,x=g?e.value():e;return o||(o=new FM),i(y,x,n,r,o)}}return f?(o||(o=new FM),ROe(t,e,n,r,i,o)):!1}var DOe=LOe,jOe=DOe,XB=_l;function QK(t,e,n,r,i){return t===e?!0:t==null||e==null||!XB(t)&&!XB(e)?t!==t&&e!==e:jOe(t,e,n,r,QK,i)}var fk=QK,UOe=BK,FOe=fk,BOe=1,zOe=2;function $Oe(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var d=new UOe;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?FOe(u,c,BOe|zOe,r,d):f))return!1}}return!0}var HOe=$Oe,VOe=Yc;function WOe(t){return t===t&&!VOe(t)}var eY=WOe,GOe=eY,qOe=iE;function XOe(t){for(var e=qOe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,GOe(i)]}return e}var KOe=XOe;function YOe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var tY=YOe,JOe=HOe,ZOe=KOe,QOe=tY;function eRe(t){var e=ZOe(t);return e.length==1&&e[0][2]?QOe(e[0][0],e[0][1]):function(n){return n===t||JOe(n,t,e)}}var tRe=eRe;function nRe(t,e){return t!=null&&e in Object(t)}var rRe=nRe,iRe=lK,oRe=ck,aRe=eo,sRe=uk,lRe=dk,cRe=HS;function uRe(t,e,n){e=iRe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=cRe(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&lRe(i)&&sRe(a,i)&&(aRe(t)||oRe(t)))}var dRe=uRe,fRe=rRe,hRe=dRe;function pRe(t,e){return t!=null&&hRe(t,e,fRe)}var mRe=pRe,gRe=fk,vRe=cK,yRe=mRe,xRe=WI,bRe=eY,_Re=tY,wRe=HS,SRe=1,ERe=2;function ARe(t,e){return xRe(t)&&bRe(e)?_Re(wRe(t),e):function(n){var r=vRe(n,t);return r===void 0&&r===e?yRe(n,t):gRe(e,r,SRe|ERe)}}var TRe=ARe;function MRe(t){return t}var Yp=MRe;function PRe(t){return function(e){return e==null?void 0:e[t]}}var CRe=PRe,ORe=ZI;function RRe(t){return function(e){return ORe(e,t)}}var NRe=RRe,IRe=CRe,kRe=NRe,LRe=WI,DRe=HS;function jRe(t){return LRe(t)?IRe(DRe(t)):kRe(t)}var URe=jRe,FRe=tRe,BRe=TRe,zRe=Yp,$Re=eo,HRe=URe;function VRe(t){return typeof t=="function"?t:t==null?zRe:typeof t=="object"?$Re(t)?BRe(t[0],t[1]):FRe(t):HRe(t)}var Ts=VRe;function WRe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var nY=WRe;function GRe(t){return t!==t}var qRe=GRe;function XRe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var KRe=XRe,YRe=nY,JRe=qRe,ZRe=KRe;function QRe(t,e,n){return e===e?ZRe(t,e,n):YRe(t,JRe,n)}var e2e=QRe,t2e=e2e;function n2e(t,e){var n=t==null?0:t.length;return!!n&&t2e(t,e,0)>-1}var r2e=n2e;function i2e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var o2e=i2e;function a2e(){}var s2e=a2e,BM=JK,l2e=s2e,c2e=lk,u2e=1/0,d2e=BM&&1/c2e(new BM([,-0]))[1]==u2e?function(t){return new BM(t)}:l2e,f2e=d2e,h2e=zK,p2e=r2e,m2e=o2e,g2e=HK,v2e=f2e,y2e=lk,x2e=200;function b2e(t,e,n){var r=-1,i=p2e,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=m2e;else if(o>=x2e){var c=e?null:v2e(t);if(c)return y2e(c);a=!1,i=g2e,l=new h2e}else l=e?[]:s;e:for(;++r<o;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}var _2e=b2e,w2e=Ts,S2e=_2e;function E2e(t,e){return t&&t.length?S2e(t,w2e(e)):[]}var A2e=E2e;const KB=rn(A2e);function rY(t,e,n){return e===!0?KB(t,n):Ct(e)?KB(t,e):t}function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}var T2e=["ref"];function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(n),!0).forEach(function(r){oE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oY(r.key),r)}}function P2e(t,e,n){return e&&JB(t.prototype,e),n&&JB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C2e(t,e,n){return e=Pw(e),O2e(t,iY()?Reflect.construct(e,n||[],Pw(t).constructor):e.apply(t,n))}function O2e(t,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R2e(t)}function R2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iY=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pw(t)}function N2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZO(t,e)}function ZO(t,e){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZO(t,e)}function oE(t,e,n){return e=oY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oY(t){var e=I2e(t,"string");return tp(e)=="symbol"?e:e+""}function I2e(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k2e(t,e){if(t==null)return{};var n=L2e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D2e(t){return t.value}function j2e(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var n=k2e(e,T2e);return V.createElement(sk,n)}var ZB=1,Sc=function(t){function e(){var n;M2e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=C2e(this,e,[].concat(i)),oE(n,"lastBoundingBox",{width:-1,height:-1}),n}return N2e(e,t),P2e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ZB||Math.abs(i.height-this.lastBoundingBox.height)>ZB)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();f={top:((u||0)-g.height)/2}}else f=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Bs(Bs({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Bs(Bs({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return V.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},j2e(o,Bs(Bs({},this.props),{},{payload:rY(u,c,D2e)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Bs(Bs({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&De(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(C.PureComponent);oE(Sc,"displayName","Legend");oE(Sc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QB=Ky,U2e=ck,F2e=eo,e4=QB?QB.isConcatSpreadable:void 0;function B2e(t){return F2e(t)||U2e(t)||!!(e4&&t&&t[e4])}var z2e=B2e,$2e=WK,H2e=z2e;function aY(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=H2e),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?aY(s,e-1,n,r,i):$2e(i,s):r||(i[i.length]=s)}return i}var sY=aY;function V2e(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var W2e=V2e,G2e=W2e,q2e=G2e(),X2e=q2e,K2e=X2e,Y2e=iE;function J2e(t,e){return t&&K2e(t,e,Y2e)}var lY=J2e,Z2e=Zy;function Q2e(t,e){return function(n,r){if(n==null)return n;if(!Z2e(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var eNe=Q2e,tNe=lY,nNe=eNe,rNe=nNe(tNe),hk=rNe,iNe=hk,oNe=Zy;function aNe(t,e){var n=-1,r=oNe(t)?Array(t.length):[];return iNe(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var cY=aNe;function sNe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var lNe=sNe,t4=$p;function cNe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=t4(t),a=e!==void 0,s=e===null,l=e===e,c=t4(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var uNe=cNe,dNe=uNe;function fNe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=dNe(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var hNe=fNe,zM=JI,pNe=ZI,mNe=Ts,gNe=cY,vNe=lNe,yNe=XK,xNe=hNe,bNe=Yp,_Ne=eo;function wNe(t,e,n){e.length?e=zM(e,function(o){return _Ne(o)?function(a){return pNe(a,o.length===1?o[0]:o)}:o}):e=[bNe];var r=-1;e=zM(e,yNe(mNe));var i=gNe(t,function(o,a,s){var l=zM(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return vNe(i,function(o,a){return xNe(o,a,n)})}var SNe=wNe;function ENe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ANe=ENe,TNe=ANe,n4=Math.max;function MNe(t,e,n){return e=n4(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=n4(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),TNe(t,this,s)}}var PNe=MNe;function CNe(t){return function(){return t}}var ONe=CNe,RNe=jd,NNe=function(){try{var t=RNe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),uY=NNe,INe=ONe,r4=uY,kNe=Yp,LNe=r4?function(t,e){return r4(t,"toString",{configurable:!0,enumerable:!1,value:INe(e),writable:!0})}:kNe,DNe=LNe,jNe=800,UNe=16,FNe=Date.now;function BNe(t){var e=0,n=0;return function(){var r=FNe(),i=UNe-(r-n);if(n=r,i>0){if(++e>=jNe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zNe=BNe,$Ne=DNe,HNe=zNe,VNe=HNe($Ne),WNe=VNe,GNe=Yp,qNe=PNe,XNe=WNe;function KNe(t,e){return XNe(qNe(t,e,GNe),t+"")}var YNe=KNe,JNe=qI,ZNe=Zy,QNe=uk,eIe=Yc;function tIe(t,e,n){if(!eIe(n))return!1;var r=typeof e;return(r=="number"?ZNe(n)&&QNe(e,n.length):r=="string"&&e in n)?JNe(n[e],t):!1}var aE=tIe,nIe=sY,rIe=SNe,iIe=YNe,i4=aE,oIe=iIe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&i4(t,e[0],e[1])?e=[]:n>2&&i4(e[0],e[1],e[2])&&(e=[e[0]]),rIe(t,nIe(e,1),[])}),aIe=oIe;const pk=rn(aIe);function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function QO(){return QO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QO.apply(this,arguments)}function sIe(t,e){return dIe(t)||uIe(t,e)||cIe(t,e)||lIe()}function lIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cIe(t,e){if(t){if(typeof t=="string")return o4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o4(t,e)}}function o4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function dIe(t){if(Array.isArray(t))return t}function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){fIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fIe(t,e,n){return e=hIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hIe(t){var e=pIe(t,"string");return Bv(e)=="symbol"?e:e+""}function pIe(t,e){if(Bv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mIe(t){return Array.isArray(t)&&br(t[0])&&br(t[1])?t.join(" ~ "):t}var gIe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,x=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,_=function(){if(u&&u.length){var U={padding:0,margin:0},X=(f?pk(u,f):u).map(function(j,W){if(j.type==="none")return null;var H=$M({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},s),Y=j.formatter||d||mIe,k=j.value,F=j.name,$=k,q=F;if(Y&&$!=null&&q!=null){var Z=Y(k,F,j,W,u);if(Array.isArray(Z)){var ee=sIe(Z,2);$=ee[0],q=ee[1]}else $=Z}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:H},br(q)?V.createElement("span",{className:"recharts-tooltip-item-name"},q):null,br(q)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},$),V.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:U},X)}return null},S=$M({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=$M({margin:0},c),M=!It(y),P=M?y:"",N=Lt("recharts-default-tooltip",p),R=Lt("recharts-tooltip-label",g);M&&x&&u!==void 0&&u!==null&&(P=x(y,u));var I=b?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",QO({className:N,style:S},I),V.createElement("p",{className:R,style:A},V.isValidElement(P)?P:"".concat(P)),_())};function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function Ub(t,e,n){return e=vIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vIe(t){var e=yIe(t,"string");return zv(e)=="symbol"?e:e+""}function yIe(t,e){if(zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ym="recharts-tooltip-wrapper",xIe={visibility:"hidden"};function bIe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Lt(Ym,Ub(Ub(Ub(Ub({},"".concat(Ym,"-right"),De(n)&&e&&De(e.x)&&n>=e.x),"".concat(Ym,"-left"),De(n)&&e&&De(e.x)&&n<e.x),"".concat(Ym,"-bottom"),De(r)&&e&&De(e.y)&&r>=e.y),"".concat(Ym,"-top"),De(r)&&e&&De(e.y)&&r<e.y))}function s4(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&De(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;if(e[r])return a[r]?u:d;if(a[r]){var f=u,p=l[r];return f<p?Math.max(d,l[r]):Math.max(u,l[r])}var g=d+s,y=l[r]+c;return g>y?Math.max(u,l[r]):Math.max(d,l[r])}function _Ie(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wIe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,d;return a.height>0&&a.width>0&&n?(u=s4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=s4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=_Ie({translateX:u,translateY:d,useTranslate3d:s})):c=xIe,{cssProperties:c,cssClasses:bIe({translateX:u,translateY:d,coordinate:n})}}function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function l4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(n),!0).forEach(function(r){tR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fY(r.key),r)}}function AIe(t,e,n){return e&&EIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TIe(t,e,n){return e=Cw(e),MIe(t,dY()?Reflect.construct(e,n||[],Cw(t).constructor):e.apply(t,n))}function MIe(t,e){if(e&&(np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PIe(t)}function PIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dY=function(){return!!t})()}function Cw(t){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cw(t)}function CIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eR(t,e)}function eR(t,e){return eR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eR(t,e)}function tR(t,e,n){return e=fY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=OIe(t,"string");return np(e)=="symbol"?e:e+""}function OIe(t,e){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u4=1,RIe=function(t){function e(){var n;SIe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=TIe(this,e,[].concat(i)),tR(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tR(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return CIe(e,t),AIe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>u4||Math.abs(r.height-this.state.lastBoundingBox.height)>u4)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,x=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,_=wIe({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),S=_.cssClasses,A=_.cssProperties,M=c4(c4({transition:f&&o?"transform ".concat(s,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return V.createElement("div",{tabIndex:-1,className:S,style:M,ref:function(N){r.wrapperNode=N}},c)}}])}(C.PureComponent),NIe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ps={isSsr:NIe(),get:function(e){return ps[e]},set:function(e,n){if(typeof e=="string")ps[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ps[i]=e[i]})}}};function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function d4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(n),!0).forEach(function(r){mk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pY(r.key),r)}}function LIe(t,e,n){return e&&kIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DIe(t,e,n){return e=Ow(e),jIe(t,hY()?Reflect.construct(e,n||[],Ow(t).constructor):e.apply(t,n))}function jIe(t,e){if(e&&(rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UIe(t)}function UIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hY=function(){return!!t})()}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ow(t)}function FIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nR(t,e)}function nR(t,e){return nR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nR(t,e)}function mk(t,e,n){return e=pY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pY(t){var e=BIe(t,"string");return rp(e)=="symbol"?e:e+""}function BIe(t,e){if(rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zIe(t){return t.dataKey}function $Ie(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(gIe,e)}var qo=function(t){function e(){return IIe(this,e),DIe(this,e,arguments)}return FIe(e,t),LIe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,x=i.position,v=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,A=g??[];d&&A.length&&(A=rY(g.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),y,zIe));var M=A.length>0;return V.createElement(RIe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:o,coordinate:u,hasPayload:M,offset:p,position:x,reverseDirection:v,useTranslate3d:b,viewBox:_,wrapperStyle:S},$Ie(c,f4(f4({},this.props),{},{payload:A})))}}])}(C.PureComponent);mk(qo,"displayName","Tooltip");mk(qo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ps.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HIe=As,VIe=function(){return HIe.Date.now()},WIe=VIe,GIe=/\s/;function qIe(t){for(var e=t.length;e--&&GIe.test(t.charAt(e)););return e}var XIe=qIe,KIe=XIe,YIe=/^\s+/;function JIe(t){return t&&t.slice(0,KIe(t)+1).replace(YIe,"")}var ZIe=JIe,QIe=ZIe,h4=Yc,eke=$p,p4=NaN,tke=/^[-+]0x[0-9a-f]+$/i,nke=/^0b[01]+$/i,rke=/^0o[0-7]+$/i,ike=parseInt;function oke(t){if(typeof t=="number")return t;if(eke(t))return p4;if(h4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=h4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=QIe(t);var n=nke.test(t);return n||rke.test(t)?ike(t.slice(2),n?2:8):tke.test(t)?p4:+t}var mY=oke,ake=Yc,HM=WIe,m4=mY,ske="Expected a function",lke=Math.max,cke=Math.min;function uke(t,e,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(ske);e=m4(e)||0,ake(n)&&(u=!!n.leading,d="maxWait"in n,o=d?lke(m4(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function p(M){var P=r,N=i;return r=i=void 0,c=M,a=t.apply(N,P),a}function g(M){return c=M,s=setTimeout(v,e),u?p(M):a}function y(M){var P=M-l,N=M-c,R=e-P;return d?cke(R,o-N):R}function x(M){var P=M-l,N=M-c;return l===void 0||P>=e||P<0||d&&N>=o}function v(){var M=HM();if(x(M))return b(M);s=setTimeout(v,y(M))}function b(M){return s=void 0,f&&r?p(M):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function S(){return s===void 0?a:b(HM())}function A(){var M=HM(),P=x(M);if(r=arguments,i=this,l=M,P){if(s===void 0)return g(l);if(d)return clearTimeout(s),s=setTimeout(v,e),p(l)}return s===void 0&&(s=setTimeout(v,e)),a}return A.cancel=_,A.flush=S,A}var dke=uke,fke=dke,hke=Yc,pke="Expected a function";function mke(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(pke);return hke(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fke(t,e,{leading:r,maxWait:e,trailing:i})}var gke=mke;const gY=rn(gke);function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){vke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vke(t,e,n){return e=yke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yke(t){var e=xke(t,"string");return $v(e)=="symbol"?e:e+""}function xke(t,e){if($v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bke(t,e){return Eke(t)||Ske(t,e)||wke(t,e)||_ke()}function _ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wke(t,e){if(t){if(typeof t=="string")return v4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v4(t,e)}}function v4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ske(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Eke(t){if(Array.isArray(t))return t}var rR=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,f=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,x=t.id,v=t.className,b=t.onResize,_=t.style,S=_===void 0?{}:_,A=C.useRef(null),M=C.useRef();M.current=b,C.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var P=C.useState({containerWidth:i.width,containerHeight:i.height}),N=bke(P,2),R=N[0],I=N[1],D=C.useCallback(function(X,j){I(function(W){var H=Math.round(X),Y=Math.round(j);return W.containerWidth===H&&W.containerHeight===Y?W:{containerWidth:H,containerHeight:Y}})},[]);C.useEffect(function(){var X=function(F){var $,q=F[0].contentRect,Z=q.width,ee=q.height;D(Z,ee),($=M.current)===null||$===void 0||$.call(M,Z,ee)};y>0&&(X=gY(X,y,{trailing:!0,leading:!1}));var j=new ResizeObserver(X),W=A.current.getBoundingClientRect(),H=W.width,Y=W.height;return D(H,Y),j.observe(A.current),function(){j.disconnect()}},[D,y]);var U=C.useMemo(function(){var X=R.containerWidth,j=R.containerHeight;if(X<0||j<0)return null;La(Wu(a)||Wu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),La(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Wu(a)?X:a,H=Wu(l)?j:l;n&&n>0&&(W?H=W/n:H&&(W=H*n),f&&H>f&&(H=f)),La(W>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,H,a,l,u,d,n);var Y=!Array.isArray(p)&&rl(p.type).endsWith("Chart");return V.Children.map(p,function(k){return fK.isElement(k)?C.cloneElement(k,Fb({width:W,height:H},Y?{style:Fb({height:"100%",width:"100%",maxHeight:H,maxWidth:W},k.props.style)}:{})):k})},[n,p,l,f,d,u,R,a]);return V.createElement("div",{id:x?"".concat(x):void 0,className:Lt("recharts-responsive-container",v),style:Fb(Fb({},S),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:A},U)}),sE=function(e){return null};sE.displayName="Cell";function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){Ake(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ake(t,e,n){return e=Tke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tke(t){var e=Mke(t,"string");return Hv(e)=="symbol"?e:e+""}function Mke(t,e){if(Hv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lf={widthCache:{},cacheCount:0},Pke=2e3,Cke={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},x4="recharts_measurement_span";function Oke(t){var e=iR({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ng=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ps.isSsr)return{width:0,height:0};var r=Oke(n),i=JSON.stringify({text:e,copyStyle:r});if(Lf.widthCache[i])return Lf.widthCache[i];try{var o=document.getElementById(x4);o||(o=document.createElement("span"),o.setAttribute("id",x4),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=iR(iR({},Cke),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Lf.widthCache[i]=l,++Lf.cacheCount>Pke&&(Lf.cacheCount=0,Lf.widthCache={}),l}catch{return{width:0,height:0}}},Rke=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function Rw(t,e){return Lke(t)||kke(t,e)||Ike(t,e)||Nke()}function Nke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ike(t,e){if(t){if(typeof t=="string")return b4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b4(t,e)}}function b4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Lke(t){if(Array.isArray(t))return t}function Dke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uke(r.key),r)}}function jke(t,e,n){return e&&_4(t.prototype,e),n&&_4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uke(t){var e=Fke(t,"string");return Vv(e)=="symbol"?e:e+""}function Fke(t,e){if(Vv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var w4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bke=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zke=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$ke=Object.keys(vY),lh="NaN";function Hke(t,e){return t*vY[e]}var Bb=function(){function t(e,n){Dke(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Bke.test(n)&&(this.num=NaN,this.unit=""),$ke.includes(n)&&(this.num=Hke(e,n),this.unit="px")}return jke(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=zke.exec(n))!==null&&r!==void 0?r:[],o=Rw(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function yY(t){if(t.includes(lh))return lh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=w4.exec(e))!==null&&n!==void 0?n:[],i=Rw(r,4),o=i[1],a=i[2],s=i[3],l=Bb.parse(o??""),c=Bb.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return lh;e=e.replace(w4,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=S4.exec(e))!==null&&d!==void 0?d:[],p=Rw(f,4),g=p[1],y=p[2],x=p[3],v=Bb.parse(g??""),b=Bb.parse(x??""),_=y==="+"?v.add(b):v.subtract(b);if(_.isNaN())return lh;e=e.replace(S4,_.toString())}return e}var E4=/\(([^()]*)\)/;function Vke(t){for(var e=t;e.includes("(");){var n=E4.exec(e),r=Rw(n,2),i=r[1];e=e.replace(E4,yY(i))}return e}function Wke(t){var e=t.replace(/\s+/g,"");return e=Vke(e),e=yY(e),e}function Gke(t){try{return Wke(t)}catch{return lh}}function VM(t){var e=Gke(t.slice(5,-1));return e===lh?"":e}var qke=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xke=["dx","dy","angle","className","breakAll"];function oR(){return oR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oR.apply(this,arguments)}function A4(t,e){if(t==null)return{};var n=Kke(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T4(t,e){return Qke(t)||Zke(t,e)||Jke(t,e)||Yke()}function Yke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jke(t,e){if(t){if(typeof t=="string")return M4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M4(t,e)}}function M4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Qke(t){if(Array.isArray(t))return t}var xY=/[ \f\n\r\t\v\u2028\u2029]+/,bY=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];It(n)||(r?o=n.toString().split(""):o=n.toString().split(xY));var a=o.map(function(l){return{word:l,width:Ng(l,i).width}}),s=r?0:Ng("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},eLe=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=De(a),d=s,f=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(H,Y){var k=Y.word,F=Y.width,$=H[H.length-1];if($&&(i==null||o||$.width+F+r<Number(i)))$.words.push(k),$.width+=F+r;else{var q={words:[k],width:F};H.push(q)}return H},[])},p=f(n),g=function(W){return W.reduce(function(H,Y){return H.width>Y.width?H:Y})};if(!u)return p;for(var y="",x=function(W){var H=d.slice(0,W),Y=bY({breakAll:c,style:l,children:H+y}).wordsWithComputedWidth,k=f(Y),F=k.length>a||g(k).width>Number(i);return[F,k]},v=0,b=d.length-1,_=0,S;v<=b&&_<=d.length-1;){var A=Math.floor((v+b)/2),M=A-1,P=x(M),N=T4(P,2),R=N[0],I=N[1],D=x(A),U=T4(D,1),X=U[0];if(!R&&!X&&(v=A+1),R&&X&&(b=A-1),!R&&X){S=I;break}_++}return S||p},P4=function(e){var n=It(e)?[]:e.toString().split(xY);return[{words:n}]},tLe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!ps.isSsr){var l,c,u=bY({breakAll:a,children:i,style:o});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return P4(i);return eLe({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return P4(i)},C4="#808080",wd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,p=f===void 0?"start":f,g=e.verticalAnchor,y=g===void 0?"end":g,x=e.fill,v=x===void 0?C4:x,b=A4(e,qke),_=C.useMemo(function(){return tLe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),S=b.dx,A=b.dy,M=b.angle,P=b.className,N=b.breakAll,R=A4(b,Xke);if(!br(r)||!br(o))return null;var I=r+(De(S)?S:0),D=o+(De(A)?A:0),U;switch(y){case"start":U=VM("calc(".concat(c,")"));break;case"middle":U=VM("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:U=VM("calc(".concat(_.length-1," * -").concat(s,")"));break}var X=[];if(d){var j=_[0].width,W=b.width;X.push("scale(".concat((De(W)?W/j:1)/j,")"))}return M&&X.push("rotate(".concat(M,", ").concat(I,", ").concat(D,")")),X.length&&(R.transform=X.join(" ")),V.createElement("text",oR({},ht(R,!0),{x:I,y:D,className:Lt("recharts-text",P),textAnchor:p,fill:v.includes("url")?C4:v}),_.map(function(H,Y){var k=H.words.join(N?"":" ");return V.createElement("tspan",{x:I,dy:Y===0?U:s,key:"".concat(k,"-").concat(Y)},k)}))};function Ec(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nLe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gk(t){let e,n,r;t.length!==2?(e=Ec,n=(s,l)=>Ec(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ec||t===nLe?t:rLe,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function rLe(){return 0}function _Y(t){return t===null?NaN:+t}function*iLe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const oLe=gk(Ec),Qy=oLe.right;gk(_Y).center;class O4 extends Map{constructor(e,n=lLe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(R4(this,e))}has(e){return super.has(R4(this,e))}set(e,n){return super.set(aLe(this,e),n)}delete(e){return super.delete(sLe(this,e))}}function R4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function aLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sLe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lLe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cLe(t=Ec){if(t===Ec)return wY;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function wY(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const uLe=Math.sqrt(50),dLe=Math.sqrt(10),fLe=Math.sqrt(2);function Nw(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=uLe?10:o>=dLe?5:o>=fLe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Nw(t,e,n*2):[s,l,c]}function aR(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Nw(e,t,n):Nw(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function sR(t,e,n){return e=+e,t=+t,n=+n,Nw(t,e,n)[2]}function lR(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?sR(e,t,n):sR(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function N4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function I4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function SY(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?wY:cLe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+f)),g=Math.min(r,Math.floor(e+(l-c)*d/l+f));SY(t,e,p,g,i)}const o=t[e];let a=n,s=r;for(Jm(t,n,e),i(t[r],o)>0&&Jm(t,n,r);a<s;){for(Jm(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Jm(t,n,s):(++s,Jm(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Jm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hLe(t,e,n){if(t=Float64Array.from(iLe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return I4(t);if(e>=1)return N4(t);var r,i=(r-1)*e,o=Math.floor(i),a=N4(SY(t,o).subarray(0,o+1)),s=I4(t.subarray(o+1));return a+(s-a)*(i-o)}}function pLe(t,e,n=_Y){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function mLe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ca(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function wl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cR=Symbol("implicit");function vk(){var t=new O4,e=[],n=[],r=cR;function i(o){let a=t.get(o);if(a===void 0){if(r!==cR)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new O4;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return vk(e,n).unknown(r)},ca.apply(i,arguments),i}function Wv(){var t=vk().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var f=e().length,p=i<r,g=p?i:r,y=p?r:i;o=(y-g)/Math.max(1,f-l+c*2),s&&(o=Math.floor(o)),g+=(y-g-o*(f-l))*u,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var x=mLe(f).map(function(v){return g+o*v});return n(p?x.reverse():x)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,d()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return Wv(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},ca.apply(d(),arguments)}function EY(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return EY(e())},t}function Ig(){return EY(Wv.apply(null,arguments).paddingInner(1))}function yk(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function AY(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function e0(){}var Gv=.7,Iw=1/Gv,Ah="\\s*([+-]?\\d+)\\s*",qv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ms="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gLe=/^#([0-9a-f]{3,8})$/,vLe=new RegExp(`^rgb\\(${Ah},${Ah},${Ah}\\)$`),yLe=new RegExp(`^rgb\\(${ms},${ms},${ms}\\)$`),xLe=new RegExp(`^rgba\\(${Ah},${Ah},${Ah},${qv}\\)$`),bLe=new RegExp(`^rgba\\(${ms},${ms},${ms},${qv}\\)$`),_Le=new RegExp(`^hsl\\(${qv},${ms},${ms}\\)$`),wLe=new RegExp(`^hsla\\(${qv},${ms},${ms},${qv}\\)$`),k4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yk(e0,Xv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:L4,formatHex:L4,formatHex8:SLe,formatHsl:ELe,formatRgb:D4,toString:D4});function L4(){return this.rgb().formatHex()}function SLe(){return this.rgb().formatHex8()}function ELe(){return TY(this).formatHsl()}function D4(){return this.rgb().formatRgb()}function Xv(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=gLe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?j4(e):n===3?new Gi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?zb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?zb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vLe.exec(t))?new Gi(e[1],e[2],e[3],1):(e=yLe.exec(t))?new Gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xLe.exec(t))?zb(e[1],e[2],e[3],e[4]):(e=bLe.exec(t))?zb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_Le.exec(t))?B4(e[1],e[2]/100,e[3]/100,1):(e=wLe.exec(t))?B4(e[1],e[2]/100,e[3]/100,e[4]):k4.hasOwnProperty(t)?j4(k4[t]):t==="transparent"?new Gi(NaN,NaN,NaN,0):null}function j4(t){return new Gi(t>>16&255,t>>8&255,t&255,1)}function zb(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gi(t,e,n,r)}function ALe(t){return t instanceof e0||(t=Xv(t)),t?(t=t.rgb(),new Gi(t.r,t.g,t.b,t.opacity)):new Gi}function uR(t,e,n,r){return arguments.length===1?ALe(t):new Gi(t,e,n,r??1)}function Gi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}yk(Gi,uR,AY(e0,{brighter(t){return t=t==null?Iw:Math.pow(Iw,t),new Gi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gv:Math.pow(Gv,t),new Gi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gi(ad(this.r),ad(this.g),ad(this.b),kw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U4,formatHex:U4,formatHex8:TLe,formatRgb:F4,toString:F4}));function U4(){return`#${Gu(this.r)}${Gu(this.g)}${Gu(this.b)}`}function TLe(){return`#${Gu(this.r)}${Gu(this.g)}${Gu(this.b)}${Gu((isNaN(this.opacity)?1:this.opacity)*255)}`}function F4(){const t=kw(this.opacity);return`${t===1?"rgb(":"rgba("}${ad(this.r)}, ${ad(this.g)}, ${ad(this.b)}${t===1?")":`, ${t})`}`}function kw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ad(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gu(t){return t=ad(t),(t<16?"0":"")+t.toString(16)}function B4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Oa(t,e,n,r)}function TY(t){if(t instanceof Oa)return new Oa(t.h,t.s,t.l,t.opacity);if(t instanceof e0||(t=Xv(t)),!t)return new Oa;if(t instanceof Oa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Oa(a,s,l,t.opacity)}function MLe(t,e,n,r){return arguments.length===1?TY(t):new Oa(t,e,n,r??1)}function Oa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yk(Oa,MLe,AY(e0,{brighter(t){return t=t==null?Iw:Math.pow(Iw,t),new Oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gv:Math.pow(Gv,t),new Oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gi(WM(t>=240?t-240:t+120,i,r),WM(t,i,r),WM(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Oa(z4(this.h),$b(this.s),$b(this.l),kw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=kw(this.opacity);return`${t===1?"hsl(":"hsla("}${z4(this.h)}, ${$b(this.s)*100}%, ${$b(this.l)*100}%${t===1?")":`, ${t})`}`}}));function z4(t){return t=(t||0)%360,t<0?t+360:t}function $b(t){return Math.max(0,Math.min(1,t||0))}function WM(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xk=t=>()=>t;function PLe(t,e){return function(n){return t+n*e}}function CLe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function OLe(t){return(t=+t)==1?MY:function(e,n){return n-e?CLe(e,n,t):xk(isNaN(e)?n:e)}}function MY(t,e){var n=e-t;return n?PLe(t,n):xk(isNaN(t)?e:t)}const $4=function t(e){var n=OLe(e);function r(i,o){var a=n((i=uR(i)).r,(o=uR(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=MY(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function RLe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function NLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ILe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Jp(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function kLe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Lw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function LLe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Jp(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var dR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,GM=new RegExp(dR.source,"g");function DLe(t){return function(){return t}}function jLe(t){return function(e){return t(e)+""}}function ULe(t,e){var n=dR.lastIndex=GM.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=dR.exec(t))&&(i=GM.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Lw(r,i)})),n=GM.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?jLe(l[0].x):DLe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function Jp(t,e){var n=typeof e,r;return e==null||n==="boolean"?xk(e):(n==="number"?Lw:n==="string"?(r=Xv(e))?(e=r,$4):ULe:e instanceof Xv?$4:e instanceof Date?kLe:NLe(e)?RLe:Array.isArray(e)?ILe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?LLe:Lw)(t,e)}function bk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function FLe(t,e){e===void 0&&(e=t,t=Jp);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function BLe(t){return function(){return t}}function Dw(t){return+t}var H4=[0,1];function Mi(t){return t}function fR(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:BLe(isNaN(e)?NaN:.5)}function zLe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $Le(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=fR(i,r),o=n(a,o)):(r=fR(r,i),o=n(o,a)),function(s){return o(r(s))}}function HLe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=fR(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Qy(t,s,1,r)-1;return o[l](i[l](s))}}function t0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lE(){var t=H4,e=H4,n=Jp,r,i,o,a=Mi,s,l,c;function u(){var f=Math.min(t.length,e.length);return a!==Mi&&(a=zLe(t[0],t[f-1])),s=f>2?HLe:$Le,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return d.invert=function(f){return a(i((c||(c=s(e,t.map(r),Lw)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Dw),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=bk,u()},d.clamp=function(f){return arguments.length?(a=f?!0:Mi,u()):a!==Mi},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,p){return r=f,i=p,u()}}function _k(){return lE()(Mi,Mi)}function VLe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jw(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ip(t){return t=jw(Math.abs(t)),t?t[1]:NaN}function WLe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function GLe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var qLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kv(t){if(!(e=qLe.exec(t)))throw new Error("invalid format: "+t);var e;return new wk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kv.prototype=wk.prototype;function wk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XLe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var PY;function KLe(t,e){var n=jw(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(PY=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+jw(t,Math.max(0,e+o-1))[0]}function V4(t,e){var n=jw(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const W4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:VLe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>V4(t*100,e),r:V4,s:KLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function G4(t){return t}var q4=Array.prototype.map,X4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function YLe(t){var e=t.grouping===void 0||t.thousands===void 0?G4:WLe(q4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?G4:GLe(q4.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Kv(d);var f=d.fill,p=d.align,g=d.sign,y=d.symbol,x=d.zero,v=d.width,b=d.comma,_=d.precision,S=d.trim,A=d.type;A==="n"?(b=!0,A="g"):W4[A]||(_===void 0&&(_=12),S=!0,A="g"),(x||f==="0"&&p==="=")&&(x=!0,f="0",p="=");var M=y==="$"?n:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",P=y==="$"?r:/[%p]/.test(A)?a:"",N=W4[A],R=/[defgprs%]/.test(A);_=_===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(D){var U=M,X=P,j,W,H;if(A==="c")X=N(D)+X,D="";else{D=+D;var Y=D<0||1/D<0;if(D=isNaN(D)?l:N(Math.abs(D),_),S&&(D=XLe(D)),Y&&+D==0&&g!=="+"&&(Y=!1),U=(Y?g==="("?g:s:g==="-"||g==="("?"":g)+U,X=(A==="s"?X4[8+PY/3]:"")+X+(Y&&g==="("?")":""),R){for(j=-1,W=D.length;++j<W;)if(H=D.charCodeAt(j),48>H||H>57){X=(H===46?i+D.slice(j+1):D.slice(j))+X,D=D.slice(0,j);break}}}b&&!x&&(D=e(D,1/0));var k=U.length+D.length+X.length,F=k<v?new Array(v-k+1).join(f):"";switch(b&&x&&(D=e(F+D,F.length?v-X.length:1/0),F=""),p){case"<":D=U+D+X+F;break;case"=":D=U+F+D+X;break;case"^":D=F.slice(0,k=F.length>>1)+U+D+X+F.slice(k);break;default:D=F+U+D+X;break}return o(D)}return I.toString=function(){return d+""},I}function u(d,f){var p=c((d=Kv(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(ip(f)/3)))*3,y=Math.pow(10,-g),x=X4[8+g/3];return function(v){return p(y*v)+x}}return{format:c,formatPrefix:u}}var Hb,Sk,CY;JLe({thousands:",",grouping:[3],currency:["$",""]});function JLe(t){return Hb=YLe(t),Sk=Hb.format,CY=Hb.formatPrefix,Hb}function ZLe(t){return Math.max(0,-ip(Math.abs(t)))}function QLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ip(e)/3)))*3-ip(Math.abs(t)))}function eDe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ip(e)-ip(t))+1}function OY(t,e,n,r){var i=lR(t,e,n),o;switch(r=Kv(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=QLe(i,a))&&(r.precision=o),CY(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=eDe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ZLe(i))&&(r.precision=o-(r.type==="%")*2);break}}return Sk(r)}function Jc(t){var e=t.domain;return t.ticks=function(n){var r=e();return aR(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return OY(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=sR(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Uw(){var t=_k();return t.copy=function(){return t0(t,Uw())},ca.apply(t,arguments),Jc(t)}function RY(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Dw),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return RY(t).unknown(e)},t=arguments.length?Array.from(t,Dw):[0,1],Jc(n)}function NY(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function K4(t){return Math.log(t)}function Y4(t){return Math.exp(t)}function tDe(t){return-Math.log(-t)}function nDe(t){return-Math.exp(-t)}function rDe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iDe(t){return t===10?rDe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function oDe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function J4(t){return(e,n)=>-t(-e,n)}function Ek(t){const e=t(K4,Y4),n=e.domain;let r=10,i,o;function a(){return i=oDe(r),o=iDe(r),n()[0]<0?(i=J4(i),o=J4(o),t(tDe,nDe)):t(K4,Y4),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),p=i(u),g,y;const x=s==null?10:+s;let v=[];if(!(r%1)&&p-f<x){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(g=1;g<r;++g)if(y=f<0?g/o(-f):g*o(f),!(y<c)){if(y>u)break;v.push(y)}}else for(;f<=p;++f)for(g=r-1;g>=1;--g)if(y=f>0?g/o(-f):g*o(f),!(y<c)){if(y>u)break;v.push(y)}v.length*2<x&&(v=aR(c,u,x))}else v=aR(f,p,Math.min(p-f,x)).map(o);return d?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Kv(l)).precision==null&&(l.trim=!0),l=Sk(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(NY(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function IY(){const t=Ek(lE()).domain([1,10]);return t.copy=()=>t0(t,IY()).base(t.base()),ca.apply(t,arguments),t}function Z4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Q4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ak(t){var e=1,n=t(Z4(e),Q4(e));return n.constant=function(r){return arguments.length?t(Z4(e=+r),Q4(e)):e},Jc(n)}function kY(){var t=Ak(lE());return t.copy=function(){return t0(t,kY()).constant(t.constant())},ca.apply(t,arguments)}function ez(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function aDe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sDe(t){return t<0?-t*t:t*t}function Tk(t){var e=t(Mi,Mi),n=1;function r(){return n===1?t(Mi,Mi):n===.5?t(aDe,sDe):t(ez(n),ez(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Jc(e)}function Mk(){var t=Tk(lE());return t.copy=function(){return t0(t,Mk()).exponent(t.exponent())},ca.apply(t,arguments),t}function lDe(){return Mk.apply(null,arguments).exponent(.5)}function tz(t){return Math.sign(t)*t*t}function cDe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function LY(){var t=_k(),e=[0,1],n=!1,r;function i(o){var a=cDe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(tz(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Dw)).map(tz)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return LY(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ca.apply(i,arguments),Jc(i)}function DY(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=pLe(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Qy(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ec),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return DY().domain(t).range(e).unknown(r)},ca.apply(o,arguments)}function jY(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Qy(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return jY().domain([t,e]).range(i).unknown(o)},ca.apply(Jc(a),arguments)}function UY(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Qy(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return UY().domain(t).range(e).unknown(n)},ca.apply(i,arguments)}const qM=new Date,XM=new Date;function Sr(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>Sr(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(qM.setTime(+o),XM.setTime(+a),t(qM),t(XM),Math.floor(n(qM,XM))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Fw=Sr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Fw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Fw);Fw.range;const Zs=1e3,ea=Zs*60,Qs=ea*60,ml=Qs*24,Pk=ml*7,nz=ml*30,KM=ml*365,qu=Sr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getUTCSeconds());qu.range;const Ck=Sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zs)},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getMinutes());Ck.range;const Ok=Sr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getUTCMinutes());Ok.range;const Rk=Sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zs-t.getMinutes()*ea)},(t,e)=>{t.setTime(+t+e*Qs)},(t,e)=>(e-t)/Qs,t=>t.getHours());Rk.range;const Nk=Sr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qs)},(t,e)=>(e-t)/Qs,t=>t.getUTCHours());Nk.range;const n0=Sr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ea)/ml,t=>t.getDate()-1);n0.range;const cE=Sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ml,t=>t.getUTCDate()-1);cE.range;const FY=Sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ml,t=>Math.floor(t/ml));FY.range;function Ud(t){return Sr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ea)/Pk)}const uE=Ud(0),Bw=Ud(1),uDe=Ud(2),dDe=Ud(3),op=Ud(4),fDe=Ud(5),hDe=Ud(6);uE.range;Bw.range;uDe.range;dDe.range;op.range;fDe.range;hDe.range;function Fd(t){return Sr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Pk)}const dE=Fd(0),zw=Fd(1),pDe=Fd(2),mDe=Fd(3),ap=Fd(4),gDe=Fd(5),vDe=Fd(6);dE.range;zw.range;pDe.range;mDe.range;ap.range;gDe.range;vDe.range;const Ik=Sr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ik.range;const kk=Sr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());kk.range;const gl=Sr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});gl.range;const vl=Sr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());vl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});vl.range;function BY(t,e,n,r,i,o){const a=[[qu,1,Zs],[qu,5,5*Zs],[qu,15,15*Zs],[qu,30,30*Zs],[o,1,ea],[o,5,5*ea],[o,15,15*ea],[o,30,30*ea],[i,1,Qs],[i,3,3*Qs],[i,6,6*Qs],[i,12,12*Qs],[r,1,ml],[r,2,2*ml],[n,1,Pk],[e,1,nz],[e,3,3*nz],[t,1,KM]];function s(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return f?g.reverse():g}function l(c,u,d){const f=Math.abs(u-c)/d,p=gk(([,,x])=>x).right(a,f);if(p===a.length)return t.every(lR(c/KM,u/KM,d));if(p===0)return Fw.every(Math.max(lR(c,u,d),1));const[g,y]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return g.every(y)}return[s,l]}const[yDe,xDe]=BY(vl,kk,dE,FY,Nk,Ok),[bDe,_De]=BY(gl,Ik,uE,n0,Rk,Ck);function YM(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function JM(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wDe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Qm(i),u=eg(i),d=Qm(o),f=eg(o),p=Qm(a),g=eg(a),y=Qm(s),x=eg(s),v=Qm(l),b=eg(l),_={a:Y,A:k,b:F,B:$,c:null,d:lz,e:lz,f:WDe,g:t3e,G:r3e,H:$De,I:HDe,j:VDe,L:zY,m:GDe,M:qDe,p:q,q:Z,Q:dz,s:fz,S:XDe,u:KDe,U:YDe,V:JDe,w:ZDe,W:QDe,x:null,X:null,y:e3e,Y:n3e,Z:i3e,"%":uz},S={a:ee,A:ne,b:ye,B:xe,c:null,d:cz,e:cz,f:l3e,g:y3e,G:b3e,H:o3e,I:a3e,j:s3e,L:HY,m:c3e,M:u3e,p:le,q:Re,Q:dz,s:fz,S:d3e,u:f3e,U:h3e,V:p3e,w:m3e,W:g3e,x:null,X:null,y:v3e,Y:x3e,Z:_3e,"%":uz},A={a:I,A:D,b:U,B:X,c:j,d:az,e:az,f:UDe,g:oz,G:iz,H:sz,I:sz,j:kDe,L:jDe,m:IDe,M:LDe,p:R,q:NDe,Q:BDe,s:zDe,S:DDe,u:MDe,U:PDe,V:CDe,w:TDe,W:ODe,x:W,X:H,y:oz,Y:iz,Z:RDe,"%":FDe};_.x=M(n,_),_.X=M(r,_),_.c=M(e,_),S.x=M(n,S),S.X=M(r,S),S.c=M(e,S);function M(de,he){return function(_e){var z=[],ve=-1,se=0,Se=de.length,ue,Be,Le;for(_e instanceof Date||(_e=new Date(+_e));++ve<Se;)de.charCodeAt(ve)===37&&(z.push(de.slice(se,ve)),(Be=rz[ue=de.charAt(++ve)])!=null?ue=de.charAt(++ve):Be=ue==="e"?" ":"0",(Le=he[ue])&&(ue=Le(_e,Be)),z.push(ue),se=ve+1);return z.push(de.slice(se,ve)),z.join("")}}function P(de,he){return function(_e){var z=Zm(1900,void 0,1),ve=N(z,de,_e+="",0),se,Se;if(ve!=_e.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(he&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(se=JM(Zm(z.y,0,1)),Se=se.getUTCDay(),se=Se>4||Se===0?zw.ceil(se):zw(se),se=cE.offset(se,(z.V-1)*7),z.y=se.getUTCFullYear(),z.m=se.getUTCMonth(),z.d=se.getUTCDate()+(z.w+6)%7):(se=YM(Zm(z.y,0,1)),Se=se.getDay(),se=Se>4||Se===0?Bw.ceil(se):Bw(se),se=n0.offset(se,(z.V-1)*7),z.y=se.getFullYear(),z.m=se.getMonth(),z.d=se.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Se="Z"in z?JM(Zm(z.y,0,1)).getUTCDay():YM(Zm(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Se+5)%7:z.w+z.U*7-(Se+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,JM(z)):YM(z)}}function N(de,he,_e,z){for(var ve=0,se=he.length,Se=_e.length,ue,Be;ve<se;){if(z>=Se)return-1;if(ue=he.charCodeAt(ve++),ue===37){if(ue=he.charAt(ve++),Be=A[ue in rz?he.charAt(ve++):ue],!Be||(z=Be(de,_e,z))<0)return-1}else if(ue!=_e.charCodeAt(z++))return-1}return z}function R(de,he,_e){var z=c.exec(he.slice(_e));return z?(de.p=u.get(z[0].toLowerCase()),_e+z[0].length):-1}function I(de,he,_e){var z=p.exec(he.slice(_e));return z?(de.w=g.get(z[0].toLowerCase()),_e+z[0].length):-1}function D(de,he,_e){var z=d.exec(he.slice(_e));return z?(de.w=f.get(z[0].toLowerCase()),_e+z[0].length):-1}function U(de,he,_e){var z=v.exec(he.slice(_e));return z?(de.m=b.get(z[0].toLowerCase()),_e+z[0].length):-1}function X(de,he,_e){var z=y.exec(he.slice(_e));return z?(de.m=x.get(z[0].toLowerCase()),_e+z[0].length):-1}function j(de,he,_e){return N(de,e,he,_e)}function W(de,he,_e){return N(de,n,he,_e)}function H(de,he,_e){return N(de,r,he,_e)}function Y(de){return a[de.getDay()]}function k(de){return o[de.getDay()]}function F(de){return l[de.getMonth()]}function $(de){return s[de.getMonth()]}function q(de){return i[+(de.getHours()>=12)]}function Z(de){return 1+~~(de.getMonth()/3)}function ee(de){return a[de.getUTCDay()]}function ne(de){return o[de.getUTCDay()]}function ye(de){return l[de.getUTCMonth()]}function xe(de){return s[de.getUTCMonth()]}function le(de){return i[+(de.getUTCHours()>=12)]}function Re(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var he=M(de+="",_);return he.toString=function(){return de},he},parse:function(de){var he=P(de+="",!1);return he.toString=function(){return de},he},utcFormat:function(de){var he=M(de+="",S);return he.toString=function(){return de},he},utcParse:function(de){var he=P(de+="",!0);return he.toString=function(){return de},he}}}var rz={"-":"",_:" ",0:"0"},Dr=/^\s*\d+/,SDe=/^%/,EDe=/[\\^$*+?|[\]().{}]/g;function nn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ADe(t){return t.replace(EDe,"\\$&")}function Qm(t){return new RegExp("^(?:"+t.map(ADe).join("|")+")","i")}function eg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function TDe(t,e,n){var r=Dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function MDe(t,e,n){var r=Dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function PDe(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function CDe(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ODe(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function iz(t,e,n){var r=Dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function oz(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function RDe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function NDe(t,e,n){var r=Dr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function IDe(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function az(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kDe(t,e,n){var r=Dr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sz(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function LDe(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function DDe(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jDe(t,e,n){var r=Dr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function UDe(t,e,n){var r=Dr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FDe(t,e,n){var r=SDe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function BDe(t,e,n){var r=Dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function zDe(t,e,n){var r=Dr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function lz(t,e){return nn(t.getDate(),e,2)}function $De(t,e){return nn(t.getHours(),e,2)}function HDe(t,e){return nn(t.getHours()%12||12,e,2)}function VDe(t,e){return nn(1+n0.count(gl(t),t),e,3)}function zY(t,e){return nn(t.getMilliseconds(),e,3)}function WDe(t,e){return zY(t,e)+"000"}function GDe(t,e){return nn(t.getMonth()+1,e,2)}function qDe(t,e){return nn(t.getMinutes(),e,2)}function XDe(t,e){return nn(t.getSeconds(),e,2)}function KDe(t){var e=t.getDay();return e===0?7:e}function YDe(t,e){return nn(uE.count(gl(t)-1,t),e,2)}function $Y(t){var e=t.getDay();return e>=4||e===0?op(t):op.ceil(t)}function JDe(t,e){return t=$Y(t),nn(op.count(gl(t),t)+(gl(t).getDay()===4),e,2)}function ZDe(t){return t.getDay()}function QDe(t,e){return nn(Bw.count(gl(t)-1,t),e,2)}function e3e(t,e){return nn(t.getFullYear()%100,e,2)}function t3e(t,e){return t=$Y(t),nn(t.getFullYear()%100,e,2)}function n3e(t,e){return nn(t.getFullYear()%1e4,e,4)}function r3e(t,e){var n=t.getDay();return t=n>=4||n===0?op(t):op.ceil(t),nn(t.getFullYear()%1e4,e,4)}function i3e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nn(e/60|0,"0",2)+nn(e%60,"0",2)}function cz(t,e){return nn(t.getUTCDate(),e,2)}function o3e(t,e){return nn(t.getUTCHours(),e,2)}function a3e(t,e){return nn(t.getUTCHours()%12||12,e,2)}function s3e(t,e){return nn(1+cE.count(vl(t),t),e,3)}function HY(t,e){return nn(t.getUTCMilliseconds(),e,3)}function l3e(t,e){return HY(t,e)+"000"}function c3e(t,e){return nn(t.getUTCMonth()+1,e,2)}function u3e(t,e){return nn(t.getUTCMinutes(),e,2)}function d3e(t,e){return nn(t.getUTCSeconds(),e,2)}function f3e(t){var e=t.getUTCDay();return e===0?7:e}function h3e(t,e){return nn(dE.count(vl(t)-1,t),e,2)}function VY(t){var e=t.getUTCDay();return e>=4||e===0?ap(t):ap.ceil(t)}function p3e(t,e){return t=VY(t),nn(ap.count(vl(t),t)+(vl(t).getUTCDay()===4),e,2)}function m3e(t){return t.getUTCDay()}function g3e(t,e){return nn(zw.count(vl(t)-1,t),e,2)}function v3e(t,e){return nn(t.getUTCFullYear()%100,e,2)}function y3e(t,e){return t=VY(t),nn(t.getUTCFullYear()%100,e,2)}function x3e(t,e){return nn(t.getUTCFullYear()%1e4,e,4)}function b3e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ap(t):ap.ceil(t),nn(t.getUTCFullYear()%1e4,e,4)}function _3e(){return"+0000"}function uz(){return"%"}function dz(t){return+t}function fz(t){return Math.floor(+t/1e3)}var Df,WY,GY;w3e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w3e(t){return Df=wDe(t),WY=Df.format,Df.parse,GY=Df.utcFormat,Df.utcParse,Df}function S3e(t){return new Date(t)}function E3e(t){return t instanceof Date?+t:+new Date(+t)}function Lk(t,e,n,r,i,o,a,s,l,c){var u=_k(),d=u.invert,f=u.domain,p=c(".%L"),g=c(":%S"),y=c("%I:%M"),x=c("%I %p"),v=c("%a %d"),b=c("%b %d"),_=c("%B"),S=c("%Y");function A(M){return(l(M)<M?p:s(M)<M?g:a(M)<M?y:o(M)<M?x:r(M)<M?i(M)<M?v:b:n(M)<M?_:S)(M)}return u.invert=function(M){return new Date(d(M))},u.domain=function(M){return arguments.length?f(Array.from(M,E3e)):f().map(S3e)},u.ticks=function(M){var P=f();return t(P[0],P[P.length-1],M??10)},u.tickFormat=function(M,P){return P==null?A:c(P)},u.nice=function(M){var P=f();return(!M||typeof M.range!="function")&&(M=e(P[0],P[P.length-1],M??10)),M?f(NY(P,M)):u},u.copy=function(){return t0(u,Lk(t,e,n,r,i,o,a,s,l,c))},u}function A3e(){return ca.apply(Lk(bDe,_De,gl,Ik,uE,n0,Rk,Ck,qu,WY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T3e(){return ca.apply(Lk(yDe,xDe,vl,kk,dE,cE,Nk,Ok,qu,GY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fE(){var t=0,e=1,n,r,i,o,a=Mi,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(f){var p,g;return arguments.length?([p,g]=f,a=d(p,g),c):[a(0),a(1)]}}return c.range=u(Jp),c.rangeRound=u(bk),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function Zc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qY(){var t=Jc(fE()(Mi));return t.copy=function(){return Zc(t,qY())},wl.apply(t,arguments)}function XY(){var t=Ek(fE()).domain([1,10]);return t.copy=function(){return Zc(t,XY()).base(t.base())},wl.apply(t,arguments)}function KY(){var t=Ak(fE());return t.copy=function(){return Zc(t,KY()).constant(t.constant())},wl.apply(t,arguments)}function Dk(){var t=Tk(fE());return t.copy=function(){return Zc(t,Dk()).exponent(t.exponent())},wl.apply(t,arguments)}function M3e(){return Dk.apply(null,arguments).exponent(.5)}function YY(){var t=[],e=Mi;function n(r){if(r!=null&&!isNaN(r=+r))return e((Qy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ec),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>hLe(t,o/r))},n.copy=function(){return YY(e).domain(t)},wl.apply(n,arguments)}function hE(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=Mi,u,d=!1,f;function p(y){return isNaN(y=+y)?f:(y=.5+((y=+u(y))-o)*(r*y<r*o?s:l),c(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),o=u(e=+e),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(c=y,p):c};function g(y){return function(x){var v,b,_;return arguments.length?([v,b,_]=x,c=FLe(y,[v,b,_]),p):[c(0),c(.5),c(1)]}}return p.range=g(Jp),p.rangeRound=g(bk),p.unknown=function(y){return arguments.length?(f=y,p):f},function(y){return u=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function JY(){var t=Jc(hE()(Mi));return t.copy=function(){return Zc(t,JY())},wl.apply(t,arguments)}function ZY(){var t=Ek(hE()).domain([.1,1,10]);return t.copy=function(){return Zc(t,ZY()).base(t.base())},wl.apply(t,arguments)}function QY(){var t=Ak(hE());return t.copy=function(){return Zc(t,QY()).constant(t.constant())},wl.apply(t,arguments)}function jk(){var t=Tk(hE());return t.copy=function(){return Zc(t,jk()).exponent(t.exponent())},wl.apply(t,arguments)}function P3e(){return jk.apply(null,arguments).exponent(.5)}const hz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wv,scaleDiverging:JY,scaleDivergingLog:ZY,scaleDivergingPow:jk,scaleDivergingSqrt:P3e,scaleDivergingSymlog:QY,scaleIdentity:RY,scaleImplicit:cR,scaleLinear:Uw,scaleLog:IY,scaleOrdinal:vk,scalePoint:Ig,scalePow:Mk,scaleQuantile:DY,scaleQuantize:jY,scaleRadial:LY,scaleSequential:qY,scaleSequentialLog:XY,scaleSequentialPow:Dk,scaleSequentialQuantile:YY,scaleSequentialSqrt:M3e,scaleSequentialSymlog:KY,scaleSqrt:lDe,scaleSymlog:kY,scaleThreshold:UY,scaleTime:A3e,scaleUtc:T3e,tickFormat:OY},Symbol.toStringTag,{value:"Module"}));var C3e=$p;function O3e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!C3e(a):n(a,s)))var s=a,l=o}return l}var pE=O3e;function R3e(t,e){return t>e}var eJ=R3e,N3e=pE,I3e=eJ,k3e=Yp;function L3e(t){return t&&t.length?N3e(t,k3e,I3e):void 0}var D3e=L3e;const mE=rn(D3e);function j3e(t,e){return t<e}var tJ=j3e,U3e=pE,F3e=tJ,B3e=Yp;function z3e(t){return t&&t.length?U3e(t,B3e,F3e):void 0}var $3e=z3e;const gE=rn($3e);var H3e=JI,V3e=Ts,W3e=cY,G3e=eo;function q3e(t,e){var n=G3e(t)?H3e:W3e;return n(t,V3e(e))}var X3e=q3e,K3e=sY,Y3e=X3e;function J3e(t,e){return K3e(Y3e(t,e),1)}var Z3e=J3e;const Q3e=rn(Z3e);var eje=fk;function tje(t,e){return eje(t,e)}var nje=tje;const r0=rn(nje);var Zp=1e9,rje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Fk,Nn=!0,aa="[DecimalError] ",sd=aa+"Invalid argument: ",Uk=aa+"Exponent out of range: ",Qp=Math.floor,Ru=Math.pow,ije=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bo,Rr=1e7,Pn=7,nJ=9007199254740991,$w=Qp(nJ/Pn),Ze={};Ze.absoluteValue=Ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ze.comparedTo=Ze.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Pn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ze.dividedBy=Ze.div=function(t){return il(this,new this.constructor(t))};Ze.dividedToIntegerBy=Ze.idiv=function(t){var e=this,n=e.constructor;return gn(il(e,new n(t),0,1),n.precision)};Ze.equals=Ze.eq=function(t){return!this.cmp(t)};Ze.exponent=function(){return dr(this)};Ze.greaterThan=Ze.gt=function(t){return this.cmp(t)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(t){return this.cmp(t)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(t){return this.cmp(t)<0};Ze.lessThanOrEqualTo=Ze.lte=function(t){return this.cmp(t)<1};Ze.logarithm=Ze.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(bo))throw Error(aa+"NaN");if(n.s<1)throw Error(aa+(n.s?"NaN":"-Infinity"));return n.eq(bo)?new r(0):(Nn=!1,e=il(Yv(n,o),Yv(t,o),o),Nn=!0,gn(e,i))};Ze.minus=Ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oJ(e,t):rJ(e,(t.s=-t.s,t))};Ze.modulo=Ze.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(aa+"NaN");return n.s?(Nn=!1,e=il(n,t,0,1).times(t),Nn=!0,n.minus(e)):gn(new r(n),i)};Ze.naturalExponential=Ze.exp=function(){return iJ(this)};Ze.naturalLogarithm=Ze.ln=function(){return Yv(this)};Ze.negated=Ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ze.plus=Ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rJ(e,t):oJ(e,(t.s=-t.s,t))};Ze.precision=Ze.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sd+t);if(e=dr(i)+1,r=i.d.length-1,n=r*Pn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ze.squareRoot=Ze.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(aa+"NaN")}for(t=dr(s),Nn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=ss(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Qp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(il(s,o,a+2)).times(.5),ss(o.d).slice(0,a)===(e=ss(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(gn(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Nn=!0,gn(r,n)};Ze.times=Ze.mul=function(t){var e,n,r,i,o,a,s,l,c,u=this,d=u.constructor,f=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=p.length,l<c&&(o=f,f=p,p=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*f[i-r-1]+e,o[i--]=s%Rr|0,e=s/Rr|0;o[i]=(o[i]+e)%Rr|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Nn?gn(t,d.precision):t};Ze.toDecimalPlaces=Ze.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(_s(t,0,Zp),e===void 0?e=r.rounding:_s(e,0,8),gn(n,t+dr(n)+1,e))};Ze.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Sd(r,!0):(_s(t,0,Zp),e===void 0?e=i.rounding:_s(e,0,8),r=gn(new i(r),t+1,e),n=Sd(r,!0,t+1)),n};Ze.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Sd(i):(_s(t,0,Zp),e===void 0?e=o.rounding:_s(e,0,8),r=gn(new o(i),t+dr(i)+1,e),n=Sd(r.abs(),!1,t+dr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ze.toInteger=Ze.toint=function(){var t=this,e=t.constructor;return gn(new e(t),dr(t)+1,e.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(bo);if(s=new l(s),!s.s){if(t.s<1)throw Error(aa+"Infinity");return s}if(s.eq(bo))return s;if(r=l.precision,t.eq(bo))return gn(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=u<0?-u:u)<=nJ){for(i=new l(bo),e=Math.ceil(r/Pn+4),Nn=!1;n%2&&(i=i.times(s),mz(i.d,e)),n=Qp(n/2),n!==0;)s=s.times(s),mz(s.d,e);return Nn=!0,t.s<0?new l(bo).div(i):gn(i,r)}}else if(o<0)throw Error(aa+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Nn=!1,i=t.times(Yv(s,r+c)),Nn=!0,i=iJ(i),i.s=o,i};Ze.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=dr(i),r=Sd(i,n<=o.toExpNeg||n>=o.toExpPos)):(_s(t,1,Zp),e===void 0?e=o.rounding:_s(e,0,8),i=gn(new o(i),t,e),n=dr(i),r=Sd(i,t<=n||n<=o.toExpNeg,t)),r};Ze.toSignificantDigits=Ze.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(_s(t,1,Zp),e===void 0?e=r.rounding:_s(e,0,8)),gn(new r(n),t,e)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dr(t),n=t.constructor;return Sd(t,e<=n.toExpNeg||e>=n.toExpPos)};function rJ(t,e){var n,r,i,o,a,s,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Nn?gn(e,d):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(d/Pn),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Rr|0,l[o]%=Rr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Nn?gn(e,d):e}function _s(t,e,n){if(t!==~~t||t<e||t>n)throw Error(sd+t)}function ss(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Pn-r.length,n&&(o+=Kl(n)),o+=r;a=t[e],r=a+"",n=Pn-r.length,n&&(o+=Kl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var il=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Rr|0,a=o/Rr|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Rr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,d,f,p,g,y,x,v,b,_,S,A,M,P,N,R=r.constructor,I=r.s==i.s?1:-1,D=r.d,U=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(aa+"Division by zero");for(l=r.e-i.e,P=U.length,A=D.length,p=new R(I),g=p.d=[],c=0;U[c]==(D[c]||0);)++c;if(U[c]>(D[c]||0)&&--l,o==null?b=o=R.precision:a?b=o+(dr(r)-dr(i))+1:b=o,b<0)return new R(0);if(b=b/Pn+2|0,c=0,P==1)for(u=0,U=U[0],b++;(c<A||u)&&b--;c++)_=u*Rr+(D[c]||0),g[c]=_/U|0,u=_%U|0;else{for(u=Rr/(U[0]+1)|0,u>1&&(U=t(U,u),D=t(D,u),P=U.length,A=D.length),S=P,y=D.slice(0,P),x=y.length;x<P;)y[x++]=0;N=U.slice(),N.unshift(0),M=U[0],U[1]>=Rr/2&&++M;do u=0,s=e(U,y,P,x),s<0?(v=y[0],P!=x&&(v=v*Rr+(y[1]||0)),u=v/M|0,u>1?(u>=Rr&&(u=Rr-1),d=t(U,u),f=d.length,x=y.length,s=e(d,y,f,x),s==1&&(u--,n(d,P<f?N:U,f))):(u==0&&(s=u=1),d=U.slice()),f=d.length,f<x&&d.unshift(0),n(y,d,x),s==-1&&(x=y.length,s=e(U,y,P,x),s<1&&(u++,n(y,P<x?N:U,x))),x=y.length):s===0&&(u++,y=[0]),g[c++]=u,s&&y[0]?y[x++]=D[S]||0:(y=[D[S]],x=1);while((S++<A||y[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,gn(p,a?o+dr(p)+1:o)}}();function iJ(t,e){var n,r,i,o,a,s,l=0,c=0,u=t.constructor,d=u.precision;if(dr(t)>16)throw Error(Uk+dr(t));if(!t.s)return new u(bo);for(e==null?(Nn=!1,s=d):s=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Ru(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new u(bo),u.precision=s;;){if(i=gn(i.times(t),s),n=n.times(++l),a=o.plus(il(i,n,s)),ss(a.d).slice(0,s)===ss(o.d).slice(0,s)){for(;c--;)o=gn(o.times(o),s);return u.precision=d,e==null?(Nn=!0,gn(o,d)):o}o=a}}function dr(t){for(var e=t.e*Pn,n=t.d[0];n>=10;n/=10)e++;return e}function ZM(t,e,n){if(e>t.LN10.sd())throw Nn=!0,n&&(t.precision=n),Error(aa+"LN10 precision limit exceeded");return gn(new t(t.LN10),e)}function Kl(t){for(var e="";t--;)e+="0";return e}function Yv(t,e){var n,r,i,o,a,s,l,c,u,d=1,f=10,p=t,g=p.d,y=p.constructor,x=y.precision;if(p.s<1)throw Error(aa+(p.s?"NaN":"-Infinity"));if(p.eq(bo))return new y(0);if(e==null?(Nn=!1,c=x):c=e,p.eq(10))return e==null&&(Nn=!0),ZM(y,c);if(c+=f,y.precision=c,n=ss(g),r=n.charAt(0),o=dr(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=ss(p.d),r=n.charAt(0),d++;o=dr(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1))}else return l=ZM(y,c+2,x).times(o+""),p=Yv(new y(r+"."+n.slice(1)),c-f).plus(l),y.precision=x,e==null?(Nn=!0,gn(p,x)):p;for(s=a=p=il(p.minus(bo),p.plus(bo),c),u=gn(p.times(p),c),i=3;;){if(a=gn(a.times(u),c),l=s.plus(il(a,new y(i),c)),ss(l.d).slice(0,c)===ss(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(ZM(y,c+2,x).times(o+""))),s=il(s,new y(d),c),y.precision=x,e==null?(Nn=!0,gn(s,x)):s;s=l,i+=2}}function pz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Qp(n/Pn),t.d=[],r=(n+1)%Pn,n<0&&(r+=Pn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Pn;r<i;)t.d.push(+e.slice(r,r+=Pn));e=e.slice(r),r=Pn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nn&&(t.e>$w||t.e<-$w))throw Error(Uk+n)}else t.s=0,t.e=0,t.d=[0];return t}function gn(t,e,n){var r,i,o,a,s,l,c,u,d=t.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Pn,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Pn),o=d.length,u>=o)return t;for(c=o=d[u],a=1;o>=10;o/=10)a++;r%=Pn,i=r-Pn+a}if(n!==void 0&&(o=Ru(10,a-i-1),s=c/o%10|0,l=e<0||d[u+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Ru(10,a-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=dr(t),d.length=1,e=e-o-1,d[0]=Ru(10,(Pn-e%Pn)%Pn),t.e=Qp(-e/Pn)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,o=1,u--):(d.length=u+1,o=Ru(10,Pn-r),d[u]=i>0?(c/Ru(10,a-i)%Ru(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==Rr&&(d[0]=1,++t.e);break}else{if(d[u]+=o,d[u]!=Rr)break;d[u--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Nn&&(t.e>$w||t.e<-$w))throw Error(Uk+dr(t));return t}function oJ(t,e){var n,r,i,o,a,s,l,c,u,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Nn?gn(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,s=d.length):(n=d,r=c,s=l.length),i=Math.max(Math.ceil(p/Pn),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Rr-1;--l[o],l[i]+=Rr}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Nn?gn(e,p):e):new f(0)}function Sd(t,e,n){var r,i=dr(t),o=ss(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Kl(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Kl(-i-1)+o,n&&(r=n-a)>0&&(o+=Kl(r))):i>=a?(o+=Kl(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Kl(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Kl(r))),t.s<0?"-"+o:o}function mz(t,e){if(t.length>e)return t.length=e,!0}function aJ(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(sd+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return pz(a,o.toString())}else if(typeof o!="string")throw Error(sd+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,ije.test(o))pz(a,o);else throw Error(sd+o)}if(i.prototype=Ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aJ,i.config=i.set=oje,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function oje(t){if(!t||typeof t!="object")throw Error(aa+"Object expected");var e,n,r,i=["precision",1,Zp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Qp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(sd+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sd+n+": "+r);return this}var Fk=aJ(rje);bo=new Fk(1);const pn=Fk;function aje(t){return uje(t)||cje(t)||lje(t)||sje()}function sje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lje(t,e){if(t){if(typeof t=="string")return hR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hR(t,e)}}function cje(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uje(t){if(Array.isArray(t))return hR(t)}function hR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dje=function(e){return e},sJ={"@@functional/placeholder":!0},lJ=function(e){return e===sJ},gz=function(e){return function n(){return arguments.length===0||arguments.length===1&&lJ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},fje=function t(e,n){return e===1?n:gz(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==sJ}).length;return a>=e?n.apply(void 0,i):t(e-a,gz(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(d){return lJ(d)?l.shift():d});return n.apply(void 0,aje(u).concat(l))}))})},vE=function(e){return fje(e.length,e)},pR=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},hje=vE(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),pje=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return dje;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},mR=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},cJ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function mje(t){var e;return t===0?e=1:e=Math.floor(new pn(t).abs().log(10).toNumber())+1,e}function gje(t,e,n){for(var r=new pn(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var vje=vE(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),yje=vE(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),xje=vE(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const yE={rangeStep:gje,getDigitCount:mje,interpolateNumber:vje,uninterpolateNumber:yje,uninterpolateTruncation:xje};function gR(t){return wje(t)||_je(t)||uJ(t)||bje()}function bje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _je(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wje(t){if(Array.isArray(t))return vR(t)}function Jv(t,e){return Aje(t)||Eje(t,e)||uJ(t,e)||Sje()}function Sje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uJ(t,e){if(t){if(typeof t=="string")return vR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vR(t,e)}}function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eje(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Aje(t){if(Array.isArray(t))return t}function dJ(t){var e=Jv(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function fJ(t,e,n){if(t.lte(0))return new pn(0);var r=yE.getDigitCount(t.toNumber()),i=new pn(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new pn(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new pn(Math.ceil(l))}function Tje(t,e,n){var r=1,i=new pn(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new pn(10).pow(yE.getDigitCount(t)-1),i=new pn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new pn(Math.floor(t)))}else t===0?i=new pn(Math.floor((e-1)/2)):n||(i=new pn(Math.floor(t)));var a=Math.floor((e-1)/2),s=pje(hje(function(l){return i.add(new pn(l-a).mul(r)).toNumber()}),pR);return s(0,e)}function hJ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new pn(0),tickMin:new pn(0),tickMax:new pn(0)};var o=fJ(new pn(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new pn(0):(a=new pn(t).add(e).div(2),a=a.sub(new pn(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new pn(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?hJ(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new pn(s).mul(o)),tickMax:a.add(new pn(l).mul(o))})}function Mje(t){var e=Jv(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=dJ([n,r]),l=Jv(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(gR(pR(0,i-1).map(function(){return 1/0}))):[].concat(gR(pR(0,i-1).map(function(){return-1/0})),[u]);return n>r?mR(d):d}if(c===u)return Tje(c,i,o);var f=hJ(c,u,a,o),p=f.step,g=f.tickMin,y=f.tickMax,x=yE.rangeStep(g,y.add(new pn(.1).mul(p)),p);return n>r?mR(x):x}function Pje(t,e){var n=Jv(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=dJ([r,i]),s=Jv(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=fJ(new pn(c).sub(l).div(u-1),o,0),f=[].concat(gR(yE.rangeStep(new pn(l),new pn(c).sub(new pn(.99).mul(d)),d)),[c]);return r>i?mR(f):f}var Cje=cJ(Mje),Oje=cJ(Pje),Rje="Invariant failed";function Ed(t,e){throw new Error(Rje)}var Nje=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function Ije(t,e){return jje(t)||Dje(t,e)||Lje(t,e)||kje()}function kje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lje(t,e){if(t){if(typeof t=="string")return vz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vz(t,e)}}function vz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function jje(t){if(Array.isArray(t))return t}function Uje(t,e){if(t==null)return{};var n=Fje(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zje(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gJ(r.key),r)}}function $je(t,e,n){return e&&zje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hje(t,e,n){return e=Vw(e),Vje(t,pJ()?Reflect.construct(e,n||[],Vw(t).constructor):e.apply(t,n))}function Vje(t,e){if(e&&(sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wje(t)}function Wje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pJ=function(){return!!t})()}function Vw(t){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vw(t)}function Gje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yR(t,e)}function yR(t,e){return yR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yR(t,e)}function mJ(t,e,n){return e=gJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gJ(t){var e=qje(t,"string");return sp(e)=="symbol"?e:e+""}function qje(t,e){if(sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i0=function(t){function e(){return Bje(this,e),Hje(this,e,arguments)}return Gje(e,t),$je(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,f=Uje(r,Nje),p=ht(f,!1);this.props.direction==="x"&&u.type!=="number"&&Ed();var g=l.map(function(y){var x=c(y,s),v=x.x,b=x.y,_=x.value,S=x.errorVal;if(!S)return null;var A=[],M,P;if(Array.isArray(S)){var N=Ije(S,2);M=N[0],P=N[1]}else M=P=S;if(o==="vertical"){var R=u.scale,I=b+i,D=I+a,U=I-a,X=R(_-M),j=R(_+P);A.push({x1:j,y1:D,x2:j,y2:U}),A.push({x1:X,y1:I,x2:j,y2:I}),A.push({x1:X,y1:D,x2:X,y2:U})}else if(o==="horizontal"){var W=d.scale,H=v+i,Y=H-a,k=H+a,F=W(_-M),$=W(_+P);A.push({x1:Y,y1:$,x2:k,y2:$}),A.push({x1:H,y1:F,x2:H,y2:$}),A.push({x1:Y,y1:F,x2:k,y2:F})}return V.createElement(Qt,Hw({className:"recharts-errorBar",key:"bar-".concat(A.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},p),A.map(function(q){return V.createElement("line",Hw({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return V.createElement(Qt,{className:"recharts-errorBars"},g)}}])}(V.Component);mJ(i0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mJ(i0,"displayName","ErrorBar");function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(n),!0).forEach(function(r){Xje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xje(t,e,n){return e=Kje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kje(t){var e=Yje(t,"string");return Zv(e)=="symbol"?e:e+""}function Yje(t,e){if(Zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vJ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=po(n,Sc);if(!a)return null;var s=Sc.defaultProps,l=s!==void 0?_u(_u({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(u,d){var f=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(y){return{type:a.props.iconType||f.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(u){var d=u.item,f=d.type.defaultProps,p=f!==void 0?_u(_u({},f),d.props):{},g=p.dataKey,y=p.name,x=p.legendType,v=p.hide;return{inactive:v,dataKey:g,type:l.iconType||x||"square",color:Bk(d),value:y||g,payload:p}}),_u(_u(_u({},l),Sc.getWithHeight(a,i)),{},{payload:c,item:a})};function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function xz(t){return eUe(t)||Qje(t)||Zje(t)||Jje()}function Jje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zje(t,e){if(t){if(typeof t=="string")return xR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xR(t,e)}}function Qje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eUe(t){if(Array.isArray(t))return xR(t)}function xR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(n),!0).forEach(function(r){Th(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Th(t,e,n){return e=tUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tUe(t){var e=nUe(t,"string");return Qv(e)=="symbol"?e:e+""}function nUe(t,e){if(Qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vr(t,e,n){return It(t)||It(e)?n:br(e)?Ao(t,e,n):Ct(e)?e(t):n}function kg(t,e,n,r){var i=Q3e(t,function(s){return vr(s,e)});if(n==="number"){var o=i.filter(function(s){return De(s)||parseFloat(s)});return o.length?[gE(o),mE(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!It(s)}):i;return a.map(function(s){return br(s)||s instanceof Date?s:""})}var rUe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,d=i[c].coordinate,f=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Ai(d-u)!==Ai(f-d)){var g=[];if(Ai(f-d)===Ai(l[1]-l[0])){p=f;var y=d+l[1]-l[0];g[0]=Math.min(y,(y+u)/2),g[1]=Math.max(y,(y+u)/2)}else{p=u;var x=f+l[1]-l[0];g[0]=Math.min(d,(x+d)/2),g[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){a=i[c].index;break}}else{var b=Math.min(u,f),_=Math.max(u,f);if(e>(b+d)/2&&e<=(_+d)/2){a=i[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<s-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===s-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){a=r[S].index;break}return a},Bk=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Gn(Gn({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},iUe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,d=Object.keys(u),f=0,p=d.length;f<p;f++){var g=u[d[f]],y=g.items,x=g.cateAxisId,v=y.filter(function(P){return rl(P.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,_=b!==void 0?Gn(Gn({},b),v[0].props):v[0].props,S=_.barSize,A=_[x];a[A]||(a[A]=[]);var M=It(S)?n:S;a[A].push({item:v[0],stackList:v.slice(1),barSize:It(M)?void 0:Ti(M,r,0)})}}return a},oUe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=Ti(n,i,0,!0),u,d=[];if(a[0].barSize===+a[0].barSize){var f=!1,p=i/l,g=a.reduce(function(S,A){return S+A.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(f=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,x={offset:y-c,size:0};u=a.reduce(function(S,A){var M={item:A.item,position:{offset:x.offset+x.size+c,size:f?p:A.barSize}},P=[].concat(xz(S),[M]);return x=P[P.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(N){P.push({item:N,position:x})}),P},d)}else{var v=Ti(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var b=(i-2*v-(l-1)*c)/l;b>1&&(b>>=0);var _=s===+s?Math.min(b,s):b;u=a.reduce(function(S,A,M){var P=[].concat(xz(S),[{item:A.item,position:{offset:v+(b+c)*M+(b-_)/2,size:_}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(N){P.push({item:N,position:P[P.length-1].position})}),P},d)}return u},aUe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=vJ({children:o,legendWidth:l});if(c){var u=i||{},d=u.width,f=u.height,p=c.align,g=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&De(e[p]))return Gn(Gn({},e),{},Th({},p,e[p]+(d||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&De(e[g]))return Gn(Gn({},e),{},Th({},g,e[g]+(f||0)))}return e},sUe=function(e,n,r){return It(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},yJ=function(e,n,r,i,o){var a=n.props.children,s=To(a,i0).filter(function(c){return sUe(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=vr(u,r);if(It(d))return c;var f=Array.isArray(d)?[gE(d),mE(d)]:[d,d],p=l.reduce(function(g,y){var x=vr(u,y,0),v=f[0]-Math.abs(Array.isArray(x)?x[0]:x),b=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},lUe=function(e,n,r,i,o){var a=n.map(function(s){return yJ(e,s,r,o,i)}).filter(function(s){return!It(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},xJ=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&yJ(e,l,c,i)||kg(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},bJ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},_J=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},el=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ai(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=o?o.indexOf(d):d;return{coordinate:i(f)+c,value:d,offset:c}});return u.filter(function(d){return!Jy(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+c,value:d,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,f){return{coordinate:i(d)+c,value:o?o[d]:d,index:f,offset:c}})},QM=new WeakMap,Vb=function(e,n){if(typeof n!="function")return e;QM.has(e)||QM.set(e,new WeakMap);var r=QM.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},wJ=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Wv(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Uw(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ig(),realScaleType:"point"}:o==="category"?{scale:Wv(),realScaleType:"band"}:{scale:Uw(),realScaleType:"linear"};if(Yy(i)){var l="scale".concat(eE(i));return{scale:(hz[l]||Ig)(),realScaleType:hz[l]?l:"point"}}return Ct(i)?{scale:i}:{scale:Ig(),realScaleType:"point"}},_z=1e-4,SJ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-_z,a=Math.max(i[0],i[1])+_z,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},cUe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},uUe=function(e,n){if(!n||n.length!==2||!De(n[0])||!De(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!De(e[0])||e[0]<r)&&(o[0]=r),(!De(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},dUe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Jy(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},fUe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Jy(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},hUe={sign:dUe,expand:NTe,none:Qh,silhouette:ITe,wiggle:kTe,positive:fUe},pUe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=hUe[r],a=RTe().keys(i).value(function(s,l){return+vr(s,l,0)}).order(HO).offset(o);return a(e)},mUe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(d,f){var p,g=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Gn(Gn({},f.type.defaultProps),f.props):f.props,y=g.stackId,x=g.hide;if(x)return d;var v=g[r],b=d[v]||{hasStack:!1,stackGroups:{}};if(br(y)){var _=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(f),b.hasStack=!0,b.stackGroups[y]=_}else b.stackGroups[qp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Gn(Gn({},d),{},Th({},v,b))},l),u={};return Object.keys(c).reduce(function(d,f){var p=c[f];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,x){var v=p.stackGroups[x];return Gn(Gn({},y),{},Th({},x,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:pUe(e,v.items,o)}))},g)}return Gn(Gn({},d),{},Th({},f,p))},u)},EJ=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Cje(c,o,s);return e.domain([gE(u),mE(u)]),{niceTicks:u}}if(o&&i==="number"){var d=e.domain(),f=Oje(d,o,s);return{niceTicks:f}}return null};function wz(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!It(i[e.dataKey])){var s=vw(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=vr(i,It(a)?e.dataKey:a);return It(l)?null:e.scale(l)}var Sz=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=vr(a,n.dataKey,n.domain[s]);return It(l)?null:n.scale(l)-o/2+i},gUe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},vUe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Gn(Gn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(br(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},yUe=function(e){return e.reduce(function(n,r){return[gE(r.concat([n[0]]).filter(De)),mE(r.concat([n[1]]).filter(De))]},[1/0,-1/0])},AJ=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,u){var d=yUe(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Ez=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Az=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bR=function(e,n,r){if(Ct(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(De(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Ez.test(e[0])){var o=+Ez.exec(e[0])[1];i[0]=n[0]-o}else Ct(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(De(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Az.test(e[1])){var a=+Az.exec(e[1])[1];i[1]=n[1]+a}else Ct(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ww=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=pk(n,function(d){return d.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},Tz=function(e,n,r){return!e||!e.length||r0(e,Ao(r,"type.defaultProps.domain"))?n:e},TJ=function(e,n){var r=e.type.defaultProps?Gn(Gn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Gn(Gn({},ht(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Bk(e),value:vr(n,i),type:l,payload:n,chartType:c,hide:u})};function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function Mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(n),!0).forEach(function(r){MJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MJ(t,e,n){return e=xUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xUe(t){var e=bUe(t,"string");return ey(e)=="symbol"?e:e+""}function bUe(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Ue(t,e){return AUe(t)||EUe(t,e)||SUe(t,e)||wUe()}function wUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SUe(t,e){if(t){if(typeof t=="string")return Pz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pz(t,e)}}function Pz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function AUe(t){if(Array.isArray(t))return t}var Gw=Math.PI/180,TUe=function(e){return e*180/Math.PI},wn=function(e,n,r,i){return{x:e+Math.cos(-Gw*i)*r,y:n+Math.sin(-Gw*i)*r}},PJ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},MUe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=Ti(e.cx,a,a/2),d=Ti(e.cy,s,s/2),f=PJ(a,s,r),p=Ti(e.innerRadius,f,0),g=Ti(e.outerRadius,f,f*.8),y=Object.keys(n);return y.reduce(function(x,v){var b=n[v],_=b.domain,S=b.reversed,A;if(It(b.range))i==="angleAxis"?A=[l,c]:i==="radiusAxis"&&(A=[p,g]),S&&(A=[A[1],A[0]]);else{A=b.range;var M=A,P=_Ue(M,2);l=P[0],c=P[1]}var N=wJ(b,o),R=N.realScaleType,I=N.scale;I.domain(_).range(A),SJ(I);var D=EJ(I,Vs(Vs({},b),{},{realScaleType:R})),U=Vs(Vs(Vs({},b),D),{},{range:A,radius:g,realScaleType:R,scale:I,cx:u,cy:d,innerRadius:p,outerRadius:g,startAngle:l,endAngle:c});return Vs(Vs({},x),{},MJ({},v,U))},{})},PUe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},CUe=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=PUe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:TUe(c),angleInRadian:c}},OUe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},RUe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},Cz=function(e,n){var r=e.x,i=e.y,o=CUe({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=OUe(n),d=u.startAngle,f=u.endAngle,p=s,g;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}return g?Vs(Vs({},n),{},{radius:a,angle:RUe(p,n)}):null},CJ=function(e){return!C.isValidElement(e)&&!Ct(e)&&typeof e!="boolean"?e.className:""};function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}var NUe=["offset"];function IUe(t){return jUe(t)||DUe(t)||LUe(t)||kUe()}function kUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LUe(t,e){if(t){if(typeof t=="string")return _R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _R(t,e)}}function DUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jUe(t){if(Array.isArray(t))return _R(t)}function _R(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UUe(t,e){if(t==null)return{};var n=FUe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oz(Object(n),!0).forEach(function(r){BUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BUe(t,e,n){return e=zUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zUe(t){var e=$Ue(t,"string");return ty(e)=="symbol"?e:e+""}function $Ue(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(this,arguments)}var HUe=function(e){var n=e.value,r=e.formatter,i=It(e.children)?n:e.children;return Ct(r)?r(i):i},VUe=function(e,n){var r=Ai(n-e),i=Math.min(Math.abs(n-e),360);return r*i},WUe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,x=(d+f)/2,v=VUe(p,g),b=v>=0?1:-1,_,S;i==="insideStart"?(_=p+b*a,S=y):i==="insideEnd"?(_=g-b*a,S=!y):i==="end"&&(_=g+b*a,S=y),S=v<=0?S:!S;var A=wn(c,u,x,_),M=wn(c,u,x,_+(S?1:-1)*359),P="M".concat(A.x,",").concat(A.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(M.x,",").concat(M.y),N=It(e.id)?qp("recharts-radial-line-"):e.id;return V.createElement("text",ny({},r,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",s)}),V.createElement("defs",null,V.createElement("path",{id:N,d:P})),V.createElement("textPath",{xlinkHref:"#".concat(N)},n))},GUe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,f=(u+d)/2;if(i==="outside"){var p=wn(a,s,c+r,f),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,v=wn(a,s,x,f),b=v.x,_=v.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},qUe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,u=a.height,d=u>=0?1:-1,f=d*i,p=d>0?"end":"start",g=d>0?"start":"end",y=c>=0?1:-1,x=y*i,v=y>0?"end":"start",b=y>0?"start":"end";if(o==="top"){var _={x:s+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return hr(hr({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:g};return hr(hr({},S),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var A={x:s-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return hr(hr({},A),r?{width:Math.max(A.x-r.x,0),height:u}:{})}if(o==="right"){var M={x:s+c+x,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return hr(hr({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:u}:{})}var P=r?{width:c,height:u}:{};return o==="insideLeft"?hr({x:s+x,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},P):o==="insideRight"?hr({x:s+c-x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},P):o==="insideTop"?hr({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:g},P):o==="insideBottom"?hr({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:p},P):o==="insideTopLeft"?hr({x:s+x,y:l+f,textAnchor:b,verticalAnchor:g},P):o==="insideTopRight"?hr({x:s+c-x,y:l+f,textAnchor:v,verticalAnchor:g},P):o==="insideBottomLeft"?hr({x:s+x,y:l+u-f,textAnchor:b,verticalAnchor:p},P):o==="insideBottomRight"?hr({x:s+c-x,y:l+u-f,textAnchor:v,verticalAnchor:p},P):Hp(o)&&(De(o.x)||Wu(o.x))&&(De(o.y)||Wu(o.y))?hr({x:s+Ti(o.x,c),y:l+Ti(o.y,u),textAnchor:"end",verticalAnchor:"end"},P):hr({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},XUe=function(e){return"cx"in e&&De(e.cx)};function kr(t){var e=t.offset,n=e===void 0?5:e,r=UUe(t,NUe),i=hr({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!o||It(s)&&It(l)&&!C.isValidElement(c)&&!Ct(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var p;if(Ct(c)){if(p=C.createElement(c,i),C.isValidElement(p))return p}else p=HUe(i);var g=XUe(o),y=ht(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return WUe(i,p,y);var x=g?GUe(i):qUe(i);return V.createElement(wd,ny({className:Lt("recharts-label",d)},y,x,{breakAll:f}),p)}kr.displayName="Label";var OJ=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,p=e.top,g=e.left,y=e.width,x=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(De(y)&&De(x)){if(De(d)&&De(f))return{x:d,y:f,width:y,height:x};if(De(p)&&De(g))return{x:p,y:g,width:y,height:x}}return De(d)&&De(f)?{x:d,y:f,width:0,height:0}:De(n)&&De(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},KUe=function(e,n){return e?e===!0?V.createElement(kr,{key:"label-implicit",viewBox:n}):br(e)?V.createElement(kr,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===kr?C.cloneElement(e,{key:"label-implicit",viewBox:n}):V.createElement(kr,{key:"label-implicit",content:e,viewBox:n}):Ct(e)?V.createElement(kr,{key:"label-implicit",content:e,viewBox:n}):Hp(e)?V.createElement(kr,ny({viewBox:n},e,{key:"label-implicit"})):null:null},YUe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=OJ(e),a=To(i,kr).map(function(l,c){return C.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=KUe(e.label,n||o);return[s].concat(IUe(a))};kr.parseViewBox=OJ;kr.renderCallByParent=YUe;function JUe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ZUe=JUe;const QUe=rn(ZUe);function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}var eFe=["valueAccessor"],tFe=["data","dataKey","clockWise","id","textBreakAll"];function nFe(t){return aFe(t)||oFe(t)||iFe(t)||rFe()}function rFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iFe(t,e){if(t){if(typeof t=="string")return wR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wR(t,e)}}function oFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aFe(t){if(Array.isArray(t))return wR(t)}function wR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function Rz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(n),!0).forEach(function(r){sFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sFe(t,e,n){return e=lFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lFe(t){var e=cFe(t,"string");return ry(e)=="symbol"?e:e+""}function cFe(t,e){if(ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iz(t,e){if(t==null)return{};var n=uFe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dFe=function(e){return Array.isArray(e.value)?QUe(e.value):e.value};function ol(t){var e=t.valueAccessor,n=e===void 0?dFe:e,r=Iz(t,eFe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=Iz(r,tFe);return!i||!i.length?null:V.createElement(Qt,{className:"recharts-label-list"},i.map(function(u,d){var f=It(o)?n(u,d):vr(u&&u.payload,o),p=It(s)?{}:{id:"".concat(s,"-").concat(d)};return V.createElement(kr,qw({},ht(u,!0),c,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:kr.parseViewBox(It(a)?u:Nz(Nz({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}ol.displayName="LabelList";function fFe(t,e){return t?t===!0?V.createElement(ol,{key:"labelList-implicit",data:e}):V.isValidElement(t)||Ct(t)?V.createElement(ol,{key:"labelList-implicit",data:e,content:t}):Hp(t)?V.createElement(ol,qw({data:e},t,{key:"labelList-implicit"})):null:null}function hFe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=To(r,ol).map(function(a,s){return C.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=fFe(t.label,e);return[o].concat(nFe(i))}ol.renderCallByParent=hFe;function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function SR(){return SR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SR.apply(this,arguments)}function kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(n),!0).forEach(function(r){pFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pFe(t,e,n){return e=mFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mFe(t){var e=gFe(t,"string");return iy(e)=="symbol"?e:e+""}function gFe(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vFe=function(e,n){var r=Ai(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Wb=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,d=Math.asin(l/u)/Gw,f=c?o:o+a*d,p=wn(n,r,u,f),g=wn(n,r,i,f),y=c?o-a*d:o,x=wn(n,r,u*Math.cos(d*Gw),y);return{center:p,circleTangency:g,lineTangency:x,theta:d}},RJ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=vFe(a,s),c=a+l,u=wn(n,r,o,a),d=wn(n,r,o,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=wn(n,r,i,a),g=wn(n,r,i,c);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},yFe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Ai(u-c),f=Wb({cx:n,cy:r,radius:o,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),p=f.circleTangency,g=f.lineTangency,y=f.theta,x=Wb({cx:n,cy:r,radius:o,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),v=x.circleTangency,b=x.lineTangency,_=x.theta,S=l?Math.abs(c-u):Math.abs(c-u)-y-_;if(S<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):RJ({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var A="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var M=Wb({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),P=M.circleTangency,N=M.lineTangency,R=M.theta,I=Wb({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),D=I.circleTangency,U=I.lineTangency,X=I.theta,j=l?Math.abs(c-u):Math.abs(c-u)-R-X;if(j<0&&a===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(U.x,",").concat(U.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(d>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},xFe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NJ=function(e){var n=Lz(Lz({},xFe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,f=n.className;if(a<o||u===d)return null;var p=Lt("recharts-sector",f),g=a-o,y=Ti(s,g,0,!0),x;return y>0&&Math.abs(u-d)<360?x=yFe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=RJ({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),V.createElement("path",SR({},ht(n,!0),{className:p,d:x,role:"img"}))};function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function ER(){return ER=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ER.apply(this,arguments)}function Dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dz(Object(n),!0).forEach(function(r){bFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bFe(t,e,n){return e=_Fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Fe(t){var e=wFe(t,"string");return oy(e)=="symbol"?e:e+""}function wFe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uz={curveBasisClosed:bTe,curveBasisOpen:_Te,curveBasis:xTe,curveBumpX:oTe,curveBumpY:aTe,curveLinearClosed:wTe,curveLinear:nE,curveMonotoneX:STe,curveMonotoneY:ETe,curveNatural:ATe,curveStep:TTe,curveStepAfter:PTe,curveStepBefore:MTe},Gb=function(e){return e.x===+e.x&&e.y===+e.y},tg=function(e){return e.x},ng=function(e){return e.y},SFe=function(e,n){if(Ct(e))return e;var r="curve".concat(eE(e));return(r==="curveMonotone"||r==="curveBump")&&n?Uz["".concat(r).concat(n==="vertical"?"Y":"X")]:Uz[r]||nE},EFe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=SFe(r,s),d=c?o.filter(function(y){return Gb(y)}):o,f;if(Array.isArray(a)){var p=c?a.filter(function(y){return Gb(y)}):a,g=d.map(function(y,x){return jz(jz({},y),{},{base:p[x]})});return s==="vertical"?f=Db().y(ng).x1(tg).x0(function(y){return y.base.x}):f=Db().x(tg).y1(ng).y0(function(y){return y.base.y}),f.defined(Gb).curve(u),f(g)}return s==="vertical"&&De(a)?f=Db().y(ng).x1(tg).x0(a):De(a)?f=Db().x(tg).y1(ng).y0(a):f=TK().x(tg).y(ng),f.defined(Gb).curve(u),f(d)},Xw=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?EFe(e):i;return V.createElement("path",ER({},ht(e,!1),yw(e),{className:Lt("recharts-curve",n),d:a,ref:o}))},AFe=Object.getOwnPropertyNames,TFe=Object.getOwnPropertySymbols,MFe=Object.prototype.hasOwnProperty;function Fz(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function qb(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Bz(t){return AFe(t).concat(TFe(t))}var IJ=Object.hasOwn||function(t,e){return MFe.call(t,e)};function em(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var kJ="_owner",zz=Object.getOwnPropertyDescriptor,$z=Object.keys;function PFe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function CFe(t,e){return em(t.getTime(),e.getTime())}function Hz(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var l=e.entries(),c=!1,u=0;(s=l.next())&&!s.done;){var d=a.value,f=d[0],p=d[1],g=s.value,y=g[0],x=g[1];!c&&!r[u]&&(c=n.equals(f,y,o,u,t,e,n)&&n.equals(p,x,f,y,t,e,n))&&(r[u]=!0),u++}if(!c)return!1;o++}return!0}function OFe(t,e,n){var r=$z(t),i=r.length;if($z(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===kJ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!IJ(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function rg(t,e,n){var r=Bz(t),i=r.length;if(Bz(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===kJ&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!IJ(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=zz(t,o),s=zz(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function RFe(t,e){return em(t.valueOf(),e.valueOf())}function NFe(t,e){return t.source===e.source&&t.flags===e.flags}function Vz(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),l=!1,c=0;(a=s.next())&&!a.done;)!l&&!r[c]&&(l=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function IFe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var kFe="[object Arguments]",LFe="[object Boolean]",DFe="[object Date]",jFe="[object Map]",UFe="[object Number]",FFe="[object Object]",BFe="[object RegExp]",zFe="[object Set]",$Fe="[object String]",HFe=Array.isArray,Wz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Gz=Object.assign,VFe=Object.prototype.toString.call.bind(Object.prototype.toString);function WFe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(u,d,f){if(u===d)return!0;if(u==null||d==null||typeof u!="object"||typeof d!="object")return u!==u&&d!==d;var p=u.constructor;if(p!==d.constructor)return!1;if(p===Object)return i(u,d,f);if(HFe(u))return e(u,d,f);if(Wz!=null&&Wz(u))return l(u,d,f);if(p===Date)return n(u,d,f);if(p===RegExp)return a(u,d,f);if(p===Map)return r(u,d,f);if(p===Set)return s(u,d,f);var g=VFe(u);return g===DFe?n(u,d,f):g===BFe?a(u,d,f):g===jFe?r(u,d,f):g===zFe?s(u,d,f):g===FFe?typeof u.then!="function"&&typeof d.then!="function"&&i(u,d,f):g===kFe?i(u,d,f):g===LFe||g===UFe||g===$Fe?o(u,d,f):!1}}function GFe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?rg:PFe,areDatesEqual:CFe,areMapsEqual:r?Fz(Hz,rg):Hz,areObjectsEqual:r?rg:OFe,arePrimitiveWrappersEqual:RFe,areRegExpsEqual:NFe,areSetsEqual:r?Fz(Vz,rg):Vz,areTypedArraysEqual:r?rg:IFe};if(n&&(i=Gz({},i,n(i))),e){var o=qb(i.areArraysEqual),a=qb(i.areMapsEqual),s=qb(i.areObjectsEqual),l=qb(i.areSetsEqual);i=Gz({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function qFe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function XFe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var u=r(),d=u.cache,f=d===void 0?e?new WeakMap:void 0:d,p=u.meta;return n(l,c,{cache:f,equals:i,meta:p,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var KFe=Qc();Qc({strict:!0});Qc({circular:!0});Qc({circular:!0,strict:!0});Qc({createInternalComparator:function(){return em}});Qc({strict:!0,createInternalComparator:function(){return em}});Qc({circular:!0,createInternalComparator:function(){return em}});Qc({circular:!0,createInternalComparator:function(){return em},strict:!0});function Qc(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=GFe(t),l=WFe(s),c=r?r(l):qFe(l);return XFe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function YFe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function qz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):YFe(i)};requestAnimationFrame(r)}function AR(t){"@babel/helpers - typeof";return AR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AR(t)}function JFe(t){return tBe(t)||eBe(t)||QFe(t)||ZFe()}function ZFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QFe(t,e){if(t){if(typeof t=="string")return Xz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xz(t,e)}}function Xz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tBe(t){if(Array.isArray(t))return t}function nBe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=JFe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){qz(i.bind(null,c),l);return}i(l),qz(i.bind(null,c));return}AR(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function Kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(n),!0).forEach(function(r){LJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LJ(t,e,n){return e=rBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rBe(t){var e=iBe(t,"string");return ay(e)==="symbol"?e:String(e)}function iBe(t,e){if(ay(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ay(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oBe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},aBe=function(e){return e},sBe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Lg=function(e,n){return Object.keys(n).reduce(function(r,i){return Yz(Yz({},r),{},LJ({},i,e(i,n[i])))},{})},Jz=function(e,n,r){return e.map(function(i){return"".concat(sBe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function lBe(t,e){return dBe(t)||uBe(t,e)||DJ(t,e)||cBe()}function cBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function dBe(t){if(Array.isArray(t))return t}function fBe(t){return mBe(t)||pBe(t)||DJ(t)||hBe()}function hBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DJ(t,e){if(t){if(typeof t=="string")return TR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TR(t,e)}}function pBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mBe(t){if(Array.isArray(t))return TR(t)}function TR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kw=1e-4,jJ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},UJ=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Zz=function(e,n){return function(r){var i=jJ(e,n);return UJ(i,r)}},gBe=function(e,n){return function(r){var i=jJ(e,n),o=[].concat(fBe(i.map(function(a,s){return a*s}).slice(1)),[0]);return UJ(o,r)}},Qz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=lBe(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var d=Zz(i,a),f=Zz(o,s),p=gBe(i,a),g=function(v){return v>1?1:v<0?0:v},y=function(v){for(var b=v>1?1:v,_=b,S=0;S<8;++S){var A=d(_)-b,M=p(_);if(Math.abs(A-b)<Kw||M<Kw)return f(_);_=g(_-A/M)}return f(_)};return y.isStepper=!1,y},vBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(u,d,f){var p=-(u-d)*r,g=f*o,y=f+(p-g)*s/1e3,x=f*s/1e3+u;return Math.abs(x-d)<Kw&&Math.abs(y)<Kw?[d,0]:[x,y]};return l.isStepper=!0,l.dt=s,l},yBe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Qz(i);case"spring":return vBe();default:if(i.split("(")[0]==="cubic-bezier")return Qz(i)}return typeof i=="function"?i:null};function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function e$(t){return _Be(t)||bBe(t)||FJ(t)||xBe()}function xBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Be(t){if(Array.isArray(t))return PR(t)}function t$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(n),!0).forEach(function(r){MR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MR(t,e,n){return e=wBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wBe(t){var e=SBe(t,"string");return sy(e)==="symbol"?e:String(e)}function SBe(t,e){if(sy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EBe(t,e){return MBe(t)||TBe(t,e)||FJ(t,e)||ABe()}function ABe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FJ(t,e){if(t){if(typeof t=="string")return PR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PR(t,e)}}function PR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function MBe(t){if(Array.isArray(t))return t}var Yw=function(e,n,r){return e+(n-e)*r},CR=function(e){var n=e.from,r=e.to;return n!==r},PBe=function t(e,n,r){var i=Lg(function(o,a){if(CR(a)){var s=e(a.from,a.to,a.velocity),l=EBe(s,2),c=l[0],u=l[1];return $r($r({},a),{},{from:c,velocity:u})}return a},n);return r<1?Lg(function(o,a){return CR(a)?$r($r({},a),{},{velocity:Yw(a.velocity,i[o].velocity,r),from:Yw(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const CBe=function(t,e,n,r,i){var o=oBe(t,e),a=o.reduce(function(x,v){return $r($r({},x),{},MR({},v,[t[v],e[v]]))},{}),s=o.reduce(function(x,v){return $r($r({},x),{},MR({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,d=function(){return null},f=function(){return Lg(function(v,b){return b.from},s)},p=function(){return!Object.values(s).filter(CR).length},g=function(v){c||(c=v);var b=v-c,_=b/n.dt;s=PBe(n,s,_),i($r($r($r({},t),e),f())),c=v,p()||(l=requestAnimationFrame(d))},y=function(v){u||(u=v);var b=(v-u)/r,_=Lg(function(A,M){return Yw.apply(void 0,e$(M).concat([n(b)]))},a);if(i($r($r($r({},t),e),_)),b<1)l=requestAnimationFrame(d);else{var S=Lg(function(A,M){return Yw.apply(void 0,e$(M).concat([n(1)]))},a);i($r($r($r({},t),e),S))}};return d=n.isStepper?g:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}var OBe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function RBe(t,e){if(t==null)return{};var n=NBe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NBe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eP(t){return DBe(t)||LBe(t)||kBe(t)||IBe()}function IBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kBe(t,e){if(t){if(typeof t=="string")return OR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(t,e)}}function LBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DBe(t){if(Array.isArray(t))return OR(t)}function OR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n$(Object(n),!0).forEach(function(r){hg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hg(t,e,n){return e=BJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BJ(r.key),r)}}function FBe(t,e,n){return e&&UBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BJ(t){var e=BBe(t,"string");return lp(e)==="symbol"?e:String(e)}function BBe(t,e){if(lp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RR(t,e)}function RR(t,e){return RR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RR(t,e)}function $Be(t){var e=HBe();return function(){var r=Jw(t),i;if(e){var o=Jw(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return NR(this,i)}}function NR(t,e){if(e&&(lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IR(t)}function IR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jw(t){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jw(t)}var ws=function(t){zBe(n,t);var e=$Be(n);function n(r,i){var o;jBe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,d=a.steps,f=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(IR(o)),o.changeStyle=o.changeStyle.bind(IR(o)),!s||p<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:u}),NR(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof f=="function")return o.state={style:c},NR(o);o.state={style:l?hg({},l,c):c}}else o.state={style:{}};return o}return FBe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,f=this.state.style;if(s){if(!a){var p={style:l?hg({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(p);return}if(!(KFe(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||c?d:i.to;if(this.state&&f){var x={style:l?hg({},l,y):y};(l&&f[l]!==y||!l&&f!==y)&&this.setState(x)}this.runAnimation(ga(ga({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,p=CBe(a,s,yBe(c),l,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([f,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,d=c.duration,f=d===void 0?0:d,p=function(y,x,v){if(v===0)return y;var b=x.duration,_=x.easing,S=_===void 0?"ease":_,A=x.style,M=x.properties,P=x.onAnimationEnd,N=v>0?a[v-1]:x,R=M||Object.keys(A);if(typeof S=="function"||S==="spring")return[].concat(eP(y),[o.runJSAnimation.bind(o,{from:N.style,to:A,duration:b,easing:S}),b]);var I=Jz(R,b,S),D=ga(ga(ga({},N.style),A),{},{transition:I});return[].concat(eP(y),[D,b,P]).filter(aBe)};return this.manager.start([l].concat(eP(a.reduce(p,[u,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=nBe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var y=s?hg({},s,l):l,x=Jz(Object.keys(y),a,c);g.start([u,o,ga(ga({},y),{},{transition:x}),a,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=RBe(i,OBe),c=C.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var d=function(p){var g=p.props,y=g.style,x=y===void 0?{}:y,v=g.className,b=C.cloneElement(p,ga(ga({},l),{},{style:ga(ga({},x),u),className:v}));return b};return c===1?d(C.Children.only(o)):V.createElement("div",null,C.Children.map(o,function(f){return d(f)}))}}]),n}(C.PureComponent);ws.displayName="Animate";ws.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ws.propTypes={from:Ge.oneOfType([Ge.object,Ge.string]),to:Ge.oneOfType([Ge.object,Ge.string]),attributeName:Ge.string,duration:Ge.number,begin:Ge.number,easing:Ge.oneOfType([Ge.string,Ge.func]),steps:Ge.arrayOf(Ge.shape({duration:Ge.number.isRequired,style:Ge.object.isRequired,easing:Ge.oneOfType([Ge.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ge.func]),properties:Ge.arrayOf("string"),onAnimationEnd:Ge.func})),children:Ge.oneOfType([Ge.node,Ge.func]),isActive:Ge.bool,canBegin:Ge.bool,onAnimationEnd:Ge.func,shouldReAnimate:Ge.bool,onAnimationStart:Ge.func,onAnimationReStart:Ge.func};Ge.object,Ge.object,Ge.object,Ge.element;Ge.object,Ge.object,Ge.object,Ge.oneOfType([Ge.array,Ge.element]),Ge.any;function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}function VBe(t,e){return XBe(t)||qBe(t,e)||GBe(t,e)||WBe()}function WBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GBe(t,e){if(t){if(typeof t=="string")return r$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r$(t,e)}}function r$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function XBe(t){if(Array.isArray(t))return t}function i$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(n),!0).forEach(function(r){KBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KBe(t,e,n){return e=YBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YBe(t){var e=JBe(t,"string");return ly(e)=="symbol"?e:e+""}function JBe(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a$=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=o[f]>a?a:o[f];u="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*d[1])),u+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*d[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);u="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},ZBe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),d=Math.min(a,a+l),f=Math.max(a,a+l);return r>=c&&r<=u&&i>=d&&i<=f}return!1},QBe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zk=function(e){var n=o$(o$({},QBe),e),r=C.useRef(),i=C.useState(-1),o=VBe(i,2),a=o[0],s=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,f=n.radius,p=n.className,g=n.animationEasing,y=n.animationDuration,x=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var _=Lt("recharts-rectangle",p);return b?V.createElement(ws,{canBegin:a>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:y,animationEasing:g,isActive:b},function(S){var A=S.width,M=S.height,P=S.x,N=S.y;return V.createElement(ws,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:v,easing:g},V.createElement("path",Zw({},ht(n,!0),{className:_,d:a$(P,N,A,M,f),ref:r})))}):V.createElement("path",Zw({},ht(n,!0),{className:_,d:a$(l,c,u,d,f)}))},e4e=["points","className","baseLinePoints","connectNulls"];function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}function t4e(t,e){if(t==null)return{};var n=n4e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s$(t){return a4e(t)||o4e(t)||i4e(t)||r4e()}function r4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4e(t,e){if(t){if(typeof t=="string")return kR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kR(t,e)}}function o4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a4e(t){if(Array.isArray(t))return kR(t)}function kR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l$=function(e){return e&&e.x===+e.x&&e.y===+e.y},s4e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){l$(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),l$(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Dg=function(e,n){var r=s4e(e);n&&(r=[r.reduce(function(o,a){return[].concat(s$(o),s$(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},l4e=function(e,n,r){var i=Dg(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Dg(n.reverse(),r).slice(1))},c4e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=t4e(e,e4e);if(!n||!n.length)return null;var s=Lt("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=l4e(n,i,o);return V.createElement("g",{className:s},V.createElement("path",ch({},ht(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?V.createElement("path",ch({},ht(a,!0),{fill:"none",d:Dg(n,o)})):null,l?V.createElement("path",ch({},ht(a,!0),{fill:"none",d:Dg(i,o)})):null)}var u=Dg(n,o);return V.createElement("path",ch({},ht(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:s,d:u}))};function LR(){return LR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LR.apply(this,arguments)}var xE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Lt("recharts-dot",o);return n===+n&&r===+r&&i===+i?V.createElement("circle",LR({},ht(e,!1),yw(e),{className:a,cx:n,cy:r,r:i})):null};function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}var u4e=["x","y","top","left","width","height","className"];function DR(){return DR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DR.apply(this,arguments)}function c$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(n),!0).forEach(function(r){f4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f4e(t,e,n){return e=h4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h4e(t){var e=p4e(t,"string");return cy(e)=="symbol"?e:e+""}function p4e(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m4e(t,e){if(t==null)return{};var n=g4e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var v4e=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},y4e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,f=e.height,p=f===void 0?0:f,g=e.className,y=m4e(e,u4e),x=d4e({x:r,y:o,top:s,left:c,width:d,height:p},y);return!De(r)||!De(o)||!De(d)||!De(p)||!De(s)||!De(c)?null:V.createElement("path",DR({},ht(x,!0),{className:Lt("recharts-cross",g),d:v4e(r,o,d,p,s,c)}))},x4e=pE,b4e=eJ,_4e=Ts;function w4e(t,e){return t&&t.length?x4e(t,_4e(e),b4e):void 0}var S4e=w4e;const E4e=rn(S4e);var A4e=pE,T4e=Ts,M4e=tJ;function P4e(t,e){return t&&t.length?A4e(t,T4e(e),M4e):void 0}var C4e=P4e;const O4e=rn(C4e);var R4e=["cx","cy","angle","ticks","axisLine"],N4e=["ticks","tick","angle","tickFormatter","stroke"];function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function u$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(n),!0).forEach(function(r){bE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d$(t,e){if(t==null)return{};var n=I4e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$J(r.key),r)}}function L4e(t,e,n){return e&&f$(t.prototype,e),n&&f$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function D4e(t,e,n){return e=Qw(e),j4e(t,zJ()?Reflect.construct(e,n||[],Qw(t).constructor):e.apply(t,n))}function j4e(t,e){if(e&&(cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U4e(t)}function U4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zJ=function(){return!!t})()}function Qw(t){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qw(t)}function F4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jR(t,e)}function jR(t,e){return jR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jR(t,e)}function bE(t,e,n){return e=$J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=B4e(t,"string");return cp(e)=="symbol"?e:e+""}function B4e(t,e){if(cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _E=function(t){function e(){return k4e(this,e),D4e(this,e,arguments)}return F4e(e,t),L4e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return wn(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=E4e(s,function(u){return u.coordinate||0}),c=O4e(s,function(u){return u.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,c=d$(r,R4e),u=s.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),d=wn(i,o,u[0],a),f=wn(i,o,u[1],a),p=wu(wu(wu({},ht(c,!1)),{},{fill:"none"},ht(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return V.createElement("line",jg({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=d$(i,N4e),d=this.getTickTextAnchor(),f=ht(u,!1),p=ht(a,!1),g=o.map(function(y,x){var v=r.getTickValueCoord(y),b=wu(wu(wu(wu({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},f),{},{stroke:"none",fill:c},p),{},{index:x},v),{},{payload:y});return V.createElement(Qt,jg({className:Lt("recharts-polar-radius-axis-tick",CJ(a)),key:"tick-".concat(y.coordinate)},_d(r.props,y,x)),e.renderTickItem(a,b,l?l(y.value,x):y.value))});return V.createElement(Qt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:V.createElement(Qt,{className:Lt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),kr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return V.isValidElement(r)?a=V.cloneElement(r,i):Ct(r)?a=r(i):a=V.createElement(wd,jg({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(C.PureComponent);bE(_E,"displayName","PolarRadiusAxis");bE(_E,"axisType","radiusAxis");bE(_E,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}function h$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(n),!0).forEach(function(r){wE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VJ(r.key),r)}}function $4e(t,e,n){return e&&p$(t.prototype,e),n&&p$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function H4e(t,e,n){return e=e1(e),V4e(t,HJ()?Reflect.construct(e,n||[],e1(t).constructor):e.apply(t,n))}function V4e(t,e){if(e&&(up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W4e(t)}function W4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HJ=function(){return!!t})()}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e1(t)}function G4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UR(t,e)}function UR(t,e){return UR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UR(t,e)}function wE(t,e,n){return e=VJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VJ(t){var e=q4e(t,"string");return up(e)=="symbol"?e:e+""}function q4e(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X4e=Math.PI/180,m$=1e-5,SE=function(t){function e(){return z4e(this,e),H4e(this,e,arguments)}return G4e(e,t),$4e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=wn(o,a,s,r.coordinate),f=wn(o,a,s+(l==="inner"?-1:1)*u,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*X4e),a;return o>m$?a=i==="outer"?"start":"end":o<-m$?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,c=Su(Su({},ht(this.props,!1)),{},{fill:"none"},ht(s,!1));if(l==="circle")return V.createElement(xE,Du({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var u=this.props.ticks,d=u.map(function(f){return wn(i,o,a,f.coordinate)});return V.createElement(c4e,Du({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=ht(this.props,!1),d=ht(a,!1),f=Su(Su({},u),{},{fill:"none"},ht(s,!1)),p=o.map(function(g,y){var x=r.getTickLineCoord(g),v=r.getTickTextAnchor(g),b=Su(Su(Su({textAnchor:v},u),{},{stroke:"none",fill:c},d),{},{index:y,payload:g,x:x.x2,y:x.y2});return V.createElement(Qt,Du({className:Lt("recharts-polar-angle-axis-tick",CJ(a)),key:"tick-".concat(g.coordinate)},_d(r.props,g,y)),s&&V.createElement("line",Du({className:"recharts-polar-angle-axis-tick-line"},f,x)),a&&e.renderTickItem(a,b,l?l(g.value,y):g.value))});return V.createElement(Qt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:V.createElement(Qt,{className:Lt("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return V.isValidElement(r)?a=V.cloneElement(r,i):Ct(r)?a=r(i):a=V.createElement(wd,Du({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(C.PureComponent);wE(SE,"displayName","PolarAngleAxis");wE(SE,"axisType","angleAxis");wE(SE,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var K4e=YK,Y4e=K4e(Object.getPrototypeOf,Object),J4e=Y4e,Z4e=bl,Q4e=J4e,eze=_l,tze="[object Object]",nze=Function.prototype,rze=Object.prototype,WJ=nze.toString,ize=rze.hasOwnProperty,oze=WJ.call(Object);function aze(t){if(!eze(t)||Z4e(t)!=tze)return!1;var e=Q4e(t);if(e===null)return!0;var n=ize.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&WJ.call(n)==oze}var sze=aze;const lze=rn(sze);var cze=bl,uze=_l,dze="[object Boolean]";function fze(t){return t===!0||t===!1||uze(t)&&cze(t)==dze}var hze=fze;const pze=rn(hze);function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(this,arguments)}function mze(t,e){return xze(t)||yze(t,e)||vze(t,e)||gze()}function gze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vze(t,e){if(t){if(typeof t=="string")return g$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g$(t,e)}}function g$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function xze(t){if(Array.isArray(t))return t}function v$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(n),!0).forEach(function(r){bze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bze(t,e,n){return e=_ze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ze(t){var e=wze(t,"string");return uy(e)=="symbol"?e:e+""}function wze(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x$=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Sze={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eze=function(e){var n=y$(y$({},Sze),e),r=C.useRef(),i=C.useState(-1),o=mze(i,2),a=o[0],s=o[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,f=n.height,p=n.className,g=n.animationEasing,y=n.animationDuration,x=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var b=Lt("recharts-trapezoid",p);return v?V.createElement(ws,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:y,animationEasing:g,isActive:v},function(_){var S=_.upperWidth,A=_.lowerWidth,M=_.height,P=_.x,N=_.y;return V.createElement(ws,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:g},V.createElement("path",t1({},ht(n,!0),{className:b,d:x$(P,N,S,A,M),ref:r})))}):V.createElement("g",null,V.createElement("path",t1({},ht(n,!0),{className:b,d:x$(l,c,u,d,f)})))},Aze=["option","shapeType","propTransformer","activeClassName","isActive"];function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function Tze(t,e){if(t==null)return{};var n=Mze(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b$(Object(n),!0).forEach(function(r){Pze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pze(t,e,n){return e=Cze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cze(t){var e=Oze(t,"string");return dy(e)=="symbol"?e:e+""}function Oze(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rze(t,e){return n1(n1({},e),t)}function Nze(t,e){return t==="symbols"}function _$(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return V.createElement(zk,n);case"trapezoid":return V.createElement(Eze,n);case"sector":return V.createElement(NJ,n);case"symbols":if(Nze(e))return V.createElement(ak,n);break;default:return null}}function Ize(t){return C.isValidElement(t)?t.props:t}function GJ(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Rze:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Tze(t,Aze),c;if(C.isValidElement(e))c=C.cloneElement(e,n1(n1({},l),Ize(e)));else if(Ct(e))c=e(l);else if(lze(e)&&!pze(e)){var u=i(e,l);c=V.createElement(_$,{shapeType:n,elementProps:u})}else{var d=l;c=V.createElement(_$,{shapeType:n,elementProps:d})}return s?V.createElement(Qt,{className:a},c):c}function EE(t,e){return e!=null&&"trapezoids"in t.props}function AE(t,e){return e!=null&&"sectors"in t.props}function fy(t,e){return e!=null&&"points"in t.props}function kze(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Lze(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Dze(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function jze(t,e){var n;return EE(t,e)?n=kze:AE(t,e)?n=Lze:fy(t,e)&&(n=Dze),n}function Uze(t,e){var n;return EE(t,e)?n="trapezoids":AE(t,e)?n="sectors":fy(t,e)&&(n="points"),n}function Fze(t,e){if(EE(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(AE(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return fy(t,e)?e.payload:{}}function Bze(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Uze(n,e),o=Fze(n,e),a=r.filter(function(l,c){var u=r0(o,l),d=n.props[i].filter(function(g){var y=jze(n,e);return y(g,e)}),f=n.props[i].indexOf(d[d.length-1]),p=c===f;return u&&p}),s=r.indexOf(a[a.length-1]);return s}var E_;function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function uh(){return uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uh.apply(this,arguments)}function w$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w$(Object(n),!0).forEach(function(r){Zo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XJ(r.key),r)}}function $ze(t,e,n){return e&&S$(t.prototype,e),n&&S$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hze(t,e,n){return e=r1(e),Vze(t,qJ()?Reflect.construct(e,n||[],r1(t).constructor):e.apply(t,n))}function Vze(t,e){if(e&&(dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wze(t)}function Wze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qJ=function(){return!!t})()}function r1(t){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r1(t)}function Gze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FR(t,e)}function FR(t,e){return FR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FR(t,e)}function Zo(t,e,n){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=qze(t,"string");return dp(e)=="symbol"?e:e+""}function qze(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sl=function(t){function e(n){var r;return zze(this,e),r=Hze(this,e,[n]),Zo(r,"pieRef",null),Zo(r,"sectorRefs",[]),Zo(r,"id",qp("recharts-pie-")),Zo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ct(i)&&i()}),Zo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ct(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Gze(e,t),$ze(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,u=ht(this.props,!1),d=ht(a,!1),f=ht(s,!1),p=a&&a.offsetRadius||20,g=r.map(function(y,x){var v=(y.startAngle+y.endAngle)/2,b=wn(y.cx,y.cy,y.outerRadius+p,v),_=xn(xn(xn(xn({},u),y),{},{stroke:"none"},d),{},{index:x,textAnchor:e.getTextAnchor(b.x,y.cx)},b),S=xn(xn(xn(xn({},u),y),{},{fill:"none",stroke:y.fill},f),{},{index:x,points:[wn(y.cx,y.cy,y.outerRadius,v),b]}),A=l;return It(l)&&It(c)?A="value":It(l)&&(A=c),V.createElement(Qt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,S,"line"),e.renderLabelItem(a,_,vr(y,A)))});return V.createElement(Qt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(u),f=l&&i.hasActiveIndex()?l:null,p=d?a:f,g=xn(xn({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return V.createElement(Qt,uh({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},_d(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),V.createElement(GJ,uh({option:p,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,f=d.prevSectors,p=d.prevIsAnimationActive;return V.createElement(ws,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,x=[],v=o&&o[0],b=v.startAngle;return o.forEach(function(_,S){var A=f&&f[S],M=S>0?Ao(_,"paddingAngle",0):0;if(A){var P=go(A.endAngle-A.startAngle,_.endAngle-_.startAngle),N=xn(xn({},_),{},{startAngle:b+M,endAngle:b+P(y)+M});x.push(N),b=N.endAngle}else{var R=_.endAngle,I=_.startAngle,D=go(0,R-I),U=D(y),X=xn(xn({},_),{},{startAngle:b+M,endAngle:b+U+M});x.push(X),b=X.endAngle}}),V.createElement(Qt,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!r0(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!a||!a.length||!De(c)||!De(u)||!De(d)||!De(f))return null;var y=Lt("recharts-pie",s);return V.createElement(Qt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(a),kr.renderCallByParent(this.props,null,!1),(!p||g)&&ol.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(V.isValidElement(r))return V.cloneElement(r,i);if(Ct(r))return r(i);var a=Lt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return V.createElement(Xw,uh({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(V.isValidElement(r))return V.cloneElement(r,i);var a=o;if(Ct(r)&&(a=r(i),V.isValidElement(a)))return a;var s=Lt("recharts-pie-label-text",typeof r!="boolean"&&!Ct(r)?r.className:"");return V.createElement(wd,uh({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(C.PureComponent);E_=Sl;Zo(Sl,"displayName","Pie");Zo(Sl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ps.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Zo(Sl,"parseDeltaAngle",function(t,e){var n=Ai(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Zo(Sl,"getRealPieData",function(t){var e=t.data,n=t.children,r=ht(t,!1),i=To(n,sE);return e&&e.length?e.map(function(o,a){return xn(xn(xn({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return xn(xn({},r),o.props)}):[]});Zo(Sl,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=PJ(i,o),s=r+Ti(t.cx,i,i/2),l=n+Ti(t.cy,o,o/2),c=Ti(t.innerRadius,a,0),u=Ti(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});Zo(Sl,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?xn(xn({},e.type.defaultProps),e.props):e.props,i=E_.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,f=r.tooltipType,p=Math.abs(r.minAngle),g=E_.parseCoordinateOfPie(r,n),y=E_.parseDeltaAngle(a,s),x=Math.abs(y),v=c;It(c)&&It(d)?(La(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):It(c)&&(La(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=d);var b=i.filter(function(N){return vr(N,v,0)!==0}).length,_=(x>=360?b:b-1)*l,S=x-b*p-_,A=i.reduce(function(N,R){var I=vr(R,v,0);return N+(De(I)?I:0)},0),M;if(A>0){var P;M=i.map(function(N,R){var I=vr(N,v,0),D=vr(N,u,R),U=(De(I)?I:0)/A,X;R?X=P.endAngle+Ai(y)*l*(I!==0?1:0):X=a;var j=X+Ai(y)*((I!==0?p:0)+U*S),W=(X+j)/2,H=(g.innerRadius+g.outerRadius)/2,Y=[{name:D,value:I,payload:N,dataKey:v,type:f}],k=wn(g.cx,g.cy,H,W);return P=xn(xn(xn({percent:U,cornerRadius:o,name:D,tooltipPayload:Y,midAngle:W,middleRadius:H,tooltipPosition:k},N),g),{},{value:vr(N,v),startAngle:X,endAngle:j,payload:N,paddingAngle:Ai(y)*l}),P})}return xn(xn({},g),{},{sectors:M,data:i})});var Xze=Math.ceil,Kze=Math.max;function Yze(t,e,n,r){for(var i=-1,o=Kze(Xze((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Jze=Yze,Zze=mY,E$=1/0,Qze=17976931348623157e292;function e$e(t){if(!t)return t===0?t:0;if(t=Zze(t),t===E$||t===-E$){var e=t<0?-1:1;return e*Qze}return t===t?t:0}var KJ=e$e,t$e=Jze,n$e=aE,tP=KJ;function r$e(t){return function(e,n,r){return r&&typeof r!="number"&&n$e(e,n,r)&&(n=r=void 0),e=tP(e),n===void 0?(n=e,e=0):n=tP(n),r=r===void 0?e<n?1:-1:tP(r),t$e(e,n,r,t)}}var i$e=r$e,o$e=i$e,a$e=o$e(),s$e=a$e;const i1=rn(s$e);function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function A$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return e=l$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l$e(t){var e=c$e(t,"string");return hy(e)=="symbol"?e:e+""}function c$e(t,e){if(hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u$e=["Webkit","Moz","O","ms"],d$e=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=u$e.reduce(function(o,a){return T$(T$({},o),{},YJ({},a+r,n))},{});return i[e]=n,i};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1.apply(this,arguments)}function M$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(n),!0).forEach(function(r){co(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZJ(r.key),r)}}function h$e(t,e,n){return e&&P$(t.prototype,e),n&&P$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p$e(t,e,n){return e=a1(e),m$e(t,JJ()?Reflect.construct(e,n||[],a1(t).constructor):e.apply(t,n))}function m$e(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g$e(t)}function g$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JJ=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a1(t)}function v$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BR(t,e)}function BR(t,e){return BR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BR(t,e)}function co(t,e,n){return e=ZJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=y$e(t,"string");return fp(e)=="symbol"?e:e+""}function y$e(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x$e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Ig().domain(i1(0,l)).range([o,o+a-s]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},C$=function(e){return e.changedTouches&&!!e.changedTouches.length},hp=function(t){function e(n){var r;return f$e(this,e),r=p$e(this,e,[n]),co(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),co(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),co(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),co(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),co(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),co(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),co(r,"handleSlideDragStart",function(i){var o=C$(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return v$e(e,t),h$e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,d=Math.min(i,o),f=Math.max(i,o),p=e.getIndexInRange(a,d),g=e.getIndexInRange(a,f);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=vr(o[r],s,r);return Ct(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,p=l.endIndex,g=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,c+u-d-s,c+u-d-a):y<0&&(y=Math.max(y,c-a,c-s));var x=this.getIndex({startX:a+y,endX:s+y});(x.startIndex!==f||x.endIndex!==p)&&g&&g(x),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=C$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,d=u.x,f=u.width,p=u.travellerWidth,g=u.onChange,y=u.gap,x=u.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+f-p-c):b<0&&(b=Math.max(b,d-c)),v[a]=c+b;var _=this.getIndex(v),S=_.startIndex,A=_.endIndex,M=function(){var N=x.length-1;return a==="startX"&&(s>l?S%y===0:A%y===0)||s<l&&A===N||a==="endX"&&(s>l?A%y===0:S%y===0)||s>l&&A===N};this.setState(co(co({},a,c+b),"brushMoveStartX",r.pageX),function(){g&&M()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],d=s.indexOf(u);if(d!==-1){var f=d+r;if(!(f===-1||f>=s.length)){var p=s[f];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(co({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return V.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,d=C.Children.only(c);return d?V.cloneElement(d,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,x=l.endIndex,v=Math.max(r,this.props.x),b=nP(nP({},ht(this.props,!1)),{},{x:v,y:c,width:u,height:d}),_=p||"Min value: ".concat((o=g[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[x])===null||a===void 0?void 0:a.name);return V.createElement(Qt,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,f=u.endX,p=5,g={pointerEvents:"none",fill:c};return V.createElement(Qt,{className:"recharts-brush-texts"},V.createElement(wd,o1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-p,y:a+s/2},g),this.getTextOfTick(i)),V.createElement(wd,o1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+p,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,f=this.state,p=f.startX,g=f.endX,y=f.isTextActive,x=f.isSlideMoving,v=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!De(s)||!De(l)||!De(c)||!De(u)||c<=0||u<=0)return null;var _=Lt("recharts-brush",o),S=V.Children.count(a)===1,A=d$e("userSelect","none");return V.createElement(Qt,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||x||v||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),V.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return V.isValidElement(r)?o=V.cloneElement(r,i):Ct(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return nP({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?x$e({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(C.PureComponent);co(hp,"displayName","Brush");co(hp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var b$e=hk;function _$e(t,e){var n;return b$e(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var w$e=_$e,S$e=$K,E$e=Ts,A$e=w$e,T$e=eo,M$e=aE;function P$e(t,e,n){var r=T$e(t)?S$e:A$e;return n&&M$e(t,e,n)&&(e=void 0),r(t,E$e(e))}var C$e=P$e;const O$e=rn(C$e);var gs=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},O$=uY;function R$e(t,e,n){e=="__proto__"&&O$?O$(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var N$e=R$e,I$e=N$e,k$e=lY,L$e=Ts;function D$e(t,e){var n={};return e=L$e(e),k$e(t,function(r,i,o){I$e(n,i,e(r,i,o))}),n}var j$e=D$e;const U$e=rn(j$e);function F$e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var B$e=F$e,z$e=hk;function $$e(t,e){var n=!0;return z$e(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var H$e=$$e,V$e=B$e,W$e=H$e,G$e=Ts,q$e=eo,X$e=aE;function K$e(t,e,n){var r=q$e(t)?V$e:W$e;return n&&X$e(t,e,n)&&(e=void 0),r(t,G$e(e))}var Y$e=K$e;const QJ=rn(Y$e);var J$e=["x","y"];function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function zR(){return zR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zR.apply(this,arguments)}function R$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R$(Object(n),!0).forEach(function(r){Z$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z$e(t,e,n){return e=Q$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q$e(t){var e=e5e(t,"string");return py(e)=="symbol"?e:e+""}function e5e(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t5e(t,e){if(t==null)return{};var n=n5e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function r5e(t,e){var n=t.x,r=t.y,i=t5e(t,J$e),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),f=parseInt(d,10);return ig(ig(ig(ig(ig({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function N$(t){return V.createElement(GJ,zR({shapeType:"rectangle",propTransformer:r5e,activeClassName:"recharts-active-bar"},t))}var i5e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Ed(),n)}},o5e=["value","background"],eZ;function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function a5e(t,e){if(t==null)return{};var n=s5e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(this,arguments)}function I$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(n),!0).forEach(function(r){cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nZ(r.key),r)}}function c5e(t,e,n){return e&&k$(t.prototype,e),n&&k$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u5e(t,e,n){return e=l1(e),d5e(t,tZ()?Reflect.construct(e,n||[],l1(t).constructor):e.apply(t,n))}function d5e(t,e){if(e&&(pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f5e(t)}function f5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tZ=function(){return!!t})()}function l1(t){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l1(t)}function h5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$R(t,e)}function $R(t,e){return $R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$R(t,e)}function cc(t,e,n){return e=nZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nZ(t){var e=p5e(t,"string");return pp(e)=="symbol"?e:e+""}function p5e(t,e){if(pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o0=function(t){function e(){var n;l5e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=u5e(this,e,[].concat(i)),cc(n,"state",{isAnimationFinished:!1}),cc(n,"id",qp("recharts-bar-")),cc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),cc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return h5e(e,t),c5e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=ht(this.props,!1);return r&&r.map(function(d,f){var p=f===l,g=p?c:a,y=ar(ar(ar({},u),d),{},{isActive:p,option:g,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(Qt,s1({className:"recharts-bar-rectangle"},_d(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),V.createElement(N$,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return V.createElement(ws,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=o.map(function(x,v){var b=f&&f[v];if(b){var _=go(b.x,x.x),S=go(b.y,x.y),A=go(b.width,x.width),M=go(b.height,x.height);return ar(ar({},x),{},{x:_(g),y:S(g),width:A(g),height:M(g)})}if(a==="horizontal"){var P=go(0,x.height),N=P(g);return ar(ar({},x),{},{y:x.y+x.height-N,height:N})}var R=go(0,x.width),I=R(g);return ar(ar({},x),{},{width:I})});return V.createElement(Qt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!r0(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ht(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,f=a5e(c,o5e);if(!d)return null;var p=ar(ar(ar(ar(ar({},f),{},{fill:"#eee"},d),l),_d(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return V.createElement(N$,s1({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=To(u,i0);if(!d)return null;var f=c==="vertical"?a[0].height/2:a[0].width/2,p=function(x,v){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:vr(x,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(Qt,g,d.map(function(y){return V.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,f=r.height,p=r.isAnimationActive,g=r.background,y=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,v=Lt("recharts-bar",a),b=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,S=b||_,A=It(y)?this.id:y;return V.createElement(Qt,{className:v},b||_?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(A)},V.createElement("rect",{x:b?c:c-d/2,y:_?u:u-f/2,width:b?d:d*2,height:_?f:f*2}))):null,V.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(A,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,A),(!p||x)&&ol.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(C.PureComponent);eZ=o0;cc(o0,"displayName","Bar");cc(o0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ps.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cc(o0,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,p=cUe(r,n);if(!p)return null;var g=e.layout,y=n.type.defaultProps,x=y!==void 0?ar(ar({},y),n.props):n.props,v=x.dataKey,b=x.children,_=x.minPointSize,S=g==="horizontal"?a:o,A=c?S.scale.domain():null,M=gUe({numericAxis:S}),P=To(b,sE),N=d.map(function(R,I){var D,U,X,j,W,H;c?D=uUe(c[u+I],A):(D=vr(R,v),Array.isArray(D)||(D=[M,D]));var Y=i5e(_,eZ.defaultProps.minPointSize)(D[1],I);if(g==="horizontal"){var k,F=[a.scale(D[0]),a.scale(D[1])],$=F[0],q=F[1];U=Sz({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:R,index:I}),X=(k=q??$)!==null&&k!==void 0?k:void 0,j=p.size;var Z=$-q;if(W=Number.isNaN(Z)?0:Z,H={x:U,y:a.y,width:j,height:a.height},Math.abs(Y)>0&&Math.abs(W)<Math.abs(Y)){var ee=Ai(W||Y)*(Math.abs(Y)-Math.abs(W));X-=ee,W+=ee}}else{var ne=[o.scale(D[0]),o.scale(D[1])],ye=ne[0],xe=ne[1];if(U=ye,X=Sz({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:R,index:I}),j=xe-ye,W=p.size,H={x:o.x,y:X,width:o.width,height:W},Math.abs(Y)>0&&Math.abs(j)<Math.abs(Y)){var le=Ai(j||Y)*(Math.abs(Y)-Math.abs(j));j+=le}}return ar(ar(ar({},R),{},{x:U,y:X,width:j,height:W,value:c?D:D[1],payload:R,background:H},P&&P[I]&&P[I].props),{},{tooltipPayload:[TJ(n,R)],tooltipPosition:{x:U+j/2,y:X+W/2}})});return ar({data:N,layout:g},f)});function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function m5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rZ(r.key),r)}}function g5e(t,e,n){return e&&L$(t.prototype,e),n&&L$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function D$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(n),!0).forEach(function(r){TE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TE(t,e,n){return e=rZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=v5e(t,"string");return my(e)=="symbol"?e:e+""}function v5e(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y5e=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},f=!!po(c,o0);return u.reduce(function(p,g){var y=n[g],x=y.orientation,v=y.domain,b=y.padding,_=b===void 0?{}:b,S=y.mirror,A=y.reversed,M="".concat(x).concat(S?"Mirror":""),P,N,R,I,D;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var U=v[1]-v[0],X=1/0,j=y.categoricalDomain.sort();if(j.forEach(function(ne,ye){ye>0&&(X=Math.min((ne||0)-(j[ye-1]||0),X))}),Number.isFinite(X)){var W=X/U,H=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(P=W*H/2),y.padding==="no-gap"){var Y=Ti(e.barCategoryGap,W*H),k=W*H/2;P=k-Y-(k-Y)/H*Y}}}i==="xAxis"?N=[r.left+(_.left||0)+(P||0),r.left+r.width-(_.right||0)-(P||0)]:i==="yAxis"?N=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(P||0),r.top+r.height-(_.bottom||0)-(P||0)]:N=y.range,A&&(N=[N[1],N[0]]);var F=wJ(y,o,f),$=F.scale,q=F.realScaleType;$.domain(v).range(N),SJ($);var Z=EJ($,Ta(Ta({},y),{},{realScaleType:q}));i==="xAxis"?(D=x==="top"&&!S||x==="bottom"&&S,R=r.left,I=d[M]-D*y.height):i==="yAxis"&&(D=x==="left"&&!S||x==="right"&&S,R=d[M]-D*y.width,I=r.top);var ee=Ta(Ta(Ta({},y),Z),{},{realScaleType:q,x:R,y:I,scale:$,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ee.bandSize=Ww(ee,Z),!y.hide&&i==="xAxis"?d[M]+=(D?-1:1)*ee.height:y.hide||(d[M]+=(D?-1:1)*ee.width),Ta(Ta({},p),{},TE({},g,ee))},{})},iZ=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},x5e=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return iZ({x:n,y:r},{x:i,y:o})},oZ=function(){function t(e){m5e(this,t),this.scale=e}return g5e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();TE(oZ,"EPS",1e-4);var $k=function(e){var n=Object.keys(e).reduce(function(r,i){return Ta(Ta({},r),{},TE({},i,oZ.create(e[i])))},{});return Ta(Ta({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return U$e(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return QJ(i,function(o,a){return n[a].isInRange(o)})}})};function b5e(t){return(t%180+180)%180}var _5e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=b5e(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},w5e=Ts,S5e=Zy,E5e=iE;function A5e(t){return function(e,n,r){var i=Object(e);if(!S5e(e)){var o=w5e(n);e=E5e(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var T5e=A5e,M5e=KJ;function P5e(t){var e=M5e(t),n=e%1;return e===e?n?e-n:e:0}var C5e=P5e,O5e=nY,R5e=Ts,N5e=C5e,I5e=Math.max;function k5e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:N5e(n);return i<0&&(i=I5e(r+i,0)),O5e(t,R5e(e),i)}var L5e=k5e,D5e=T5e,j5e=L5e,U5e=D5e(j5e),F5e=U5e;const B5e=rn(F5e);var z5e=JSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Hk=C.createContext(void 0),Vk=C.createContext(void 0),aZ=C.createContext(void 0),sZ=C.createContext({}),lZ=C.createContext(void 0),cZ=C.createContext(0),uZ=C.createContext(0),j$=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=z5e(o);return V.createElement(Hk.Provider,{value:r},V.createElement(Vk.Provider,{value:i},V.createElement(sZ.Provider,{value:o},V.createElement(aZ.Provider,{value:u},V.createElement(lZ.Provider,{value:a},V.createElement(cZ.Provider,{value:c},V.createElement(uZ.Provider,{value:l},s)))))))},$5e=function(){return C.useContext(lZ)},dZ=function(e){var n=C.useContext(Hk);n==null&&Ed();var r=n[e];return r==null&&Ed(),r},H5e=function(){var e=C.useContext(Hk);return ec(e)},V5e=function(){var e=C.useContext(Vk),n=B5e(e,function(r){return QJ(r.domain,Number.isFinite)});return n||ec(e)},fZ=function(e){var n=C.useContext(Vk);n==null&&Ed();var r=n[e];return r==null&&Ed(),r},W5e=function(){var e=C.useContext(aZ);return e},G5e=function(){return C.useContext(sZ)},Wk=function(){return C.useContext(uZ)},Gk=function(){return C.useContext(cZ)};function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function q5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pZ(r.key),r)}}function K5e(t,e,n){return e&&X5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y5e(t,e,n){return e=c1(e),J5e(t,hZ()?Reflect.construct(e,n||[],c1(t).constructor):e.apply(t,n))}function J5e(t,e){if(e&&(mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z5e(t)}function Z5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hZ=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c1(t)}function Q5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HR(t,e)}function HR(t,e){return HR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HR(t,e)}function U$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(n),!0).forEach(function(r){qk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qk(t,e,n){return e=pZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=e8e(t,"string");return mp(e)=="symbol"?e:e+""}function e8e(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t8e(t,e){return o8e(t)||i8e(t,e)||r8e(t,e)||n8e()}function n8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r8e(t,e){if(t){if(typeof t=="string")return B$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B$(t,e)}}function B$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function o8e(t){if(Array.isArray(t))return t}function VR(){return VR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VR.apply(this,arguments)}var a8e=function(e,n){var r;return V.isValidElement(e)?r=V.cloneElement(e,n):Ct(e)?r=e(n):r=V.createElement("line",VR({},n,{className:"recharts-reference-line-line"})),r},s8e=function(e,n,r,i,o,a,s,l,c){var u=o.x,d=o.y,f=o.width,p=o.height;if(r){var g=c.y,y=e.y.apply(g,{position:a});if(gs(c,"discard")&&!e.y.isInRange(y))return null;var x=[{x:u+f,y},{x:u,y}];return l==="left"?x.reverse():x}if(n){var v=c.x,b=e.x.apply(v,{position:a});if(gs(c,"discard")&&!e.x.isInRange(b))return null;var _=[{x:b,y:d+p},{x:b,y:d}];return s==="top"?_.reverse():_}if(i){var S=c.segment,A=S.map(function(M){return e.apply(M,{position:a})});return gs(c,"discard")&&O$e(A,function(M){return!e.isInRange(M)})?null:A}return null};function l8e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=$5e(),u=dZ(i),d=fZ(o),f=W5e();if(!c||!f)return null;La(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=$k({x:u.scale,y:d.scale}),g=br(e),y=br(n),x=r&&r.length===2,v=s8e(p,g,y,x,f,t.position,u.orientation,d.orientation,t);if(!v)return null;var b=t8e(v,2),_=b[0],S=_.x,A=_.y,M=b[1],P=M.x,N=M.y,R=gs(t,"hidden")?"url(#".concat(c,")"):void 0,I=F$(F$({clipPath:R},ht(t,!0)),{},{x1:S,y1:A,x2:P,y2:N});return V.createElement(Qt,{className:Lt("recharts-reference-line",s)},a8e(a,I),kr.renderCallByParent(t,x5e({x1:S,y1:A,x2:P,y2:N})))}var Xk=function(t){function e(){return q5e(this,e),Y5e(this,e,arguments)}return Q5e(e,t),K5e(e,[{key:"render",value:function(){return V.createElement(l8e,this.props)}}])}(V.Component);qk(Xk,"displayName","ReferenceLine");qk(Xk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function WR(){return WR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WR.apply(this,arguments)}function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function z$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z$(Object(n),!0).forEach(function(r){ME(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gZ(r.key),r)}}function d8e(t,e,n){return e&&u8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f8e(t,e,n){return e=u1(e),h8e(t,mZ()?Reflect.construct(e,n||[],u1(t).constructor):e.apply(t,n))}function h8e(t,e){if(e&&(gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p8e(t)}function p8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mZ=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u1(t)}function m8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GR(t,e)}function GR(t,e){return GR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GR(t,e)}function ME(t,e,n){return e=gZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=g8e(t,"string");return gp(e)=="symbol"?e:e+""}function g8e(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v8e=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=$k({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return gs(e,"discard")&&!a.isInRange(s)?null:s},PE=function(t){function e(){return c8e(this,e),f8e(this,e,arguments)}return m8e(e,t),d8e(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=br(i),u=br(o);if(La(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=v8e(this.props);if(!d)return null;var f=d.x,p=d.y,g=this.props,y=g.shape,x=g.className,v=gs(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=$$($$({clipPath:v},ht(this.props,!0)),{},{cx:f,cy:p});return V.createElement(Qt,{className:Lt("recharts-reference-dot",x)},e.renderDot(y,b),kr.renderCallByParent(this.props,{x:f-a,y:p-a,width:2*a,height:2*a}))}}])}(V.Component);ME(PE,"displayName","ReferenceDot");ME(PE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ME(PE,"renderDot",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):Ct(t)?n=t(e):n=V.createElement(xE,WR({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function qR(){return qR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qR.apply(this,arguments)}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function H$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H$(Object(n),!0).forEach(function(r){CE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yZ(r.key),r)}}function b8e(t,e,n){return e&&x8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _8e(t,e,n){return e=d1(e),w8e(t,vZ()?Reflect.construct(e,n||[],d1(t).constructor):e.apply(t,n))}function w8e(t,e){if(e&&(vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S8e(t)}function S8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vZ=function(){return!!t})()}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d1(t)}function E8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XR(t,e)}function XR(t,e){return XR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XR(t,e)}function CE(t,e,n){return e=yZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yZ(t){var e=A8e(t,"string");return vp(e)=="symbol"?e:e+""}function A8e(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T8e=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var f=$k({x:u.scale,y:d.scale}),p={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},g={x:n?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return gs(o,"discard")&&(!f.isInRange(p)||!f.isInRange(g))?null:iZ(p,g)},OE=function(t){function e(){return y8e(this,e),_8e(this,e,arguments)}return E8e(e,t),b8e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;La(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=br(i),f=br(o),p=br(a),g=br(s),y=this.props.shape;if(!d&&!f&&!p&&!g&&!y)return null;var x=T8e(d,f,p,g,this.props);if(!x&&!y)return null;var v=gs(this.props,"hidden")?"url(#".concat(u,")"):void 0;return V.createElement(Qt,{className:Lt("recharts-reference-area",l)},e.renderRect(y,V$(V$({clipPath:v},ht(this.props,!0)),x)),kr.renderCallByParent(this.props,x))}}])}(V.Component);CE(OE,"displayName","ReferenceArea");CE(OE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});CE(OE,"renderRect",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):Ct(t)?n=t(e):n=V.createElement(zk,qR({},e,{className:"recharts-reference-area-rect"})),n});function xZ(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function M8e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return _5e(r,n)}function P8e(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function f1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function C8e(t,e){return xZ(t,e+1)}function O8e(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,u=a,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:xZ(r,c)};var y=l,x,v=function(){return x===void 0&&(x=n(g,y)),x},b=g.coordinate,_=l===0||f1(t,b,v,u,s);_||(l=0,u=a,c+=1),_&&(u=b+t*(v()/2+i),l+=c)},f;c<=o.length;)if(f=d(),f)return f.v;return[]}function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function W$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(n),!0).forEach(function(r){R8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R8e(t,e,n){return e=N8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N8e(t){var e=I8e(t,"string");return gy(e)=="symbol"?e:e+""}function I8e(t,e){if(gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k8e(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(f){var p=o[f],g,y=function(){return g===void 0&&(g=n(p,f)),g};if(f===a-1){var x=t*(p.coordinate+t*y()/2-l);o[f]=p=ii(ii({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else o[f]=p=ii(ii({},p),{},{tickCoord:p.coordinate});var v=f1(t,p.tickCoord,y,s,l);v&&(l=p.tickCoord-t*(y()/2+i),o[f]=ii(ii({},p),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function L8e(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=r[s-1],d=n(u,s-1),f=t*(u.coordinate+t*d/2-c);a[s-1]=u=ii(ii({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var p=f1(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),a[s-1]=ii(ii({},u),{},{isShow:!0}))}for(var g=o?s-1:s,y=function(b){var _=a[b],S,A=function(){return S===void 0&&(S=n(_,b)),S};if(b===0){var M=t*(_.coordinate-t*A()/2-l);a[b]=_=ii(ii({},_),{},{tickCoord:M<0?_.coordinate-M*t:_.coordinate})}else a[b]=_=ii(ii({},_),{},{tickCoord:_.coordinate});var P=f1(t,_.tickCoord,A,l,c);P&&(l=_.tickCoord+t*(A()/2+i),a[b]=ii(ii({},_),{},{isShow:!0}))},x=0;x<g;x++)y(x);return a}function Kk(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(De(l)||ps.isSsr)return C8e(i,typeof l=="number"&&De(l)?l:0);var f=[],p=s==="top"||s==="bottom"?"width":"height",g=u&&p==="width"?Ng(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,S){var A=Ct(c)?c(_.value,S):_.value;return p==="width"?M8e(Ng(A,{fontSize:e,letterSpacing:n}),g,d):Ng(A,{fontSize:e,letterSpacing:n})[p]},x=i.length>=2?Ai(i[1].coordinate-i[0].coordinate):1,v=P8e(o,x,p);return l==="equidistantPreserveStart"?O8e(x,v,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=L8e(x,v,y,i,a,l==="preserveStartEnd"):f=k8e(x,v,y,i,a),f.filter(function(b){return b.isShow}))}var D8e=["viewBox"],j8e=["viewBox"],U8e=["ticks"];function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(this,arguments)}function G$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(n),!0).forEach(function(r){Yk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rP(t,e){if(t==null)return{};var n=F8e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_Z(r.key),r)}}function z8e(t,e,n){return e&&q$(t.prototype,e),n&&q$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $8e(t,e,n){return e=h1(e),H8e(t,bZ()?Reflect.construct(e,n||[],h1(t).constructor):e.apply(t,n))}function H8e(t,e){if(e&&(yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V8e(t)}function V8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bZ=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h1(t)}function W8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KR(t,e)}function KR(t,e){return KR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KR(t,e)}function Yk(t,e,n){return e=_Z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Z(t){var e=G8e(t,"string");return yp(e)=="symbol"?e:e+""}function G8e(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tm=function(t){function e(n){var r;return B8e(this,e),r=$8e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return W8e(e,t),z8e(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=rP(r,D8e),s=this.props,l=s.viewBox,c=rP(s,j8e);return!Eh(o,l)||!Eh(a,c)||!Eh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,p,g,y,x,v,b,_=d?-1:1,S=r.tickSize||u,A=De(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=g=r.coordinate,x=a+ +!d*l,y=x-_*S,b=y-_*f,v=A;break;case"left":y=x=r.coordinate,g=o+ +!d*s,p=g-_*S,v=p-_*f,b=A;break;case"right":y=x=r.coordinate,g=o+ +d*s,p=g+_*S,v=p+_*f,b=A;break;default:p=g=r.coordinate,x=a+ +d*l,y=x+_*S,b=y+_*f,v=A;break}return{line:{x1:p,y1:y,x2:g,y2:x},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=vi(vi(vi({},ht(this.props,!1)),ht(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=vi(vi({},d),{},{x1:i,y1:o+f*s,x2:i+a,y2:o+f*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=vi(vi({},d),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return V.createElement("line",dh({},d,{className:Lt("recharts-cartesian-axis-line",Ao(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,d=s.tickFormatter,f=s.unit,p=Kk(vi(vi({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),x=ht(this.props,!1),v=ht(u,!1),b=vi(vi({},x),{},{fill:"none"},ht(l,!1)),_=p.map(function(S,A){var M=a.getTickLineCoord(S),P=M.line,N=M.tick,R=vi(vi(vi(vi({textAnchor:g,verticalAnchor:y},x),{},{stroke:"none",fill:c},v),N),{},{index:A,payload:S,visibleTicksCount:p.length,tickFormatter:d});return V.createElement(Qt,dh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},_d(a.props,S,A)),l&&V.createElement("line",dh({},b,P,{className:Lt("recharts-cartesian-axis-tick-line",Ao(l,"className"))})),u&&e.renderTickItem(u,R,"".concat(Ct(d)?d(S.value,A):S.value).concat(f||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,p=rP(d,U8e),g=f;return Ct(l)&&(g=f&&f.length>0?l(this.props):l(p)),a<=0||s<=0||!g||!g.length?null:V.createElement(Qt,{className:Lt("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),kr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return V.isValidElement(r)?a=V.cloneElement(r,i):Ct(r)?a=r(i):a=V.createElement(wd,dh({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(C.Component);Yk(tm,"displayName","CartesianAxis");Yk(tm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var q8e=["x1","y1","x2","y2","key"],X8e=["offset"];function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function X$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X$(Object(n),!0).forEach(function(r){K8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K8e(t,e,n){return e=Y8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y8e(t){var e=J8e(t,"string");return Ad(e)=="symbol"?e:e+""}function J8e(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}function K$(t,e){if(t==null)return{};var n=Z8e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Q8e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return V.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wZ(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(Ct(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=K$(e,q8e),c=ht(l,!1);c.offset;var u=K$(c,X8e);n=V.createElement("line",Xu({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function eHe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ai(ai({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return wZ(i,c)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function tHe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=ai(ai({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return wZ(i,c)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function nHe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==u[0]&&u.unshift(0);var d=u.map(function(f,p){var g=!u[p+1],y=g?i+a-f:u[p+1]-f;if(y<=0)return null;var x=p%e.length;return V.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:y,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function rHe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(f){return Math.round(f+o-o)}).sort(function(f,p){return f-p});o!==u[0]&&u.unshift(0);var d=u.map(function(f,p){var g=!u[p+1],y=g?o+s-f:u[p+1]-f;if(y<=0)return null;var x=p%r.length;return V.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var iHe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return _J(Kk(ai(ai(ai({},tm.defaultProps),r),{},{ticks:el(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},oHe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return _J(Kk(ai(ai(ai({},tm.defaultProps),r),{},{ticks:el(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},jf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Jk(t){var e,n,r,i,o,a,s=Wk(),l=Gk(),c=G5e(),u=ai(ai({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:jf.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:jf.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:jf.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:jf.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:jf.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:jf.verticalFill,x:De(t.x)?t.x:c.left,y:De(t.y)?t.y:c.top,width:De(t.width)?t.width:c.width,height:De(t.height)?t.height:c.height}),d=u.x,f=u.y,p=u.width,g=u.height,y=u.syncWithTicks,x=u.horizontalValues,v=u.verticalValues,b=H5e(),_=V5e();if(!De(p)||p<=0||!De(g)||g<=0||!De(d)||d!==+d||!De(f)||f!==+f)return null;var S=u.verticalCoordinatesGenerator||iHe,A=u.horizontalCoordinatesGenerator||oHe,M=u.horizontalPoints,P=u.verticalPoints;if((!M||!M.length)&&Ct(A)){var N=x&&x.length,R=A({yAxis:_?ai(ai({},_),{},{ticks:N?x:_.ticks}):void 0,width:s,height:l,offset:c},N?!0:y);La(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ad(R),"]")),Array.isArray(R)&&(M=R)}if((!P||!P.length)&&Ct(S)){var I=v&&v.length,D=S({xAxis:b?ai(ai({},b),{},{ticks:I?v:b.ticks}):void 0,width:s,height:l,offset:c},I?!0:y);La(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ad(D),"]")),Array.isArray(D)&&(P=D)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(Q8e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),V.createElement(eHe,Xu({},u,{offset:c,horizontalPoints:M,xAxis:b,yAxis:_})),V.createElement(tHe,Xu({},u,{offset:c,verticalPoints:P,xAxis:b,yAxis:_})),V.createElement(nHe,Xu({},u,{horizontalPoints:M})),V.createElement(rHe,Xu({},u,{verticalPoints:P})))}Jk.displayName="CartesianGrid";var aHe=["type","layout","connectNulls","ref"],sHe=["key"];function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function Y$(t,e){if(t==null)return{};var n=lHe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(this,arguments)}function J$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J$(Object(n),!0).forEach(function(r){Ma(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uf(t){return fHe(t)||dHe(t)||uHe(t)||cHe()}function cHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uHe(t,e){if(t){if(typeof t=="string")return YR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YR(t,e)}}function dHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fHe(t){if(Array.isArray(t))return YR(t)}function YR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EZ(r.key),r)}}function pHe(t,e,n){return e&&Z$(t.prototype,e),n&&Z$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mHe(t,e,n){return e=p1(e),gHe(t,SZ()?Reflect.construct(e,n||[],p1(t).constructor):e.apply(t,n))}function gHe(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vHe(t)}function vHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SZ=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p1(t)}function yHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JR(t,e)}function JR(t,e){return JR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JR(t,e)}function Ma(t,e,n){return e=EZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EZ(t){var e=xHe(t,"string");return xp(e)=="symbol"?e:e+""}function xHe(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nm=function(t){function e(){var n;hHe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mHe(this,e,[].concat(i)),Ma(n,"state",{isAnimationFinished:!0,totalLength:0}),Ma(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Ma(n,"getStrokeDasharray",function(a,s,l){var c=l.reduce(function(v,b){return v+b});if(!c)return n.generateSimpleStrokeDasharray(s,a);for(var u=Math.floor(a/c),d=a%c,f=s-a,p=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>d){p=[].concat(Uf(l.slice(0,g)),[d-y]);break}var x=p.length%2===0?[0,f]:[f];return[].concat(Uf(e.repeat(l,u)),Uf(p),x).map(function(v){return"".concat(v,"px")}).join(", ")}),Ma(n,"id",qp("recharts-line-")),Ma(n,"pathRef",function(a){n.mainCurve=a}),Ma(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ma(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return yHe(e,t),pHe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=To(u,i0);if(!d)return null;var f=function(y,x){return{x:y.x,y:y.y,value:y.value,errorVal:vr(y.payload,x)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(Qt,p,d.map(function(g){return V.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=ht(this.props,!1),f=ht(l,!0),p=c.map(function(y,x){var v=lo(lo(lo({key:"dot-".concat(x),r:3},d),f),{},{value:y.value,dataKey:u,cx:y.x,cy:y.y,index:x,payload:y.payload});return e.renderDotItem(l,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return V.createElement(Qt,Ug({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,c=s.layout,u=s.connectNulls;s.ref;var d=Y$(s,aHe),f=lo(lo(lo({},ht(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:u});return V.createElement(Xw,Ug({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,f=a.animationEasing,p=a.animationId,g=a.animateNewValues,y=a.width,x=a.height,v=this.state,b=v.prevPoints,_=v.totalLength;return V.createElement(ws,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var A=S.t;if(b){var M=b.length/s.length,P=s.map(function(U,X){var j=Math.floor(X*M);if(b[j]){var W=b[j],H=go(W.x,U.x),Y=go(W.y,U.y);return lo(lo({},U),{},{x:H(A),y:Y(A)})}if(g){var k=go(y*2,U.x),F=go(x/2,U.y);return lo(lo({},U),{},{x:k(A),y:F(A)})}return lo(lo({},U),{},{x:U.x,y:U.y})});return o.renderCurveStatically(P,r,i)}var N=go(0,_),R=N(A),I;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});I=o.getStrokeDasharray(R,_,D)}else I=o.generateSimpleStrokeDasharray(_,R);return o.renderCurveStatically(s,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return s&&a&&a.length&&(!c&&u>0||!r0(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,f=i.left,p=i.width,g=i.height,y=i.isAnimationActive,x=i.id;if(o||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=s.length===1,_=Lt("recharts-line",l),S=c&&c.allowDataOverflow,A=u&&u.allowDataOverflow,M=S||A,P=It(x)?this.id:x,N=(r=ht(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=N.r,I=R===void 0?3:R,D=N.strokeWidth,U=D===void 0?2:D,X=nAe(a)?a:{},j=X.clipDot,W=j===void 0?!0:j,H=I*2+U;return V.createElement(Qt,{className:_},S||A?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(P)},V.createElement("rect",{x:S?f:f-p/2,y:A?d:d-g/2,width:S?p:p*2,height:A?g:g*2})),!W&&V.createElement("clipPath",{id:"clipPath-dots-".concat(P)},V.createElement("rect",{x:f-H/2,y:d-H/2,width:p+H,height:g+H}))):null,!b&&this.renderCurve(M,P),this.renderErrorBar(M,P),(b||a)&&this.renderDots(M,W,P),(!y||v)&&ol.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Uf(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Uf(a),Uf(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(V.isValidElement(r))o=V.cloneElement(r,i);else if(Ct(r))o=r(i);else{var a=i.key,s=Y$(i,sHe),l=Lt("recharts-line-dot",typeof r!="boolean"?r.className:"");o=V.createElement(xE,Ug({key:a},s,{className:l}))}return o}}])}(C.PureComponent);Ma(nm,"displayName","Line");Ma(nm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ps.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ma(nm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(f,p){var g=vr(f,a);return u==="horizontal"?{x:wz({axis:n,ticks:i,bandSize:s,entry:f,index:p}),y:It(g)?null:r.scale(g),value:g,payload:f}:{x:It(g)?null:n.scale(g),y:wz({axis:r,ticks:o,bandSize:s,entry:f,index:p}),value:g,payload:f}});return lo({points:d,layout:u},c)});function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function bHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MZ(r.key),r)}}function wHe(t,e,n){return e&&_He(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SHe(t,e,n){return e=m1(e),EHe(t,AZ()?Reflect.construct(e,n||[],m1(t).constructor):e.apply(t,n))}function EHe(t,e){if(e&&(bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AHe(t)}function AHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AZ=function(){return!!t})()}function m1(t){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m1(t)}function THe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZR(t,e)}function ZR(t,e){return ZR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZR(t,e)}function TZ(t,e,n){return e=MZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MZ(t){var e=MHe(t,"string");return bp(e)=="symbol"?e:e+""}function MHe(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QR(){return QR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QR.apply(this,arguments)}function PHe(t){var e=t.xAxisId,n=Wk(),r=Gk(),i=dZ(e);return i==null?null:V.createElement(tm,QR({},i,{className:Lt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return el(a,!0)}}))}var a0=function(t){function e(){return bHe(this,e),SHe(this,e,arguments)}return THe(e,t),wHe(e,[{key:"render",value:function(){return V.createElement(PHe,this.props)}}])}(V.Component);TZ(a0,"displayName","XAxis");TZ(a0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function CHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OZ(r.key),r)}}function RHe(t,e,n){return e&&OHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NHe(t,e,n){return e=g1(e),IHe(t,PZ()?Reflect.construct(e,n||[],g1(t).constructor):e.apply(t,n))}function IHe(t,e){if(e&&(_p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kHe(t)}function kHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PZ=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g1(t)}function LHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e2(t,e)}function e2(t,e){return e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e2(t,e)}function CZ(t,e,n){return e=OZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OZ(t){var e=DHe(t,"string");return _p(e)=="symbol"?e:e+""}function DHe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t2(){return t2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t2.apply(this,arguments)}var jHe=function(e){var n=e.yAxisId,r=Wk(),i=Gk(),o=fZ(n);return o==null?null:V.createElement(tm,t2({},o,{className:Lt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return el(s,!0)}}))},s0=function(t){function e(){return CHe(this,e),NHe(this,e,arguments)}return LHe(e,t),RHe(e,[{key:"render",value:function(){return V.createElement(jHe,this.props)}}])}(V.Component);CZ(s0,"displayName","YAxis");CZ(s0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Q$(t){return zHe(t)||BHe(t)||FHe(t)||UHe()}function UHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FHe(t,e){if(t){if(typeof t=="string")return n2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n2(t,e)}}function BHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zHe(t){if(Array.isArray(t))return n2(t)}function n2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var r2=function(e,n,r,i,o){var a=To(e,Xk),s=To(e,PE),l=[].concat(Q$(a),Q$(s)),c=To(e,OE),u="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(y,x){if(x.props[u]===r&&gs(x.props,"extendDomain")&&De(x.props[d])){var v=x.props[d];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},f)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");f=c.reduce(function(y,x){if(x.props[u]===r&&gs(x.props,"extendDomain")&&De(x.props[p])&&De(x.props[g])){var v=x.props[p],b=x.props[g];return[Math.min(y[0],v,b),Math.max(y[1],v,b)]}return y},f)}return o&&o.length&&(f=o.reduce(function(y,x){return De(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},f)),f},RZ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,g=new Array(p);f<p;f++)g[f]=d[f].fn;return g},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,f,p,g){var y=n?n+c:c;if(!this._events[y])return!1;var x=this._events[y],v=arguments.length,b,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,d),!0;case 4:return x.fn.call(x.context,u,d,f),!0;case 5:return x.fn.call(x.context,u,d,f,p),!0;case 6:return x.fn.call(x.context,u,d,f,p,g),!0}for(_=1,b=new Array(v-1);_<v;_++)b[_-1]=arguments[_];x.fn.apply(x.context,b)}else{var S=x.length,A;for(_=0;_<S;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),v){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,u);break;case 3:x[_].fn.call(x[_].context,u,d);break;case 4:x[_].fn.call(x[_].context,u,d,f);break;default:if(!b)for(A=1,b=new Array(v-1);A<v;A++)b[A-1]=arguments[A];x[_].fn.apply(x[_].context,b)}}return!0},s.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!f||g.once)&&(!d||g.context===d)&&a(this,p);else{for(var y=0,x=[],v=g.length;y<v;y++)(g[y].fn!==u||f&&!g[y].once||d&&g[y].context!==d)&&x.push(g[y]);x.length?this._events[p]=x.length===1?x[0]:x:a(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(RZ);var $He=RZ.exports;const HHe=rn($He);var iP=new HHe,oP="recharts.syncMouseEvents";function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function VHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NZ(r.key),r)}}function GHe(t,e,n){return e&&WHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aP(t,e,n){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=qHe(t,"string");return vy(e)=="symbol"?e:e+""}function qHe(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XHe=function(){function t(){VHe(this,t),aP(this,"activeIndex",0),aP(this,"coordinateList",[]),aP(this,"layout","horizontal")}return GHe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,f=n.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+c,f=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function KHe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&De(r)&&De(i))return!0}return!1}function YHe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function IZ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=wn(e,n,r,i),s=wn(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function JHe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,f=wn(s,l,c,d),p=wn(s,l,u,d);r=f.x,i=f.y,o=p.x,a=p.y}else return IZ(e);return[{x:r,y:i},{x:o,y:a}]}function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){ZHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZHe(t,e,n){return e=QHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QHe(t){var e=eVe(t,"string");return yy(e)=="symbol"?e:e+""}function eVe(t,e){if(yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tVe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||f!=="ScatterChart"&&i!=="axis")return null;var g,y=Xw;if(f==="ScatterChart")g=a,y=y4e;else if(f==="BarChart")g=YHe(d,a,l,u),y=zk;else if(d==="radial"){var x=IZ(a),v=x.cx,b=x.cy,_=x.radius,S=x.startAngle,A=x.endAngle;g={cx:v,cy:b,startAngle:S,endAngle:A,innerRadius:_,outerRadius:_},y=NJ}else g={points:JHe(d,a,l)},y=Xw;var M=Xb(Xb(Xb(Xb({stroke:"#ccc",pointerEvents:"none"},l),g),ht(p,!1)),{},{payload:s,payloadIndex:c,className:Lt("recharts-tooltip-cursor",p.className)});return C.isValidElement(p)?C.cloneElement(p,M):C.createElement(y,M)}var nVe=["item"],rVe=["children","className","width","height","style","compact","title","desc"];function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}function t5(t,e){return aVe(t)||oVe(t,e)||LZ(t,e)||iVe()}function iVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function aVe(t){if(Array.isArray(t))return t}function n5(t,e){if(t==null)return{};var n=sVe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DZ(r.key),r)}}function uVe(t,e,n){return e&&cVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dVe(t,e,n){return e=v1(e),fVe(t,kZ()?Reflect.construct(e,n||[],v1(t).constructor):e.apply(t,n))}function fVe(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hVe(t)}function hVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kZ=function(){return!!t})()}function v1(t){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v1(t)}function pVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i2(t,e)}function i2(t,e){return i2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i2(t,e)}function Sp(t){return vVe(t)||gVe(t)||LZ(t)||mVe()}function mVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LZ(t,e){if(t){if(typeof t=="string")return o2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o2(t,e)}}function gVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vVe(t){if(Array.isArray(t))return o2(t)}function o2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(n),!0).forEach(function(r){wt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wt(t,e,n){return e=DZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DZ(t){var e=yVe(t,"string");return wp(e)=="symbol"?e:e+""}function yVe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xVe={xAxis:["bottom","top"],yAxis:["left","right"]},bVe={width:"100%",height:"100%"},jZ={x:0,y:0};function Kb(t){return t}var _Ve=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},wVe=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return we(we(we({},i),wn(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return we(we(we({},i),wn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return jZ},RE=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(Sp(s),Sp(c)):s},[]);return a.length>0?a:e&&e.length&&De(i)&&De(o)?e.slice(i,o+1):[]};function UZ(t){return t==="number"?[0,"auto"]:void 0}var a2=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=RE(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var p=d===void 0?s:d;f=vw(p,a.dataKey,i)}else f=d&&d[r]||s[r];return f?[].concat(Sp(l),[TJ(c,f)]):l},[])},i5=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=_Ve(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=rUe(a,s,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=a2(e,n,u,d),p=wVe(r,s,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:p}}return null},SVe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,p=bJ(u,o);return r.reduce(function(g,y){var x,v=y.type.defaultProps!==void 0?we(we({},y.type.defaultProps),y.props):y.props,b=v.type,_=v.dataKey,S=v.allowDataOverflow,A=v.allowDuplicatedCategory,M=v.scale,P=v.ticks,N=v.includeHidden,R=v[a];if(g[R])return g;var I=RE(e.data,{graphicalItems:i.filter(function(Z){var ee,ne=a in Z.props?Z.props[a]:(ee=Z.type.defaultProps)===null||ee===void 0?void 0:ee[a];return ne===R}),dataStartIndex:l,dataEndIndex:c}),D=I.length,U,X,j;KHe(v.domain,S,b)&&(U=bR(v.domain,null,S),p&&(b==="number"||M!=="auto")&&(j=kg(I,_,"category")));var W=UZ(b);if(!U||U.length===0){var H,Y=(H=v.domain)!==null&&H!==void 0?H:W;if(_){if(U=kg(I,_,b),b==="category"&&p){var k=qEe(U);A&&k?(X=U,U=i1(0,D)):A||(U=Tz(Y,U,y).reduce(function(Z,ee){return Z.indexOf(ee)>=0?Z:[].concat(Sp(Z),[ee])},[]))}else if(b==="category")A?U=U.filter(function(Z){return Z!==""&&!It(Z)}):U=Tz(Y,U,y).reduce(function(Z,ee){return Z.indexOf(ee)>=0||ee===""||It(ee)?Z:[].concat(Sp(Z),[ee])},[]);else if(b==="number"){var F=lUe(I,i.filter(function(Z){var ee,ne,ye=a in Z.props?Z.props[a]:(ee=Z.type.defaultProps)===null||ee===void 0?void 0:ee[a],xe="hide"in Z.props?Z.props.hide:(ne=Z.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return ye===R&&(N||!xe)}),_,o,u);F&&(U=F)}p&&(b==="number"||M!=="auto")&&(j=kg(I,_,"category"))}else p?U=i1(0,D):s&&s[R]&&s[R].hasStack&&b==="number"?U=f==="expand"?[0,1]:AJ(s[R].stackGroups,l,c):U=xJ(I,i.filter(function(Z){var ee=a in Z.props?Z.props[a]:Z.type.defaultProps[a],ne="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ee===R&&(N||!ne)}),b,u,!0);if(b==="number")U=r2(d,U,R,o,P),Y&&(U=bR(Y,U,S));else if(b==="category"&&Y){var $=Y,q=U.every(function(Z){return $.indexOf(Z)>=0});q&&(U=$)}}return we(we({},g),{},wt({},R,we(we({},v),{},{axisType:o,domain:U,categoricalDomain:j,duplicateDomain:X,originalDomain:(x=v.domain)!==null&&x!==void 0?x:W,isCategorical:p,layout:u})))},{})},EVe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=RE(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=f.length,g=bJ(u,o),y=-1;return r.reduce(function(x,v){var b=v.type.defaultProps!==void 0?we(we({},v.type.defaultProps),v.props):v.props,_=b[a],S=UZ("number");if(!x[_]){y++;var A;return g?A=i1(0,p):s&&s[_]&&s[_].hasStack?(A=AJ(s[_].stackGroups,l,c),A=r2(d,A,_,o)):(A=bR(S,xJ(f,r.filter(function(M){var P,N,R=a in M.props?M.props[a]:(P=M.type.defaultProps)===null||P===void 0?void 0:P[a],I="hide"in M.props?M.props.hide:(N=M.type.defaultProps)===null||N===void 0?void 0:N.hide;return R===_&&!I}),"number",u),i.defaultProps.allowDataOverflow),A=r2(d,A,_,o)),we(we({},x),{},wt({},_,we(we({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ao(xVe,"".concat(o,".").concat(y%2),null),domain:A,originalDomain:S,isCategorical:g,layout:u})))}return x},{})},AVe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),f=To(u,o),p={};return f&&f.length?p=SVe(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(p=EVe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},TVe=function(e){var n=ec(e),r=el(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:pk(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ww(n,r)}},o5=function(e){var n=e.children,r=e.defaultShowTooltip,i=po(n,hp),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},MVe=function(e){return!e||!e.length?!1:e.some(function(n){var r=rl(n&&n.type);return r&&r.indexOf("Bar")>=0})},a5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},PVe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,d=r.children,f=r.margin||{},p=po(d,hp),g=po(d,Sc),y=Object.keys(l).reduce(function(A,M){var P=l[M],N=P.orientation;return!P.mirror&&!P.hide?we(we({},A),{},wt({},N,A[N]+P.width)):A},{left:f.left||0,right:f.right||0}),x=Object.keys(a).reduce(function(A,M){var P=a[M],N=P.orientation;return!P.mirror&&!P.hide?we(we({},A),{},wt({},N,Ao(A,"".concat(N))+P.height)):A},{top:f.top||0,bottom:f.bottom||0}),v=we(we({},x),y),b=v.bottom;p&&(v.bottom+=p.props.height||hp.defaultProps.height),g&&n&&(v=aUe(v,i,r,n));var _=c-v.left-v.right,S=u-v.top-v.bottom;return we(we({brushBottom:b},v),{},{width:Math.max(_,0),height:Math.max(S,0)})},CVe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},FZ=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(x,v){var b=v.graphicalItems,_=v.stackGroups,S=v.offset,A=v.updateId,M=v.dataStartIndex,P=v.dataEndIndex,N=x.barSize,R=x.layout,I=x.barGap,D=x.barCategoryGap,U=x.maxBarSize,X=a5(R),j=X.numericAxisName,W=X.cateAxisName,H=MVe(b),Y=[];return b.forEach(function(k,F){var $=RE(x.data,{graphicalItems:[k],dataStartIndex:M,dataEndIndex:P}),q=k.type.defaultProps!==void 0?we(we({},k.type.defaultProps),k.props):k.props,Z=q.dataKey,ee=q.maxBarSize,ne=q["".concat(j,"Id")],ye=q["".concat(W,"Id")],xe={},le=l.reduce(function(B,oe){var Ce=v["".concat(oe.axisType,"Map")],Pe=q["".concat(oe.axisType,"Id")];Ce&&Ce[Pe]||oe.axisType==="zAxis"||Ed();var Ee=Ce[Pe];return we(we({},B),{},wt(wt({},oe.axisType,Ee),"".concat(oe.axisType,"Ticks"),el(Ee)))},xe),Re=le[W],de=le["".concat(W,"Ticks")],he=_&&_[ne]&&_[ne].hasStack&&vUe(k,_[ne].stackGroups),_e=rl(k.type).indexOf("Bar")>=0,z=Ww(Re,de),ve=[],se=H&&iUe({barSize:N,stackGroups:_,totalSize:CVe(le,W)});if(_e){var Se,ue,Be=It(ee)?U:ee,Le=(Se=(ue=Ww(Re,de,!0))!==null&&ue!==void 0?ue:Be)!==null&&Se!==void 0?Se:0;ve=oUe({barGap:I,barCategoryGap:D,bandSize:Le!==z?Le:z,sizeList:se[ye],maxBarSize:Be}),Le!==z&&(ve=ve.map(function(B){return we(we({},B),{},{position:we(we({},B.position),{},{offset:B.position.offset-Le/2})})}))}var G=k&&k.type&&k.type.getComposedData;G&&Y.push({props:we(we({},G(we(we({},le),{},{displayedData:$,props:x,dataKey:Z,item:k,bandSize:z,barPosition:ve,offset:S,stackedData:he,layout:R,dataStartIndex:M,dataEndIndex:P}))),{},wt(wt(wt({key:k.key||"item-".concat(F)},j,le[j]),W,le[W]),"animationId",A)),childIndex:oAe(k,x.children),item:k})}),Y},p=function(x,v){var b=x.props,_=x.dataStartIndex,S=x.dataEndIndex,A=x.updateId;if(!xB({props:b}))return null;var M=b.children,P=b.layout,N=b.stackOffset,R=b.data,I=b.reverseStackOrder,D=a5(P),U=D.numericAxisName,X=D.cateAxisName,j=To(M,r),W=mUe(R,j,"".concat(U,"Id"),"".concat(X,"Id"),N,I),H=l.reduce(function(q,Z){var ee="".concat(Z.axisType,"Map");return we(we({},q),{},wt({},ee,AVe(b,we(we({},Z),{},{graphicalItems:j,stackGroups:Z.axisType===U&&W,dataStartIndex:_,dataEndIndex:S}))))},{}),Y=PVe(we(we({},H),{},{props:b,graphicalItems:j}),v==null?void 0:v.legendBBox);Object.keys(H).forEach(function(q){H[q]=u(b,H[q],Y,q.replace("Map",""),n)});var k=H["".concat(X,"Map")],F=TVe(k),$=f(b,we(we({},H),{},{dataStartIndex:_,dataEndIndex:S,updateId:A,graphicalItems:j,stackGroups:W,offset:Y}));return we(we({formattedGraphicalItems:$,graphicalItems:j,offset:Y,stackGroups:W},F),H)},g=function(y){function x(v){var b,_,S;return lVe(this,x),S=dVe(this,x,[v]),wt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),wt(S,"accessibilityManager",new XHe),wt(S,"handleLegendBBoxUpdate",function(A){if(A){var M=S.state,P=M.dataStartIndex,N=M.dataEndIndex,R=M.updateId;S.setState(we({legendBBox:A},p({props:S.props,dataStartIndex:P,dataEndIndex:N,updateId:R},we(we({},S.state),{},{legendBBox:A}))))}}),wt(S,"handleReceiveSyncEvent",function(A,M,P){if(S.props.syncId===A){if(P===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(M)}}),wt(S,"handleBrushChange",function(A){var M=A.startIndex,P=A.endIndex;if(M!==S.state.dataStartIndex||P!==S.state.dataEndIndex){var N=S.state.updateId;S.setState(function(){return we({dataStartIndex:M,dataEndIndex:P},p({props:S.props,dataStartIndex:M,dataEndIndex:P,updateId:N},S.state))}),S.triggerSyncEvent({dataStartIndex:M,dataEndIndex:P})}}),wt(S,"handleMouseEnter",function(A){var M=S.getMouseInfo(A);if(M){var P=we(we({},M),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var N=S.props.onMouseEnter;Ct(N)&&N(P,A)}}),wt(S,"triggeredAfterMouseMove",function(A){var M=S.getMouseInfo(A),P=M?we(we({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var N=S.props.onMouseMove;Ct(N)&&N(P,A)}),wt(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),wt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),wt(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),wt(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};S.setState(M),S.triggerSyncEvent(M);var P=S.props.onMouseLeave;Ct(P)&&P(M,A)}),wt(S,"handleOuterEvent",function(A){var M=iAe(A),P=Ao(S.props,"".concat(M));if(M&&Ct(P)){var N,R;/.*touch.*/i.test(M)?R=S.getMouseInfo(A.changedTouches[0]):R=S.getMouseInfo(A),P((N=R)!==null&&N!==void 0?N:{},A)}}),wt(S,"handleClick",function(A){var M=S.getMouseInfo(A);if(M){var P=we(we({},M),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var N=S.props.onClick;Ct(N)&&N(P,A)}}),wt(S,"handleMouseDown",function(A){var M=S.props.onMouseDown;if(Ct(M)){var P=S.getMouseInfo(A);M(P,A)}}),wt(S,"handleMouseUp",function(A){var M=S.props.onMouseUp;if(Ct(M)){var P=S.getMouseInfo(A);M(P,A)}}),wt(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),wt(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),wt(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),wt(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&iP.emit(oP,S.props.syncId,A,S.eventEmitterSymbol)}),wt(S,"applySyncEvent",function(A){var M=S.props,P=M.layout,N=M.syncMethod,R=S.state.updateId,I=A.dataStartIndex,D=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(we({dataStartIndex:I,dataEndIndex:D},p({props:S.props,dataStartIndex:I,dataEndIndex:D,updateId:R},S.state)));else if(A.activeTooltipIndex!==void 0){var U=A.chartX,X=A.chartY,j=A.activeTooltipIndex,W=S.state,H=W.offset,Y=W.tooltipTicks;if(!H)return;if(typeof N=="function")j=N(Y,A);else if(N==="value"){j=-1;for(var k=0;k<Y.length;k++)if(Y[k].value===A.activeLabel){j=k;break}}var F=we(we({},H),{},{x:H.left,y:H.top}),$=Math.min(U,F.x+F.width),q=Math.min(X,F.y+F.height),Z=Y[j]&&Y[j].value,ee=a2(S.state,S.props.data,j),ne=Y[j]?{x:P==="horizontal"?Y[j].coordinate:$,y:P==="horizontal"?q:Y[j].coordinate}:jZ;S.setState(we(we({},A),{},{activeLabel:Z,activeCoordinate:ne,activePayload:ee,activeTooltipIndex:j}))}else S.setState(A)}),wt(S,"renderCursor",function(A){var M,P=S.state,N=P.isTooltipActive,R=P.activeCoordinate,I=P.activePayload,D=P.offset,U=P.activeTooltipIndex,X=P.tooltipAxisBandSize,j=S.getTooltipEventType(),W=(M=A.props.active)!==null&&M!==void 0?M:N,H=S.props.layout,Y=A.key||"_recharts-cursor";return V.createElement(tVe,{key:Y,activeCoordinate:R,activePayload:I,activeTooltipIndex:U,chartName:n,element:A,isActive:W,layout:H,offset:D,tooltipAxisBandSize:X,tooltipEventType:j})}),wt(S,"renderPolarAxis",function(A,M,P){var N=Ao(A,"type.axisType"),R=Ao(S.state,"".concat(N,"Map")),I=A.type.defaultProps,D=I!==void 0?we(we({},I),A.props):A.props,U=R&&R[D["".concat(N,"Id")]];return C.cloneElement(A,we(we({},U),{},{className:Lt(N,U.className),key:A.key||"".concat(M,"-").concat(P),ticks:el(U,!0)}))}),wt(S,"renderPolarGrid",function(A){var M=A.props,P=M.radialLines,N=M.polarAngles,R=M.polarRadius,I=S.state,D=I.radiusAxisMap,U=I.angleAxisMap,X=ec(D),j=ec(U),W=j.cx,H=j.cy,Y=j.innerRadius,k=j.outerRadius;return C.cloneElement(A,{polarAngles:Array.isArray(N)?N:el(j,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(R)?R:el(X,!0).map(function(F){return F.coordinate}),cx:W,cy:H,innerRadius:Y,outerRadius:k,key:A.key||"polar-grid",radialLines:P})}),wt(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,M=S.props,P=M.children,N=M.width,R=M.height,I=S.props.margin||{},D=N-(I.left||0)-(I.right||0),U=vJ({children:P,formattedGraphicalItems:A,legendWidth:D,legendContent:c});if(!U)return null;var X=U.item,j=n5(U,nVe);return C.cloneElement(X,we(we({},j),{},{chartWidth:N,chartHeight:R,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),wt(S,"renderTooltip",function(){var A,M=S.props,P=M.children,N=M.accessibilityLayer,R=po(P,qo);if(!R)return null;var I=S.state,D=I.isTooltipActive,U=I.activeCoordinate,X=I.activePayload,j=I.activeLabel,W=I.offset,H=(A=R.props.active)!==null&&A!==void 0?A:D;return C.cloneElement(R,{viewBox:we(we({},W),{},{x:W.left,y:W.top}),active:H,label:j,payload:H?X:[],coordinate:U,accessibilityLayer:N})}),wt(S,"renderBrush",function(A){var M=S.props,P=M.margin,N=M.data,R=S.state,I=R.offset,D=R.dataStartIndex,U=R.dataEndIndex,X=R.updateId;return C.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Vb(S.handleBrushChange,A.props.onChange),data:N,x:De(A.props.x)?A.props.x:I.left,y:De(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(P.bottom||0),width:De(A.props.width)?A.props.width:I.width,startIndex:D,endIndex:U,updateId:"brush-".concat(X)})}),wt(S,"renderReferenceElement",function(A,M,P){if(!A)return null;var N=S,R=N.clipPathId,I=S.state,D=I.xAxisMap,U=I.yAxisMap,X=I.offset,j=A.type.defaultProps||{},W=A.props,H=W.xAxisId,Y=H===void 0?j.xAxisId:H,k=W.yAxisId,F=k===void 0?j.yAxisId:k;return C.cloneElement(A,{key:A.key||"".concat(M,"-").concat(P),xAxis:D[Y],yAxis:U[F],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:R})}),wt(S,"renderActivePoints",function(A){var M=A.item,P=A.activePoint,N=A.basePoint,R=A.childIndex,I=A.isRange,D=[],U=M.props.key,X=M.item.type.defaultProps!==void 0?we(we({},M.item.type.defaultProps),M.item.props):M.item.props,j=X.activeDot,W=X.dataKey,H=we(we({index:R,dataKey:W,cx:P.x,cy:P.y,r:4,fill:Bk(M.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ht(j,!1)),yw(j));return D.push(x.renderActiveDot(j,H,"".concat(U,"-activePoint-").concat(R))),N?D.push(x.renderActiveDot(j,we(we({},H),{},{cx:N.x,cy:N.y}),"".concat(U,"-basePoint-").concat(R))):I&&D.push(null),D}),wt(S,"renderGraphicChild",function(A,M,P){var N=S.filterFormatItem(A,M,P);if(!N)return null;var R=S.getTooltipEventType(),I=S.state,D=I.isTooltipActive,U=I.tooltipAxis,X=I.activeTooltipIndex,j=I.activeLabel,W=S.props.children,H=po(W,qo),Y=N.props,k=Y.points,F=Y.isRange,$=Y.baseLine,q=N.item.type.defaultProps!==void 0?we(we({},N.item.type.defaultProps),N.item.props):N.item.props,Z=q.activeDot,ee=q.hide,ne=q.activeBar,ye=q.activeShape,xe=!!(!ee&&D&&H&&(Z||ne||ye)),le={};R!=="axis"&&H&&H.props.trigger==="click"?le={onClick:Vb(S.handleItemMouseEnter,A.props.onClick)}:R!=="axis"&&(le={onMouseLeave:Vb(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Vb(S.handleItemMouseEnter,A.props.onMouseEnter)});var Re=C.cloneElement(A,we(we({},N.props),le));function de(oe){return typeof U.dataKey=="function"?U.dataKey(oe.payload):null}if(xe)if(X>=0){var he,_e;if(U.dataKey&&!U.allowDuplicatedCategory){var z=typeof U.dataKey=="function"?de:"payload.".concat(U.dataKey.toString());he=vw(k,z,j),_e=F&&$&&vw($,z,j)}else he=k==null?void 0:k[X],_e=F&&$&&$[X];if(ye||ne){var ve=A.props.activeIndex!==void 0?A.props.activeIndex:X;return[C.cloneElement(A,we(we(we({},N.props),le),{},{activeIndex:ve})),null,null]}if(!It(he))return[Re].concat(Sp(S.renderActivePoints({item:N,activePoint:he,basePoint:_e,childIndex:X,isRange:F})))}else{var se,Se=(se=S.getItemByXY(S.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:Re},ue=Se.graphicalItem,Be=ue.item,Le=Be===void 0?A:Be,G=ue.childIndex,B=we(we(we({},N.props),le),{},{activeIndex:G});return[C.cloneElement(Le,B),null,null]}return F?[Re,null,null]:[Re,null]}),wt(S,"renderCustomized",function(A,M,P){return C.cloneElement(A,we(we({key:"recharts-customized-".concat(P)},S.props),S.state))}),wt(S,"renderMap",{CartesianGrid:{handler:Kb,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Kb},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Kb},YAxis:{handler:Kb},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:qp("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=gY(S.triggeredAfterMouseMove,(_=v.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return pVe(x,y),uVe(x,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,S=b.data,A=b.height,M=b.layout,P=po(_,qo);if(P){var N=P.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,I=a2(this.state,S,N,R),D=this.state.tooltipTicks[N].coordinate,U=(this.state.offset.top+A)/2,X=M==="horizontal",j=X?{x:D,y:U}:{y:D,x:U},W=this.state.formattedGraphicalItems.find(function(Y){var k=Y.item;return k.type.name==="Scatter"});W&&(j=we(we({},j),W.props.points[N].tooltipPosition),I=W.props.points[N].tooltipPayload);var H={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:R,activePayload:I,activeCoordinate:j};this.setState(H),this.renderCursor(P),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){kO([po(b.children,qo)],[po(this.props.children,qo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=po(this.props.children,qo);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return s.indexOf(_)>=0?_:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),A=Rke(S),M={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},P=S.width/_.offsetWidth||1,N=this.inRange(M.chartX,M.chartY,P);if(!N)return null;var R=this.state,I=R.xAxisMap,D=R.yAxisMap,U=this.getTooltipEventType();if(U!=="axis"&&I&&D){var X=ec(I).scale,j=ec(D).scale,W=X&&X.invert?X.invert(M.chartX):null,H=j&&j.invert?j.invert(M.chartY):null;return we(we({},M),{},{xValue:W,yValue:H})}var Y=i5(this.state,this.props.data,this.props.layout,N);return Y?we(we({},M),Y):null}},{key:"inRange",value:function(b,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,M=b/S,P=_/S;if(A==="horizontal"||A==="vertical"){var N=this.state.offset,R=M>=N.left&&M<=N.left+N.width&&P>=N.top&&P<=N.top+N.height;return R?{x:M,y:P}:null}var I=this.state,D=I.angleAxisMap,U=I.radiusAxisMap;if(D&&U){var X=ec(D);return Cz({x:M,y:P},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),S=po(b,qo),A={};S&&_==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var M=yw(this.props,this.handleOuterEvent);return we(we({},M),A)}},{key:"addListener",value:function(){iP.on(oP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){iP.removeListener(oP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,S){for(var A=this.state.formattedGraphicalItems,M=0,P=A.length;M<P;M++){var N=A[M];if(N.item===b||N.props.key===b.key||_===rl(N.item.type)&&S===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,S=_.left,A=_.top,M=_.height,P=_.width;return V.createElement("defs",null,V.createElement("clipPath",{id:b},V.createElement("rect",{x:S,y:A,height:M,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,S){var A=t5(S,2),M=A[0],P=A[1];return we(we({},_),{},wt({},M,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,S){var A=t5(S,2),M=A[0],P=A[1];return we(we({},_),{},wt({},M,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,S=_.formattedGraphicalItems,A=_.activeItem;if(S&&S.length)for(var M=0,P=S.length;M<P;M++){var N=S[M],R=N.props,I=N.item,D=I.type.defaultProps!==void 0?we(we({},I.type.defaultProps),I.props):I.props,U=rl(I.type);if(U==="Bar"){var X=(R.data||[]).find(function(Y){return ZBe(b,Y)});if(X)return{graphicalItem:N,payload:X}}else if(U==="RadialBar"){var j=(R.data||[]).find(function(Y){return Cz(b,Y)});if(j)return{graphicalItem:N,payload:j}}else if(EE(N,A)||AE(N,A)||fy(N,A)){var W=Bze({graphicalItem:N,activeTooltipItem:A,itemData:D.data}),H=D.activeIndex===void 0?W:D.activeIndex;return{graphicalItem:we(we({},N),{},{childIndex:H}),payload:fy(N,A)?D.data[W]:N.props.data[W]}}}return null}},{key:"render",value:function(){var b=this;if(!xB(this))return null;var _=this.props,S=_.children,A=_.className,M=_.width,P=_.height,N=_.style,R=_.compact,I=_.title,D=_.desc,U=n5(_,rVe),X=ht(U,!1);if(R)return V.createElement(j$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(DO,Fg({},X,{width:M,height:P,title:I,desc:D}),this.renderClipPath(),_B(S,this.renderMap)));if(this.props.accessibilityLayer){var j,W;X.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,X.role=(W=this.props.role)!==null&&W!==void 0?W:"application",X.onKeyDown=function(Y){b.accessibilityManager.keyboardEvent(Y)},X.onFocus=function(){b.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return V.createElement(j$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Fg({className:Lt("recharts-wrapper",A),style:we({position:"relative",cursor:"default",width:M,height:P},N)},H,{ref:function(k){b.container=k}}),V.createElement(DO,Fg({},X,{width:M,height:P,title:I,desc:D,style:bVe}),this.renderClipPath(),_B(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);return wt(g,"displayName",n),wt(g,"defaultProps",we({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),wt(g,"getDerivedStateFromProps",function(y,x){var v=y.dataKey,b=y.data,_=y.children,S=y.width,A=y.height,M=y.layout,P=y.stackOffset,N=y.margin,R=x.dataStartIndex,I=x.dataEndIndex;if(x.updateId===void 0){var D=o5(y);return we(we(we({},D),{},{updateId:0},p(we(we({props:y},D),{},{updateId:0}),x)),{},{prevDataKey:v,prevData:b,prevWidth:S,prevHeight:A,prevLayout:M,prevStackOffset:P,prevMargin:N,prevChildren:_})}if(v!==x.prevDataKey||b!==x.prevData||S!==x.prevWidth||A!==x.prevHeight||M!==x.prevLayout||P!==x.prevStackOffset||!Eh(N,x.prevMargin)){var U=o5(y),X={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},j=we(we({},i5(x,b,M)),{},{updateId:x.updateId+1}),W=we(we(we({},U),X),j);return we(we(we({},W),p(we({props:y},W),x)),{},{prevDataKey:v,prevData:b,prevWidth:S,prevHeight:A,prevLayout:M,prevStackOffset:P,prevMargin:N,prevChildren:_})}if(!kO(_,x.prevChildren)){var H,Y,k,F,$=po(_,hp),q=$&&(H=(Y=$.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&H!==void 0?H:R,Z=$&&(k=(F=$.props)===null||F===void 0?void 0:F.endIndex)!==null&&k!==void 0?k:I,ee=q!==R||Z!==I,ne=!It(b),ye=ne&&!ee?x.updateId:x.updateId+1;return we(we({updateId:ye},p(we(we({props:y},x),{},{updateId:ye,dataStartIndex:q,dataEndIndex:Z}),x)),{},{prevChildren:_,dataStartIndex:q,dataEndIndex:Z})}return null}),wt(g,"renderActiveDot",function(y,x,v){var b;return C.isValidElement(y)?b=C.cloneElement(y,x):Ct(y)?b=y(x):b=V.createElement(xE,x),V.createElement(Qt,{className:"recharts-active-dot",key:v},b)}),function(x){return V.createElement(g,x)}},BZ=FZ({chartName:"LineChart",GraphicalChild:nm,axisComponents:[{axisType:"xAxis",AxisComp:a0},{axisType:"yAxis",AxisComp:s0}],formatAxisMap:y5e}),OVe=FZ({chartName:"PieChart",GraphicalChild:Sl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:SE},{axisType:"radiusAxis",AxisComp:_E}],formatAxisMap:MUe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const RVe={light:"",dark:".dark"},zZ=C.createContext(null);function $Z(){const t=C.useContext(zZ);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const HZ=C.forwardRef(({id:t,className:e,children:n,config:r,...i},o)=>{const a=C.useId(),s=`chart-${t||a.replace(/:/g,"")}`;return w.jsx(zZ.Provider,{value:{config:r},children:w.jsxs("div",{"data-chart":s,ref:o,className:ut("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[w.jsx(NVe,{id:s,config:r}),w.jsx(rR,{children:n})]})})});HZ.displayName="Chart";const NVe=({id:t,config:e})=>{const n=Object.entries(e).filter(([r,i])=>i.theme||i.color);return n.length?w.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(RVe).map(([r,i])=>`
${i} [data-chart=${t}] {
${n.map(([o,a])=>{var l;const s=((l=a.theme)==null?void 0:l[r])||a.color;return s?`  --color-${o}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},IVe=qo,VZ=C.forwardRef(({active:t,payload:e,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:o=!1,label:a,labelFormatter:s,labelClassName:l,formatter:c,color:u,nameKey:d,labelKey:f},p)=>{const{config:g}=$Z(),y=C.useMemo(()=>{var A;if(i||!(e!=null&&e.length))return null;const[v]=e,b=`${f||v.dataKey||v.name||"value"}`,_=s2(g,v,b),S=!f&&typeof a=="string"?((A=g[a])==null?void 0:A.label)||a:_==null?void 0:_.label;return s?w.jsx("div",{className:ut("font-medium",l),children:s(S,e)}):S?w.jsx("div",{className:ut("font-medium",l),children:S}):null},[a,s,e,i,l,g,f]);if(!t||!(e!=null&&e.length))return null;const x=e.length===1&&r!=="dot";return w.jsxs("div",{ref:p,className:ut("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[x?null:y,w.jsx("div",{className:"grid gap-1.5",children:e.map((v,b)=>{const _=`${d||v.name||v.dataKey||"value"}`,S=s2(g,v,_),A=u||v.payload.fill||v.color;return w.jsx("div",{className:ut("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&(v==null?void 0:v.value)!==void 0&&v.name?c(v.value,v.name,v,b,v.payload):w.jsxs(w.Fragment,{children:[S!=null&&S.icon?w.jsx(S.icon,{}):!o&&w.jsx("div",{className:ut("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":x&&r==="dashed"}),style:{"--color-bg":A,"--color-border":A}}),w.jsxs("div",{className:ut("flex flex-1 justify-between leading-none",x?"items-end":"items-center"),children:[w.jsxs("div",{className:"grid gap-1.5",children:[x?y:null,w.jsx("span",{className:"text-muted-foreground",children:(S==null?void 0:S.label)||v.name})]}),v.value&&w.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:v.value.toLocaleString()})]})]})},v.dataKey)})})]})});VZ.displayName="ChartTooltip";const kVe=C.forwardRef(({className:t,hideIcon:e=!1,payload:n,verticalAlign:r="bottom",nameKey:i},o)=>{const{config:a}=$Z();return n!=null&&n.length?w.jsx("div",{ref:o,className:ut("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",t),children:n.map(s=>{const l=`${i||s.dataKey||"value"}`,c=s2(a,s,l);return w.jsxs("div",{className:ut("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c!=null&&c.icon&&!e?w.jsx(c.icon,{}):w.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),c==null?void 0:c.label]},s.value)})}):null});kVe.displayName="ChartLegend";function s2(t,e,n){if(typeof e!="object"||e===null)return;const r="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=n;return n in e&&typeof e[n]=="string"?i=e[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in t?t[i]:t[n]}const LVe=(t,e,n)=>Array.from({length:t},(r,i)=>({name:`Day ${i+1}`,value:e+Math.random()*(n-e)})),DVe={value:{label:"Valoare",theme:{light:"#f97316",dark:"#f97316"}}},jVe=({assetName:t,assetType:e,data:n=LVe(30,100,200)})=>w.jsxs(Un,{className:"bg-gray-900 border-gray-800",children:[w.jsx(Ri,{children:w.jsxs(Ni,{className:"text-white",children:["Grafic ",t," ",w.jsxs("span",{className:"text-sm font-normal text-gray-400",children:["(",e,")"]})]})}),w.jsx(Xn,{children:w.jsx("div",{className:"h-[300px] w-full",children:w.jsx(HZ,{config:DVe,children:w.jsxs(BZ,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[w.jsx(Jk,{strokeDasharray:"3 3"}),w.jsx(a0,{dataKey:"name",tick:{fill:"#9ca3af"},tickLine:{stroke:"#4b5563"},axisLine:{stroke:"#4b5563"}}),w.jsx(s0,{tick:{fill:"#9ca3af"},tickLine:{stroke:"#4b5563"},axisLine:{stroke:"#4b5563"}}),w.jsx(IVe,{content:w.jsx(VZ,{})}),w.jsx(Sc,{}),w.jsx(nm,{type:"monotone",dataKey:"value",stroke:"#f97316",activeDot:{r:8}})]})})})})]}),Ff=["#0088FE","#00C49F","#FFBB28","#FF8042","#a855f7","#ec4899"],sP=(t,e)=>{const r=e.reduce((i,o)=>i+o.value,0)*.9;return Array.from({length:t},(i,o)=>{const a=Math.random()*.05-.025,s=o/t*.2,l=r*(1+s+a);return{name:`Ziua ${o+1}`,value:Math.round(l)}})},UVe=({userTier:t})=>{const[e,n]=C.useState([{id:"1",name:"Aciuni",value:4e3,color:Ff[0]},{id:"2",name:"ETF-uri",value:3e3,color:Ff[1]},{id:"3",name:"Forex",value:2e3,color:Ff[2]},{id:"4",name:"Aur",value:1500,color:Ff[3]}]),[r,i]=C.useState([]),[o,a]=C.useState(""),[s,l]=C.useState(""),[c,u]=C.useState("composition");C.useEffect(()=>{i(sP(30,e))},[e]);const d=()=>{if(o&&s){const g=parseFloat(s);if(!isNaN(g)&&g>0){const y={id:Date.now().toString(),name:o,value:g,color:Ff[e.length%Ff.length]};n([...e,y]),a(""),l(""),Wi.success(`${o} adugat n portofoliu`)}else Wi.error("Valoarea introdus trebuie s fie un numr pozitiv")}else Wi.error("Completeaz att numele ct i valoarea activului")},f=g=>{n(e.filter(y=>y.id!==g)),Wi.success("Activ eliminat din portofoliu")},p=t==="silver"||t==="gold";return w.jsxs(Un,{className:"bg-gray-900 border-gray-800",children:[w.jsx(Ri,{children:w.jsx(Ni,{className:"text-white",children:"Urmrirea portofoliului"})}),w.jsx(Xn,{children:w.jsxs($I,{defaultValue:"composition",value:c,onValueChange:u,children:[w.jsxs(LS,{className:"bg-gray-800 border-gray-700 mb-6",children:[w.jsx(yd,{value:"composition",className:"data-[state=active]:bg-gold-500 data-[state=active]:text-black",children:"Compoziie"}),w.jsx(yd,{value:"history",className:"data-[state=active]:bg-gold-500 data-[state=active]:text-black",children:"Evoluie"})]}),w.jsxs(xd,{value:"composition",className:"space-y-4",children:[w.jsx("div",{className:"mb-6 h-[300px]",children:w.jsx(rR,{width:"100%",height:"100%",children:w.jsxs(OVe,{children:[w.jsx(Sl,{data:e,cx:"50%",cy:"50%",labelLine:!1,outerRadius:120,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:g,percent:y})=>`${g}: ${(y*100).toFixed(0)}%`,children:e.map((g,y)=>w.jsx(sE,{fill:g.color},`cell-${y}`))}),w.jsx(qo,{formatter:g=>[`${g} `,"Valoare"]}),w.jsx(Sc,{})]})})}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.map(g=>w.jsxs("div",{className:"flex items-center justify-between bg-gray-800 p-3 rounded-md",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:g.color}}),w.jsx("span",{className:"text-white",children:g.name})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsxs("span",{className:"text-white",children:[g.value.toLocaleString("ro-RO")," "]}),p&&w.jsx(Nt,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400 hover:text-red-500",onClick:()=>f(g.id),children:w.jsx(dV,{className:"h-3 w-3"})})]})]},g.id))}),p&&w.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2 mt-4",children:[w.jsx(lr,{placeholder:"Nume activ",value:o,onChange:g=>a(g.target.value),className:"bg-gray-800 border-gray-700 text-white"}),w.jsx(lr,{placeholder:"Valoare ()",type:"number",value:s,onChange:g=>l(g.target.value),className:"bg-gray-800 border-gray-700 text-white"}),w.jsxs(Nt,{onClick:d,className:"bg-gold-500 hover:bg-gold-600 text-black",children:[w.jsx(uV,{className:"h-4 w-4 mr-1"})," Adaug"]})]}),!p&&w.jsx("div",{className:"text-center p-4 border border-dashed border-gray-700 rounded-md mt-4",children:w.jsx("p",{className:"text-gray-400",children:"Upgradeaza la un abonament Silver sau Gold pentru a putea aduga active personalizate."})})]})]}),w.jsxs(xd,{value:"history",className:"space-y-4",children:[w.jsx("div",{className:"h-[350px]",children:w.jsx(rR,{width:"100%",height:"100%",children:w.jsxs(BZ,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[w.jsx(Jk,{strokeDasharray:"3 3",stroke:"#444"}),w.jsx(a0,{dataKey:"name",stroke:"#999"}),w.jsx(s0,{stroke:"#999"}),w.jsx(qo,{contentStyle:{backgroundColor:"#333",borderColor:"#555"}}),w.jsx(nm,{type:"monotone",dataKey:"value",stroke:"#f97316",activeDot:{r:8},dot:!1})]})})}),w.jsxs("div",{className:"flex justify-between mt-4",children:[w.jsxs("p",{className:"text-white",children:["Valoare total actual: ",w.jsxs("span",{className:"font-bold text-gold-500",children:[e.reduce((g,y)=>g+y.value,0).toLocaleString("ro-RO")," "]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs(Nt,{variant:"outline",onClick:()=>i(sP(30,e)),className:"text-white border-gray-700",children:[w.jsx(ire,{className:"h-4 w-4 mr-1"})," 30 zile"]}),w.jsxs(Nt,{variant:"outline",onClick:()=>i(sP(90,e)),className:"text-white border-gray-700",children:[w.jsx(vs,{className:"h-4 w-4 mr-1"})," 90 zile"]})]})]})]})]})})]})},FVe=({tasks:t,userTier:e,onTaskComplete:n})=>{const r=a=>({bronze:1,silver:2,gold:3})[a],i=a=>r(e)>=r(a),o=a=>{n(a),Wi.success("Task marcat ca finalizat!")};return w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(a=>{const s=i(a.tierRequired);return w.jsxs(Un,{className:`bg-gray-800 border-gray-700 shadow-lg transition-all
              ${a.completed?"border-green-500/50":s?"hover:border-gold-500":"opacity-75"}`,children:[w.jsx(Ri,{children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx(Ni,{className:"text-white",children:a.title}),!s&&w.jsxs("div",{className:"flex items-center bg-gray-700 text-xs text-gray-300 px-2 py-1 rounded",children:[a.tierRequired.charAt(0).toUpperCase()+a.tierRequired.slice(1),"+"]})]})}),w.jsx(Xn,{children:w.jsx(ra,{className:"text-gray-300",children:s?a.description:"Upgradeaza pentru a accesa acest task educaional."})}),w.jsx(Sh,{children:s?w.jsx(Nt,{className:`w-full ${a.completed?"bg-green-600 hover:bg-green-700 text-white":"bg-gold-500 hover:bg-gold-600 text-black"}`,onClick:()=>o(a.id),disabled:a.completed,children:a.completed?w.jsxs(w.Fragment,{children:[w.jsx(pre,{className:"mr-2 h-4 w-4"}),"Finalizat"]}):w.jsxs(w.Fragment,{children:[w.jsx(F1,{className:"mr-2 h-4 w-4"}),"Marcheaz ca finalizat"]})}):w.jsx(Nt,{className:"w-full bg-gray-700 hover:bg-gray-600 text-white",disabled:!0,children:"Upgradeaza planul"})})]},a.id)})})},BVe=({asset:t,onRemove:e,onSelect:n,isSelected:r=!1})=>{const i=()=>{Wi.success(`Alert configurat pentru ${t.name}`)},o=()=>{n&&n(t)};return w.jsx(Un,{className:`bg-gray-800 border-gray-700 hover:border-gold-500/50 transition-all cursor-pointer ${r?"border-gold-500 shadow-md shadow-gold-500/20":""}`,onClick:o,children:w.jsx(Xn,{className:"p-4",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h3",{className:`font-medium ${r?"text-gold-500":"text-white"}`,children:t.name}),w.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[w.jsx("span",{className:"text-gray-300",children:t.price}),w.jsxs("span",{className:`text-xs font-medium ${t.isUp?"text-green-400":"text-red-400"}`,children:[t.isUp?"":""," ",t.change]})]})]}),w.jsxs("div",{className:"flex space-x-1",children:[w.jsx(Nt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400 hover:text-gold-500",onClick:a=>{a.stopPropagation(),i()},children:w.jsx(Tre,{className:"h-4 w-4"})}),w.jsx(Nt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-400 hover:text-red-500",onClick:a=>{a.stopPropagation(),e(t.id)},children:w.jsx(dV,{className:"h-4 w-4"})})]})]})})})},zVe=({userTier:t,onSelectAsset:e,selectedAssetId:n})=>{const[r,i]=C.useState([{id:"1",name:"EUR/USD",price:"1.0862",change:"0.15%",isUp:!0,hasAlert:!1},{id:"2",name:"Aur (XAU)",price:"2,315.30",change:"0.42%",isUp:!0,hasAlert:!0},{id:"3",name:"Apple Inc.",price:"187.68",change:"1.05%",isUp:!1,hasAlert:!1}]),[o,a]=C.useState(""),s=()=>{if(!o.trim())return;const d=Math.random()>.5,f=(Math.random()*2).toFixed(2)+"%",p=(Math.random()*1e3).toFixed(2),g={id:Date.now().toString(),name:o,price:p,change:f,isUp:d,hasAlert:!1};i([...r,g]),a(""),Wi.success(`${o} adugat n Watchlist`)},l=d=>{i(r.filter(f=>f.id!==d)),Wi.success("Instrument financiar eliminat din Watchlist")},c=d=>{e&&e(d)},u=t!=="bronze"||r.length<3;return V.useEffect(()=>{const d=setInterval(()=>{i(f=>f.map(p=>{const g=Math.random()>.5,x=`${(Math.random()*1.5).toFixed(2)}%`;let v=p.price;return p.name==="EUR/USD"?v=(parseFloat(p.price.replace(",","."))+(g?5e-4:-5e-4)*Math.random()).toFixed(4):p.name==="Aur (XAU)"?v=(parseFloat(p.price.replace(",",""))+(g?1:-1)*Math.random()*5).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","):v=(parseFloat(p.price.replace(",","."))+(g?.1:-.1)*Math.random()*2).toFixed(2),{...p,price:v,change:x,isUp:g}}))},5e3);return()=>clearInterval(d)},[]),w.jsxs(Un,{className:"bg-gray-900 border-gray-800",children:[w.jsx(Ri,{children:w.jsx(Ni,{className:"text-white",children:"Watchlist"})}),w.jsxs(Xn,{className:"space-y-4",children:[w.jsxs("div",{className:"grid gap-3",children:[r.map(d=>w.jsx(BVe,{asset:d,onRemove:l,onSelect:c,isSelected:n===d.id},d.id)),r.length===0&&w.jsxs("div",{className:"text-center py-6 text-gray-400",children:[w.jsx(vre,{className:"mx-auto h-8 w-8 mb-2 opacity-50"}),w.jsx("p",{children:"Nu ai niciun instrument n watchlist"})]})]}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx(lr,{value:o,onChange:d=>a(d.target.value),placeholder:"Adaug un instrument financiar",className:"bg-gray-800 border-gray-700 text-white",disabled:!u}),w.jsxs(Nt,{onClick:s,className:"bg-gold-500 hover:bg-gold-600 text-black",disabled:!u,children:[w.jsx(uV,{className:"h-4 w-4 mr-1"})," Adaug"]})]}),!u&&w.jsx("p",{className:"text-sm text-gray-400",children:"Ai atins limita de 3 instrumente pentru contul Bronze. Upgradeaza pentru a aduga mai multe."})]})]})},$Ve=()=>{const[t,e]=C.useState(""),[n,r]=C.useState("bronze"),[i,o]=C.useState(!0),[a,s]=C.useState(null),[l,c]=C.useState([]);C.useEffect(()=>{i&&(Wi("Bine ai venit la Markets4all Dashboard!",{description:"Aici poi urmri activele tale financiare i nva despre investiii.",icon:w.jsx(are,{className:"h-4 w-4 text-gold-500"}),duration:5e3}),o(!1))},[i]),C.useEffect(()=>{if(a){let y=100,x=.02;a.name==="EUR/USD"?(y=1.08,x=.005):a.name==="Aur (XAU)"?(y=2300,x=.015):a.name.includes("Apple")&&(y=185,x=.02);const v=Array.from({length:30},(b,_)=>{const S=_/30*.05,A=(Math.random()-.5)*x,M=y*(1+S+A);return{name:`Ziua ${_+1}`,value:parseFloat(M.toFixed(4))}});c(v)}},[a]);const u=[{id:"forex",name:"Piaa Valutar (Forex)",icon:w.jsx(aN,{className:"h-10 w-10 text-gold-500"}),tasks:[{id:"forex-1",title:"Dobnda de Referin",description:"nva ce este dobnda de referin i cum afecteaz cursurile valutare. Dobnda de referin este rata dobnzii stabilit de banca central a unei ri i are un impact semnificativ asupra valorii monedei naionale.",completed:!1,tierRequired:"bronze"},{id:"forex-2",title:"Perechi Valutare Majore",description:"Identific perechile valutare majore i caracteristicile lor. Cele mai tranzacionate perechi includ EUR/USD, USD/JPY, GBP/USD i USD/CHF.",completed:!1,tierRequired:"bronze"},{id:"forex-3",title:"Analiza Tehnic de Baz",description:"nva s foloseti indicatori tehnici de baz precum mediile mobile, RSI i MACD pentru a identifica tendinele pieei valutare.",completed:!1,tierRequired:"silver"},{id:"forex-4",title:"Strategii de Tranzacionare Avansate",description:"Descoper strategii de tranzacionare avansate pentru forex incluznd scalping, swing trading i position trading.",completed:!1,tierRequired:"gold"}]},{id:"commodities",name:"Mrfuri",icon:w.jsx(B1,{className:"h-10 w-10 text-gold-500"}),tasks:[{id:"commodities-1",title:"Tipuri de Mrfuri",description:"nva despre diferitele tipuri de mrfuri: metale preioase (aur, argint), energie (petrol, gaz natural), agricole (gru, porumb, cafea) i cum se tranzacioneaz fiecare.",completed:!1,tierRequired:"bronze"},{id:"commodities-2",title:"Factorii de Influen",description:"Identific factorii principali care influeneaz preurile mrfurilor: cerere i ofert, condiii meteorologice, politici guvernamentale, valoarea dolarului i stocurile globale.",completed:!1,tierRequired:"bronze"},{id:"commodities-3",title:"Modaliti de Investiie",description:"Exploreaz diferitele modaliti de a investi n mrfuri: contracte futures, ETF-uri specializate pe mrfuri, aciuni ale companiilor productoare i fonduri mutuale.",completed:!1,tierRequired:"silver"},{id:"commodities-4",title:"Strategii de Hedging",description:"nva cum s foloseti mrfurile pentru a proteja portofoliul tu mpotriva inflaiei i a volatilitii pieei.",completed:!1,tierRequired:"gold"}]},{id:"stocks",name:"Aciuni",icon:w.jsx(Ks,{className:"h-10 w-10 text-gold-500"}),tasks:[{id:"stocks-1",title:"Raportul P/E",description:"nva s calculezi i s interpretezi raportul pre/ctig (P/E) al unei companii. Acest indicator fundamental ajut la evaluarea valorii aciunilor.",completed:!1,tierRequired:"bronze"},{id:"stocks-2",title:"Dividende",description:"nelege conceptul de dividend yield i cum s evaluezi companiile care pltesc dividende n mod constant.",completed:!1,tierRequired:"bronze"},{id:"stocks-3",title:"Analiza Sectorial",description:"nva s analizezi performana diferitelor sectoare economice i cum acestea sunt influenate de ciclurile economice.",completed:!1,tierRequired:"silver"},{id:"stocks-4",title:"Strategii de Construire a Portofoliului",description:"Dezvolt strategii avansate pentru construirea unui portofoliu diversificat de aciuni n funcie de profilul tu de risc i obiectivele financiare.",completed:!1,tierRequired:"gold"}]},{id:"etf-indices",name:"ETF-uri i Indici",icon:w.jsx(iV,{className:"h-10 w-10 text-gold-500"}),tasks:[{id:"etf-1",title:"Structura unui ETF",description:"nelege cum sunt structurate fondurile tranzacionate la burs (ETF) i avantajele lor comparativ cu fondurile mutuale tradiionale: lichiditate, costuri reduse i diversificare.",completed:!1,tierRequired:"bronze"},{id:"etf-2",title:"Indici Globali",description:"Cunoate principalii indici bursieri globali (S&P 500, NASDAQ, FTSE 100, DAX, Nikkei) i ce reprezint acetia. nelege cum poi investi n aceti indici prin ETF-uri.",completed:!1,tierRequired:"bronze"},{id:"etf-3",title:"ETF-uri Tematice",description:"Exploreaz ETF-urile tematice care se concentreaz pe sectoare specifice precum tehnologie, energie verde sau inteligen artificial i cum pot fi folosite pentru a investi n tendine emergente.",completed:!1,tierRequired:"silver"},{id:"etf-4",title:"ETF-uri cu Efect de Levier",description:"nva despre ETF-urile cu efect de levier i ETF-urile inverse, cum funcioneaz i riscurile asociate cu acestea.",completed:!1,tierRequired:"gold"}]},{id:"funds",name:"Fonduri de Investiii",icon:w.jsx(dre,{className:"h-10 w-10 text-gold-500"}),tasks:[{id:"funds-1",title:"Tipuri de Fonduri",description:"nva diferenele dintre fondurile mutuale, ETF-uri, fonduri de pensii i fonduri hedge. Fiecare tip are caracteristici, riscuri i poteniale beneficii distincte.",completed:!1,tierRequired:"bronze"},{id:"funds-2",title:"Evaluarea Performanei",description:"nva s evaluezi performana unui fond de investiii folosind indicatori precum CAGR (rata anual compus de cretere) i raportul Sharpe.",completed:!1,tierRequired:"bronze"},{id:"funds-3",title:"Diversificarea Portofoliului",description:"nelege importana diversificrii i cum s construieti un portofoliu de fonduri de investiii echilibrat n funcie de obiectivele tale financiare.",completed:!1,tierRequired:"silver"},{id:"funds-4",title:"Analiza Alocrii de Active",description:"nva tehnici avansate pentru alocarea activelor ntre diferite clase de active i fonduri de investiii pentru a maximiza rentabilitatea ajustat la risc.",completed:!1,tierRequired:"gold"}]},{id:"crypto",name:"Criptomonede",icon:w.jsx(lV,{className:"h-10 w-10 text-gold-500"}),tasks:[{id:"crypto-1",title:"Tehnologia Blockchain",description:"nva bazele tehnologiei blockchain i cum aceasta st la baza majoritii criptomonedelor. nelege concepte precum descentralizare, consens i criptografie.",completed:!1,tierRequired:"bronze"},{id:"crypto-2",title:"Market Cap i Tokenomics",description:"nelege cum s analizezi capitalizarea de pia a unei criptomonede i importana tokenomics-ului (distribuia, inflaia i utilitatea token-urilor).",completed:!1,tierRequired:"bronze"},{id:"crypto-3",title:"Riscuri i Reglementri",description:"Fii la curent cu riscurile specifice investiiilor n criptomonede i evoluia cadrului de reglementare n diferite jurisdicii.",completed:!1,tierRequired:"silver"},{id:"crypto-4",title:"DeFi i NFT-uri",description:"Exploreaz ecosistemul DeFi (Finane Descentralizate) i piaa NFT-urilor (Token-uri Nefungibile), cum funcioneaz i oportunitile pe care le ofer.",completed:!1,tierRequired:"gold"}]}],d=u.find(y=>y.id===t),f=y=>{r(y),Wi.success(`Contul tu a fost actualizat la nivelul ${y.charAt(0).toUpperCase()+y.slice(1)}`)},p=y=>{console.log(`Task ${y} completed`)},g=y=>{s(y),Wi.info(`Grafic actualizat pentru ${y.name}`)};return w.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[w.jsx(zc,{}),w.jsx("div",{className:"flex-grow pt-20 pb-10 px-4 container mx-auto",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute -left-20 -top-20 w-64 h-64 bg-gold-500/10 rounded-full blur-3xl"}),w.jsx("div",{className:"absolute -right-20 -bottom-20 w-64 h-64 bg-gold-500/10 rounded-full blur-3xl"}),w.jsxs("div",{className:"bg-gray-900 border border-gray-800 p-8 rounded-xl shadow-xl relative z-10 mb-10",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[w.jsxs("h1",{className:"text-3xl font-bold",children:["Bine ai venit la Markets",w.jsx("span",{className:"text-gold-500",children:"4all"}),"!"]}),w.jsx(eK,{tier:n})]}),w.jsx("p",{className:"text-gray-400",children:"Platform educaional pentru dezvoltarea abilitilor tale de investiii"}),w.jsx("div",{className:"absolute top-8 right-8 flex items-center gap-2",children:w.jsxs(Nt,{variant:"outline",size:"sm",className:"flex items-center gap-1 border-gray-700",children:[w.jsx(yre,{className:"h-4 w-4"}),w.jsx("span",{children:"Romn"})]})}),w.jsxs("div",{className:"mt-4 flex gap-2 justify-center",children:[w.jsx(Nt,{variant:n==="bronze"?"default":"outline",onClick:()=>f("bronze"),className:n==="bronze"?"bg-amber-700":"",children:"Bronze"}),w.jsx(Nt,{variant:n==="silver"?"default":"outline",onClick:()=>f("silver"),className:n==="silver"?"bg-gray-400":"",children:"Silver"}),w.jsx(Nt,{variant:n==="gold"?"default":"outline",onClick:()=>f("gold"),className:n==="gold"?"bg-gold-500":"",children:"Gold"})]}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecteaz nivelul pentru demo"})]}),w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Selecteaz activul financiar pe care l deii sau te intereseaz:"}),w.jsxs(dwe,{value:t,onValueChange:e,children:[w.jsx(KX,{className:"w-full bg-gray-800 border-gray-700 text-white",children:w.jsx(fwe,{placeholder:"Alege un activ financiar"})}),w.jsx(ZX,{className:"bg-gray-800 border-gray-700 text-white",children:u.map(y=>w.jsx(QX,{value:y.id,className:"hover:bg-gray-700",children:y.name},y.id))})]})]})})]}),d&&w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[d.icon,w.jsx("h2",{className:"text-2xl font-bold",children:d.name})]}),w.jsxs($I,{defaultValue:"tasks",className:"w-full",children:[w.jsxs(LS,{className:"bg-gray-800 border-gray-700 mb-6",children:[w.jsx(yd,{value:"tasks",className:"data-[state=active]:bg-gold-500 data-[state=active]:text-black",children:"Educaie"}),w.jsx(yd,{value:"tracking",className:"data-[state=active]:bg-gold-500 data-[state=active]:text-black",children:"Urmrire"})]}),w.jsxs(xd,{value:"tasks",className:"space-y-6",children:[w.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Sarcini educaionale:"}),w.jsx(FVe,{tasks:d.tasks,userTier:n,onTaskComplete:p})]}),w.jsxs(xd,{value:"tracking",className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsx(jVe,{assetName:a?a.name:d.name,assetType:a?"Cotaie live":"Preuri ultimele 30 zile",data:l.length>0?l:void 0}),w.jsx(zVe,{userTier:n,onSelectAsset:g,selectedAssetId:a==null?void 0:a.id})]}),w.jsx("div",{className:"mt-6",children:w.jsx(UVe,{userTier:n})})]})]}),w.jsx("div",{className:"mt-8 text-center",children:w.jsxs(Nt,{className:"bg-gold-500 hover:bg-gold-600 text-black font-semibold",children:["Solicit materiale personalizate ",w.jsx(vs,{className:"ml-2 h-4 w-4"})]})})]})]})}),w.jsx(qc,{})]})},HVe=()=>w.jsxs("div",{className:"relative mb-16",children:[w.jsx("div",{className:"absolute -left-20 -top-20 w-64 h-64 bg-gold-500/10 rounded-full blur-3xl"}),w.jsx("div",{className:"absolute -right-20 -bottom-20 w-64 h-64 bg-gold-500/10 rounded-full blur-3xl"}),w.jsxs("div",{className:"relative z-10 text-center max-w-3xl mx-auto",children:[w.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Cariere la ",w.jsx("span",{className:"text-gold-500",children:"Markets4all"})]}),w.jsx("p",{className:"text-lg text-gray-300 mb-8",children:"Altur-te echipei noastre i ajut-ne s transformm modul n care oamenii investesc i nva despre pieele financiare"})]})]}),VVe=({job:t})=>w.jsxs(Un,{className:"bg-gray-900 border border-gray-800 hover:border-gold-500 transition-all duration-300",children:[w.jsxs(Ri,{children:[w.jsx(Ni,{className:"text-white text-xl",children:t.title}),w.jsx(ra,{className:"text-gray-400",children:w.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[w.jsxs("div",{className:"flex items-center text-gray-300",children:[w.jsx(rV,{className:"h-4 w-4 mr-1 text-gold-500"}),w.jsx("span",{children:t.type})]}),w.jsxs("div",{className:"flex items-center text-gray-300",children:[w.jsx(wre,{className:"h-4 w-4 mr-1 text-gold-500"}),w.jsx("span",{children:t.location})]}),w.jsxs("div",{className:"flex items-center text-gray-300",children:[w.jsx(ore,{className:"h-4 w-4 mr-1 text-gold-500"}),w.jsx("span",{children:t.salary})]})]})})]}),w.jsxs(Xn,{children:[w.jsx("p",{className:"text-gray-300 mb-4",children:t.description}),w.jsx("a",{href:"#apply",children:w.jsx(Nt,{variant:"outline",className:"w-full border-gold-500 text-white hover:bg-gold-500 hover:text-black",children:"Aplic acum"})})]})]}),WVe=({jobPositions:t})=>w.jsxs("div",{className:"mb-20",children:[w.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-10 text-center",children:"Poziii Disponibile"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((e,n)=>w.jsx(VVe,{job:e},n))})]}),GVe=[{title:"Consultant Investiii",type:"Full-time",location:"Bucureti",salary:"Competitiv",description:"Ofer consultan personalizat clienilor privind opiunile de investiii potrivite. Cerine: experien n vnzri sau consultan financiar, abiliti excelente de comunicare."}],qVe=()=>w.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[w.jsx(zc,{}),w.jsx("div",{className:"flex-grow pt-24 pb-16",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsx(HVe,{}),w.jsx(WVe,{jobPositions:GVe}),w.jsxs("div",{id:"apply",className:"bg-gray-900 border border-gray-800 rounded-xl p-4 md:p-8 max-w-4xl mx-auto mt-12",children:[w.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Aplic pentru o poziie"}),w.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:w.jsx("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSdNIO_H0QTDCEviuCqeZ10uzYeyqAxn3WrpfNAR3gbRG-15Kg/viewform?embedded=true",width:"100%",height:"800",frameBorder:"0",marginHeight:0,marginWidth:0,title:"Job Application Form",className:"mx-auto block",children:"Se ncarc formularul..."})}),w.jsx("p",{className:"text-gray-400 text-sm mt-4 text-center",children:"Completeaz formularul de mai sus pentru a aplica la una dintre poziiile disponibile. Toate CV-urile vor fi trimise direct ctre echipa noastr de recrutare."})]})]})}),w.jsx(qc,{})]}),XVe=()=>{const t=Ry();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),w.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),w.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},KVe=()=>{const[t,e]=C.useState(null),n=Ip();C.useEffect(()=>{if(!(localStorage.getItem("isAuthenticated")==="true")){n("/login");return}const a=localStorage.getItem("userData");if(a){const s=JSON.parse(a);s.joinDate||(s.joinDate=new Date().toISOString().split("T")[0]),s.subscriptionPlan||(s.subscriptionPlan="bronze"),s.subscriptionPlan==="silver"&&!s.subscriptionPrice?s.subscriptionPrice=49.99:s.subscriptionPlan==="gold"&&!s.subscriptionPrice&&(s.subscriptionPrice=99.99),localStorage.setItem("userData",JSON.stringify(s));const l=localStorage.getItem("allUsers");if(l){const u=JSON.parse(l).map(d=>d.email===s.email?{...d,...s}:d);localStorage.setItem("allUsers",JSON.stringify(u))}e(s)}},[n]);const r=o=>o?new Date(o).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"}):"N/A",i=()=>{n("/dashboard"),Wi.info("Acces la dashboard-ul Markets4all")};return t?w.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[w.jsx(zc,{}),w.jsx("div",{className:"flex-grow py-24",children:w.jsx("div",{className:"container mx-auto px-4",children:w.jsx("div",{className:"max-w-4xl mx-auto",children:w.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-8",children:[w.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 mb-8",children:[w.jsx("div",{className:"bg-gray-800 rounded-full w-24 h-24 flex items-center justify-center",children:w.jsx(oC,{className:"w-12 h-12 text-gray-400"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold",children:t.name}),w.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[w.jsx(rv,{className:"w-4 h-4 text-gray-400"}),w.jsx("span",{className:"text-gray-300",children:t.email})]}),w.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[w.jsx(cre,{className:"w-4 h-4 text-gray-400"}),w.jsxs("span",{className:"text-gray-300",children:["Membru din ",r(t.joinDate)]})]}),w.jsx("div",{className:"mt-3",children:w.jsx(eK,{tier:t.subscriptionPlan||"bronze"})})]})]}),w.jsx(HI,{className:"my-6 bg-gray-800"}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[w.jsxs(Un,{className:"bg-gray-800 border-gray-700",children:[w.jsxs(Ri,{children:[w.jsx(Ni,{children:"Informaii personale"}),w.jsx(ra,{className:"text-gray-400",children:"Datele tale de contact"})]}),w.jsxs(Xn,{className:"space-y-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yo,{htmlFor:"name",children:"Nume complet"}),w.jsx(lr,{id:"name",value:t.name,disabled:!0,className:"bg-gray-700 border-gray-600"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yo,{htmlFor:"email",children:"Email"}),w.jsx(lr,{id:"email",value:t.email,disabled:!0,className:"bg-gray-700 border-gray-600"})]})]})]}),w.jsxs(Un,{className:"bg-gray-800 border-gray-700",children:[w.jsxs(Ri,{children:[w.jsx(Ni,{children:"Detalii abonament"}),w.jsx(ra,{className:"text-gray-400",children:"Planul tu curent"})]}),w.jsxs(Xn,{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsxs("h3",{className:"text-lg font-medium",children:["Plan ",t.subscriptionPlan==="bronze"?"Bronze":t.subscriptionPlan==="silver"?"Silver":"Gold"]}),t.subscriptionPlan!=="bronze"&&t.subscriptionPrice&&w.jsxs("p",{className:"text-gray-300 mt-1",children:[t.subscriptionPrice," RON / lun"]}),w.jsx("p",{className:"text-gray-400 mt-2",children:t.subscriptionPlan==="bronze"?"Cont de baz fr acces la funcii premium":t.subscriptionPlan==="silver"?"Acces la analize de pia de baz i alerte personalizate":"Acces complet la toate funcionalitile premium"})]}),w.jsxs("div",{className:"flex flex-col space-y-3",children:[w.jsxs(Nt,{onClick:()=>n("/subscriptions"),className:t.subscriptionPlan==="bronze"||t.subscriptionPlan==="silver"?"bg-gold-500 hover:bg-gold-600 text-black":"bg-gray-700 hover:bg-gray-600",children:[t.subscriptionPlan==="bronze"?"Aboneaz-te acum":t.subscriptionPlan==="silver"?"Upgrade la Gold":"Gestioneaz abonamentul",w.jsx(vs,{className:"ml-2 h-4 w-4"})]}),w.jsxs(Nt,{onClick:i,variant:"outline",className:"border-gold-500 text-white hover:bg-gold-500/10",children:["Acceseaz Dashboard",w.jsx(vs,{className:"ml-2 h-4 w-4"})]})]})]})]})]})]})})})}),w.jsx(qc,{})]}):w.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:w.jsx("div",{className:"text-white",children:"Se ncarc..."})})},YVe=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!1),i=(o,a)=>{e({name:o,price:a}),r(!0)};return w.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[w.jsx(zc,{}),w.jsx("div",{className:"flex-grow py-24",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[w.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Alege planul potrivit pentru tine"}),w.jsx("p",{className:"text-lg text-gray-300",children:"Investete inteligent cu Markets4all. Alege planul care se potrivete nevoilor tale de investiii."})]}),w.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-7xl mx-auto",children:[w.jsxs(Un,{className:`bg-gray-900 border ${(t==null?void 0:t.name)==="Bronze"?"border-amber-700":"border-gray-800"} hover:border-amber-700 transition-all`,children:[w.jsxs(Ri,{className:"text-center",children:[w.jsx("div",{className:"mx-auto mb-4 p-2 rounded-full bg-gray-800 w-16 h-16 flex items-center justify-center",children:w.jsx(zr,{className:"text-amber-700 w-8 h-8"})}),w.jsx(Ni,{className:"text-2xl font-bold text-gray-200",children:"Plan Bronze"}),w.jsx(ra,{className:"text-gray-400",children:"Pentru investitori nceptori"})]}),w.jsxs(Xn,{children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("span",{className:"text-4xl font-bold",children:"99 RON"}),w.jsx("span",{className:"text-gray-400 ml-2 block text-sm",children:"plat unic"})]}),w.jsxs("ul",{className:"space-y-3",children:[w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-amber-700 mr-2 h-5 w-5"}),w.jsx("span",{children:"Acces la cursuri de baz"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-amber-700 mr-2 h-5 w-5"}),w.jsx("span",{children:"Materiale educaionale fundamentale"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-amber-700 mr-2 h-5 w-5"}),w.jsx("span",{children:"Suport comunitate"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-amber-700 mr-2 h-5 w-5"}),w.jsx("span",{children:"Resurse pentru nceptori"})]})]})]}),w.jsx(Sh,{children:w.jsx(Nt,{onClick:()=>i("Bronze",99),className:"w-full bg-amber-700 hover:bg-amber-800 text-white",children:"Alege planul Bronze"})})]}),w.jsxs(Un,{className:`bg-gray-900 border ${(t==null?void 0:t.name)==="Silver"?"border-gray-400":"border-gray-800"} hover:border-gray-400 transition-all`,children:[w.jsxs(Ri,{className:"text-center",children:[w.jsx("div",{className:"mx-auto mb-4 p-2 rounded-full bg-gray-800 w-16 h-16 flex items-center justify-center",children:w.jsx(nV,{className:"text-gray-400 w-8 h-8"})}),w.jsx(Ni,{className:"text-2xl font-bold text-gray-200",children:"Plan Silver"}),w.jsx(ra,{className:"text-gray-400",children:"Pentru investitori intermediari"})]}),w.jsxs(Xn,{children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("span",{className:"text-4xl font-bold",children:"249 RON"}),w.jsx("span",{className:"text-gray-400 ml-2 block text-sm",children:"plat unic"})]}),w.jsxs("ul",{className:"space-y-3",children:[w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-gray-400 mr-2 h-5 w-5"}),w.jsx("span",{children:"Toate beneficiile planului Bronze"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-gray-400 mr-2 h-5 w-5"}),w.jsx("span",{children:"Analize de pia avansate"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-gray-400 mr-2 h-5 w-5"}),w.jsx("span",{children:"Strategii de tranzacionare"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-gray-400 mr-2 h-5 w-5"}),w.jsx("span",{children:"Acces la webinarii educaionale"})]})]})]}),w.jsx(Sh,{children:w.jsx(Nt,{onClick:()=>i("Silver",249),className:"w-full bg-gray-700 hover:bg-gray-600 text-white",children:"Alege planul Silver"})})]}),w.jsxs(Un,{className:`bg-gray-900 border ${(t==null?void 0:t.name)==="Gold"?"border-gold-500":"border-gray-800"} hover:border-gold-500 transition-all`,children:[w.jsxs(Ri,{className:"text-center",children:[w.jsx("div",{className:"mx-auto mb-4 p-2 rounded-full bg-gray-800 w-16 h-16 flex items-center justify-center",children:w.jsx(aV,{className:"text-gold-500 w-8 h-8"})}),w.jsx(Ni,{className:"text-2xl font-bold text-gray-200",children:"Plan Gold"}),w.jsx(ra,{className:"text-gray-400",children:"Pentru investitori avansai"})]}),w.jsxs(Xn,{children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("span",{className:"text-4xl font-bold",children:"500 RON"}),w.jsx("span",{className:"text-gray-400 ml-2 block text-sm",children:"plat unic"})]}),w.jsxs("ul",{className:"space-y-3",children:[w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-gold-500 mr-2 h-5 w-5"}),w.jsx("span",{children:"Toate beneficiile planului Silver"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-gold-500 mr-2 h-5 w-5"}),w.jsx("span",{children:"Mentoring personalizat 1:1"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-gold-500 mr-2 h-5 w-5"}),w.jsx("span",{children:"Video custom made"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-gold-500 mr-2 h-5 w-5"}),w.jsx("span",{children:"Acces la consultan premium"})]}),w.jsxs("li",{className:"flex items-center",children:[w.jsx(zr,{className:"text-gold-500 mr-2 h-5 w-5"}),w.jsx("span",{children:"Trading mpreun cu experii"})]})]})]}),w.jsx(Sh,{children:w.jsx(Nt,{onClick:()=>i("Gold",500),className:"w-full bg-gold-500 hover:bg-gold-600 text-black",children:"Alege planul Gold"})})]})]}),w.jsx("div",{className:"text-center mt-12 text-gray-400 max-w-2xl mx-auto",children:w.jsx("p",{className:"text-sm",children:"* Toate abonamentele sunt pli unice i ofer acces pe via la resursele selectate. Pentru ntrebri referitoare la abonamente, contacteaz echipa noastr de suport."})})]})}),w.jsx(qc,{}),t&&w.jsx(Jq,{open:n,onOpenChange:r,planName:t.name,amount:t.price*100})]})},JVe=()=>w.jsxs("div",{className:"min-h-screen bg-white text-gray-800",children:[w.jsx(zc,{}),w.jsxs("header",{className:"bg-[#00b894] text-white text-center py-16 px-4",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:" Money4All by Markets4All"}),w.jsx("p",{className:"text-xl mb-4",children:w.jsx("strong",{children:" De la informaie la aciune financiar "})}),w.jsx("p",{className:"text-lg",children:" [Locaia] |  [Data] |  [Ora]"})]}),w.jsx("div",{className:"max-w-3xl mx-auto my-16 px-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-[#00b894] mb-4",children:"Ce este Money4All?"}),w.jsx("p",{className:"mb-8 text-lg",children:"Un eveniment interactiv creat pentru a oferi acces tuturor la informaii financiare reale i utile  despre credite, investiii i fonduri europene. Indiferent de experiena sau bugetul tu, ai un loc la mas."}),w.jsx("h2",{className:"text-2xl font-bold text-[#00b894] mb-4",children:"Ce vei nva?"}),w.jsxs("ul",{className:"space-y-2 mb-8 text-lg",children:[w.jsxs("li",{className:"flex items-start",children:[w.jsx("span",{className:"text-[#00b894] mr-2",children:""}),w.jsx("span",{children:"Cum funcioneaz creditele i cum le foloseti eficient"})]}),w.jsxs("li",{className:"flex items-start",children:[w.jsx("span",{className:"text-[#00b894] mr-2",children:""}),w.jsx("span",{children:"Cum poi investi inteligent, chiar dac porneti cu puin"})]}),w.jsxs("li",{className:"flex items-start",children:[w.jsx("span",{className:"text-[#00b894] mr-2",children:""}),w.jsx("span",{children:"Ce fonduri europene sunt disponibile i cum poi aplica"})]}),w.jsxs("li",{className:"flex items-start",children:[w.jsx("span",{className:"text-[#00b894] mr-2",children:""}),w.jsx("span",{children:"Cum poi colabora cu Markets4All i face pai concrei spre stabilitate financiar"})]})]}),w.jsx("h2",{className:"text-2xl font-bold text-[#00b894] mb-4",children:"Ce te ateapt?"}),w.jsxs("ul",{className:"space-y-2 mb-8 text-lg",children:[w.jsxs("li",{className:"flex items-start",children:[w.jsx("span",{className:"text-[#00b894] mr-2",children:""}),w.jsx("span",{children:"3 sesiuni cu invitai specializai"})]}),w.jsxs("li",{className:"flex items-start",children:[w.jsx("span",{className:"text-[#00b894] mr-2",children:""}),w.jsx("span",{children:"Informaie practic, poveti reale"})]}),w.jsxs("li",{className:"flex items-start",children:[w.jsx("span",{className:"text-[#00b894] mr-2",children:""}),w.jsx("span",{children:"Oportuniti de colaborare i networking"})]})]}),w.jsx("div",{className:"text-center mt-10",children:w.jsx("a",{href:"#formular",className:"inline-block bg-[#00b894] hover:bg-[#00a382] text-white px-6 py-3 text-lg font-medium rounded-lg transition-colors",children:" nscrie-te acum  locuri limitate"})}),w.jsx("iframe",{id:"formular",src:"https://docs.google.com/forms/d/e/1FAIpQLSfXEXEMPLU/viewform?embedded=true",className:"w-full h-[500px] border-none mt-10",title:"Formular de nscriere",children:"Se ncarc formularul de nscriere..."})]})}),w.jsx("div",{className:"text-center text-gray-500 mb-8",children:" 2025 Markets4All | Contact: contact@markets4all.ro"}),w.jsx(qc,{})]}),ZVe=()=>{C.useEffect(()=>{(async()=>{try{const{data:{session:e}}=await Dv.auth.getSession();if(e!=null&&e.access_token){const{data:n,error:r}=await Dv.functions.invoke("generate-chatbot-token",{headers:{Authorization:`Bearer ${e.access_token}`}});if(r)throw r;n!=null&&n.token&&window.chatbase&&window.chatbase("identify",{token:n.token})}}catch(e){console.error("Error initializing Chatbase:",e)}})()},[])},QVe=new kae,e6e=()=>(ZVe(),w.jsx(Dae,{client:QVe,children:w.jsxs(dae,{children:[w.jsx(uie,{}),w.jsx(Fie,{}),w.jsx(Rse,{children:w.jsxs(Ese,{children:[w.jsx(es,{path:"/",element:w.jsx(D_e,{})}),w.jsx(es,{path:"/login",element:w.jsx(j_e,{})}),w.jsx(es,{path:"/register",element:w.jsx(U_e,{})}),w.jsx(es,{path:"/dashboard",element:w.jsx($Ve,{})}),w.jsx(es,{path:"/careers",element:w.jsx(qVe,{})}),w.jsx(es,{path:"/account",element:w.jsx(KVe,{})}),w.jsx(es,{path:"/subscriptions",element:w.jsx(YVe,{})}),w.jsx(es,{path:"/event",element:w.jsx(JVe,{})}),w.jsx(es,{path:"*",element:w.jsx(XVe,{})})]})})]})}));OH(document.getElementById("root")).render(w.jsx(e6e,{}));
